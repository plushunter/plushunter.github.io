<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="数据结构,算法,数组," />





  <link rel="alternate" href="/atom.xml" title="Free Will" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico?v=5.1.0" />






<meta name="description" content="数组相关题解java实现。">
<meta name="keywords" content="数据结构,算法,数组">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构与算法题解（2）：数组题解">
<meta property="og:url" content="http://yoursite.com/2017/08/03/数据结构与算法题解（2）：数组题解/index.html">
<meta property="og:site_name" content="Free Will">
<meta property="og:description" content="数组相关题解java实现。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/006tNbRwly1fwv4wtzyt7j30he0faaal.jpg">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4x43lsgj30g607v3yt.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNbRwly1fwv4xbu327j30e7076gln.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNbRwly1fwv4y4k6okj30h405cwed.jpg">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/006tNbRwly1fwv4ybujzzj30lg06eweo.jpg">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4yg910tj30kx05g3ym.jpg">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4xml56mj30i70bzdgc.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/006tNbRwly1fwv4xrr8mnj30kn0bz0te.jpg">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4xwuhojj304t02jjr5.jpg">
<meta property="og:updated_time" content="2018-11-03T12:15:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据结构与算法题解（2）：数组题解">
<meta name="twitter:description" content="数组相关题解java实现。">
<meta name="twitter:image" content="https://ws2.sinaimg.cn/large/006tNbRwly1fwv4wtzyt7j30he0faaal.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","onmobile":true},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>







  <title> 数据结构与算法题解（2）：数组题解 | Free Will </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9a21041c6a1d47620a3a748589516274";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Free Will</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tech-stack">
          <a href="/tech-stack" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-balance-scale"></i> <br />
            
            技术栈
          </a>
        </li>
      
        
        <li class="menu-item menu-item-holzwege">
          <a href="/holzwege" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tripadvisor"></i> <br />
            
            林中路
          </a>
        </li>
      
        
        <li class="menu-item menu-item-on-earth">
          <a href="/on-earth" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-empire"></i> <br />
            
            人间事
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user-secret"></i> <br />
            
            关于我
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜一下
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input" placeholder="search my blog...">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  

</nav>


 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/03/数据结构与算法题解（2）：数组题解/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="狗皮膏药">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/img/v.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Free Will">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Free Will" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                数据结构与算法题解（2）：数组题解
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-03T22:20:45+08:00">
                2017-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构与算法/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-eye"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p> 数组相关题解java实现。</p>
<a id="more"></a>
<h2 id="一、二维数组中的查找（剑3）"><a href="#一、二维数组中的查找（剑3）" class="headerlink" title="一、二维数组中的查找（剑3）"></a>一、二维数组中的查找（剑3）</h2><p>在一个二维数组中，每一行都按照从左到右的递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一维数组和一个整数，判断数组中是否含有该整数。</p>
<p>首先选取数组中右上角的数字，如果该数字等于我们要查找的数组，查找过程结束；如果该数字大于要查找的数组，剔除这个数字所在的列；如果该数字小于要查找的数组，剔除这个数字所在的行。也就是说如果要查找的数字不再数组的右上角，则每一次都在数组的查找范围中剔除一行或者一列，这样每一步都可以缩小查找的范围，直到找到要查找的数字，或者查找范围为空。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fwv4wtzyt7j30he0faaal.jpg" alt=""></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> target, <span class="keyword">int</span> [][] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> row = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> col = array[<span class="number">0</span>].length - <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(row&lt;=array.length-<span class="number">1</span>&amp;&amp;col&gt;=<span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(target == array[row][col])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(target&gt;array[row][col])&#123;</div><div class="line">                row++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                col--;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"># -*- coding:utf-8 -*-</div><div class="line">class Solution:</div><div class="line">    # array 二维列表</div><div class="line">    def Find(self, target, array):</div><div class="line">        # write code here</div><div class="line">        row = 0</div><div class="line">        col = len(array[0])-1</div><div class="line">        while row&lt;=len(array)-1 and col&gt;=0:</div><div class="line">            if target==array[row][col]:</div><div class="line">                return True</div><div class="line">            elif target&gt;array[row][col]:</div><div class="line">                row+=1</div><div class="line">            else:</div><div class="line">                col-=1</div><div class="line">        return False</div></pre></td></tr></table></figure>
<p>也可以把每一行看做是一个递增的序列，利用二分查找。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> target, <span class="keyword">int</span> [][] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">            <span class="keyword">int</span> low =<span class="number">0</span>;</div><div class="line">            <span class="keyword">int</span> high = array[i].length-<span class="number">1</span>;</div><div class="line">            <span class="keyword">while</span>(low&lt;=high)&#123;</div><div class="line">                <span class="keyword">int</span> mid = (low+high)/<span class="number">2</span>;</div><div class="line">                <span class="keyword">if</span>(array[i][mid]==target)</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(array[i][mid]&gt;target)</div><div class="line">                    high =mid-<span class="number">1</span>;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    low=mid+<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二、用两个栈实现队列（剑7）"><a href="#二、用两个栈实现队列（剑7）" class="headerlink" title="二、用两个栈实现队列（剑7）"></a>二、用两个栈实现队列（剑7）</h2><p>栈是一个非常常见的数据结构，它在计算机领域中被广泛应用，比如操作系统会给每个线程创建一个栈来存储函数调用时各个函数的参数、返回地址及临时变量等。栈的特点是后进先出，即最后被压入（push）栈的元素会第一个被弹出（pop）。</p>
<p>队列是另外一种很重要的数据结构。和栈不同的是，队列的特点是先进先出，即第一个进入队列的元素将会第一个出来。</p>
<p>栈和队列虽然是针锋相对的两个数据结构，但有意思的是他们却相互联系。</p>
<p>通过一个具体的例子来分析往队列插入和删除元素的过程。首先插入一个元素a，不妨先把它插入到stack1，此时stack1中的元素有{a}，stack2为空，再向stack1压入b和c，此时stack1中的元素有{a,b,c}，其中c处于栈顶，而stack2仍然是空的。</p>
<p>因为a是最先进的，最先被删除的元素应该是a，但a位于栈低。我们可以把stack1中的元素逐个弹出并压入stack2，元素在stack2的顺序正好和原来在stack1的顺序相反因此经过三次弹出stack1和压入stack2操作之后，stack1为空，而stack2的元素是{c,b,a}，这时就可以弹出stack2的栈顶a了，随后弹出stack2中的b和c，而这个过程中stack1始终为空.</p>
<p>从上面的分析我们可以总结出删除一个元素的步骤：<strong>当stack2中不为空时，在stack2的栈顶元素是最先进入队列的元素，可以弹出。如果stack2为空时，我们把stack1中的元素逐个弹出并压入stack2。由于先进入队列的元素被压到stack1的底端，经过弹出和压入之后就处于stack2的顶端了，又可以直接弹出。</strong></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4x43lsgj30g607v3yt.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">import java.util.Stack;</div><div class="line">public class Solution &#123;</div><div class="line">    Stack&lt;Integer&gt; stack1 = new Stack&lt;Integer&gt;();</div><div class="line">    Stack&lt;Integer&gt; stack2 = new Stack&lt;Integer&gt;();</div><div class="line">    </div><div class="line">    public void push(int node) &#123;</div><div class="line">        stack1.push(node);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public int pop() &#123;</div><div class="line">        while(!stack2.isEmpty())&#123;</div><div class="line">            return stack2.pop();</div><div class="line">        &#125;</div><div class="line">        while(!stack1.isEmpty())&#123;</div><div class="line">            stack2.push(stack1.pop());</div><div class="line">        &#125;</div><div class="line">        return stack2.pop();</div><div class="line">    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="三、旋转数组的最小数字（剑8）"><a href="#三、旋转数组的最小数字（剑8）" class="headerlink" title="三、旋转数组的最小数字（剑8）"></a>三、旋转数组的最小数字（剑8）</h2><p>在准备面试的时候，我们应该重点掌握二分查找、归并排序和快速排序，做到能随时正确、完整地写出它们的代码。</p>
<p>若面试题是要求在排序的数组（或部分排序的数组）中查找一个数字或者统计某个数字出现的次数，我们都可以尝试用二分查找算法。</p>
<p>把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。 输入一个非递减排序的数组的一个旋转，输出旋转数组的最小元素。 例如数组{3,4,5,1,2}为{1,2,3,4,5}的一个旋转，该数组的最小值为1。</p>
<p>可以采用二分法解答这个问题， mid = low + (high - low)/2 ，需要考虑三种情况： </p>
<ol>
<li>array[mid] &gt; array[high]:<br>出现这种情况的array类似[3,4,5,6,0,1,2]，此时最小数字一定在mid的右边。<br>low = mid + 1 <ol>
<li>array[mid] == array[high]: 出现这种情况的array类似 [1,0,1,1,1]   或者[1,1,1,0,1]，此时最小数字不好判断在mid左边，还是右边,这时只好一个一个试，low = low + 1 或者 high = high - 1 </li>
<li>array[mid] &lt; array[high]: 出现这种情况的array类似[2,2,3,4,5,6,6],此时最小数字一定就是array[mid]或者在mid的左边。因为右边必然都是递增的。   high = mid。注意这里有个坑：如果待查询的范围最后只剩两个数，那么mid一定会指向下标靠前的数字，比如 array = [4,6]，array[low] = 4 ;array[mid] = 4 ; array[high] = 6 ; 如果high = mid - 1，就会产生错误， 因此high = mid，但情形(1)中low = mid + 1就不会错误。</li>
</ol>
</li>
</ol>
<p>代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minNumberInRotateArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> high = array.length-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(low&lt;high)&#123;</div><div class="line">            <span class="keyword">int</span> mid = low+(high-low)/<span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span>(array[mid]&gt;array[high])&#123;</div><div class="line">                low=mid+<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(array[mid]==array[high])&#123;</div><div class="line">                high=high-<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                high = mid;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> array[low];</div><div class="line">    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="四、斐波那契数列（剑9）"><a href="#四、斐波那契数列（剑9）" class="headerlink" title="四、斐波那契数列（剑9）"></a>四、斐波那契数列（剑9）</h2><h3 id="4-1-斐波那契数列"><a href="#4-1-斐波那契数列" class="headerlink" title="4.1 斐波那契数列"></a>4.1 斐波那契数列</h3><p>大家都知道斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。n&lt;=39。<br>这个题可以说是迭代（Iteration） VS 递归（Recursion），f(n) = f(n-1) + f(n-2)，第一眼看就是递归啊，简直完美的递归环境，递归肯定很爽，这样想着关键代码两三行就搞定了，注意这题的n是从0开始的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(n&lt;=<span class="number">1</span>) <span class="keyword">return</span> n;</div><div class="line"><span class="keyword">else</span> <span class="keyword">return</span> Fibonacci(n-<span class="number">1</span>)+Fibonacci(n-<span class="number">2</span>);</div></pre></td></tr></table></figure>
<p>然而并没有什么用，测试用例里肯定准备着一个超大的n来让Stack Overflow，为什么会溢出？因为重复计算，而且重复的情况还很严重，举个小点的例子，n=4，看看程序怎么跑的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Fibonacci(4) = Fibonacci(3) + Fibonacci(2);</div><div class="line">                    = Fibonacci(2) + Fibonacci(1) + Fibonacci(1) + Fibonacci(0);</div><div class="line">                    = Fibonacci(1) + Fibonacci(0) + Fibonacci(1) + Fibonacci(1) + Fibonacci(0);</div></pre></td></tr></table></figure>
<p>由于我们的代码并没有记录Fibonacci(1)和Fibonacci(0)的结果，对于程序来说它每次递归都是未知的，因此光是n=4时f(1)就重复计算了3次之多。</p>
<p>更简单的办法是从下往上计算，首先根据f(0)和f(1)算出f(2)，再根据f(1)和f(2)算出f(3)……依此类推就可以算出第n项了。很容易理解，这种思路的时间复杂度是O(n)。实现代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> num1 = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> num2 = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> fibN=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</div><div class="line">            fibN=num1+num2;</div><div class="line">            num1=num2;</div><div class="line">            num2=fibN;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> fibN;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-2-跳台阶"><a href="#4-2-跳台阶" class="headerlink" title="4.2 跳台阶"></a>4.2 跳台阶</h3><p>一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级台阶总共有多少种跳法。</p>
<p>我们把n级台阶的跳法看成是n的函数，记为f(n)。当n&gt;2时，第一次跳的时候就有两种不同的选择：一是第一次只跳1级，此时跳法数目等于后面剩下的n-1级台阶的跳法数目，即为f(n-1)；另外一种选择是第一次跳2级，此时跳法数目等于后面剩下的n-2级台阶的跳法数目，即为f(n-2)，因此n级台阶的不同跳法的总数f(n)=f(n-1)+f(n-2)。分析到这里，我们不难看出这实际上是斐波那契数列了。<br>代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">JumpFloor</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(target == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(target == <span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(target == <span class="number">2</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> num1 = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> num2 = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> jump = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;target;i++)&#123;</div><div class="line">            jump = num1+num2;</div><div class="line">            num1=num2;</div><div class="line">            num2=jump;                </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> jump;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-3-变态跳台阶"><a href="#4-3-变态跳台阶" class="headerlink" title="4.3  变态跳台阶"></a>4.3  变态跳台阶</h3><p>一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法。</p>
<p>因为n级台阶，第一步有n种跳法：跳1级、跳2级、到跳n级。跳1级，剩下n-1级，则剩下跳法是f(n-1)，跳2级，剩下n-2级，则剩下跳法是f(n-2)。所以f(n)=f(n-1)+f(n-2)+…+f(1)，因为f(n-1)=f(n-2)+f(n-3)+…+f(1)，所以f(n)=2*f(n-1)</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">JumpFloorII</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">2</span>*JumpFloorII(target-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-4-矩形覆盖"><a href="#4-4-矩形覆盖" class="headerlink" title="4.4 矩形覆盖"></a>4.4 矩形覆盖</h3><p>我们可以用$2<em>1$的小矩形横着或者竖着去覆盖更大的矩形。请问用n个$2</em>1$的小矩形无重叠地覆盖一个$2*n$的大矩形，总共有多少种方法？</p>
<p>把$2<em>8$的覆盖方法记为f(8)。用一个$1</em>2$小矩形去覆盖大矩形的最左边有两个选择。竖着放或者横着放。当竖着放时，右边剩下$2<em>7$的区域，记为f(7)。横着放时，当$1</em>2$的小矩阵横着放在左上角的时候，左下角必须横着放一个$1<em>2$的小矩阵，剩下$2</em>6$，记为f(6)，因此f(8)=f(7)+f(6)。此时可以看出，仍然是斐波那契数列。</p>
<p>代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">RectCover</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> num1=<span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> num2=<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> cover =<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;target;i++)&#123;</div><div class="line">            cover = num1+num2;</div><div class="line">            num1=num2;</div><div class="line">            num2=cover; </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> cover;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="五、调整数组顺序使奇数位于偶数前面（剑14）"><a href="#五、调整数组顺序使奇数位于偶数前面（剑14）" class="headerlink" title="五、调整数组顺序使奇数位于偶数前面（剑14）"></a>五、调整数组顺序使奇数位于偶数前面（剑14）</h2><p><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fwv4xbu327j30e7076gln.jpg" alt=""><br>书上的方法类似于快排，但快排是不稳定的，即其相对位置会发生变化。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reOrderArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">if</span>(array==<span class="keyword">null</span>||length==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> right = length-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</div><div class="line">            <span class="keyword">while</span>(left&lt;right&amp;&amp;array[left]%<span class="number">2</span>==<span class="number">1</span>)&#123;</div><div class="line">                left++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span>(left&lt;right&amp;&amp;array[right]%<span class="number">2</span>==<span class="number">0</span>)&#123;</div><div class="line">                right--;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">int</span> temp =array[right];</div><div class="line">            array[right]=array[left];</div><div class="line">            array[left]=temp;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里要保证奇数和奇数，偶数和偶数之间的相对位置不变。可以使用插入排序的思想</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reOrderArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">if</span>(array==<span class="keyword">null</span>||length==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(array[i]%<span class="number">2</span>==<span class="number">1</span>)&#123;</div><div class="line">                <span class="keyword">int</span> curr = array[i];</div><div class="line">                <span class="keyword">int</span> j=i-<span class="number">1</span>;</div><div class="line">                <span class="keyword">while</span>(j&gt;=<span class="number">0</span>&amp;&amp;array[j]%<span class="number">2</span>==<span class="number">0</span>)&#123;</div><div class="line">                    array[j+<span class="number">1</span>]=array[j];</div><div class="line">                    j--;</div><div class="line">                &#125;</div><div class="line">                array[j+<span class="number">1</span>]=curr;</div><div class="line">            &#125;    </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="六、顺时针打印矩阵（剑20）"><a href="#六、顺时针打印矩阵（剑20）" class="headerlink" title="六、顺时针打印矩阵（剑20）"></a>六、顺时针打印矩阵（剑20）</h2><p>输入一个矩阵，按照从外向里以顺时针依次打印出每一个数字。例如，输入如下矩阵：<br><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fwv4y4k6okj30h405cwed.jpg" alt=""></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">printMatrix</span><span class="params">(<span class="keyword">int</span> [][] matrix)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> row = matrix.length;</div><div class="line">        <span class="keyword">int</span> col = matrix[<span class="number">0</span>].length;        </div><div class="line">        ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt; ();</div><div class="line">        <span class="comment">// 输入的二维数组非法，返回空的数组</span></div><div class="line">        <span class="keyword">if</span>(row==<span class="number">0</span>&amp;&amp;col==<span class="number">0</span>)<span class="keyword">return</span> result;</div><div class="line">        <span class="comment">// 定义四个关键变量，表示左上和右下的打印范围</span></div><div class="line">        <span class="keyword">int</span> left =<span class="number">0</span>,top=<span class="number">0</span>,right=col-<span class="number">1</span>,bottom=row-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;=right&amp;&amp;top&lt;=bottom)&#123;</div><div class="line">             <span class="comment">// left to right</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=left;i&lt;=right;i++)&#123;result.add(matrix[top][i]);&#125;</div><div class="line">            <span class="comment">// top to bottom</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=top+<span class="number">1</span>;i&lt;=bottom;i++)&#123;result.add(matrix[i][right]);&#125;</div><div class="line">            <span class="comment">// right to left</span></div><div class="line">            <span class="keyword">if</span>(top!=bottom)&#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=right-<span class="number">1</span>;i&gt;=left;i--)&#123;result.add(matrix[bottom][i]);&#125;&#125;</div><div class="line">            <span class="comment">// bottom to top</span></div><div class="line">            <span class="keyword">if</span>(left!=right)&#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=bottom-<span class="number">1</span>;i&gt;=top+<span class="number">1</span>;i--)&#123;result.add(matrix[i][left]);&#125;&#125;</div><div class="line">            left++;right--;top++;bottom--;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">       </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="七、包含min函数的栈（剑21）"><a href="#七、包含min函数的栈（剑21）" class="headerlink" title="七、包含min函数的栈（剑21）"></a>七、包含min函数的栈（剑21）</h2><p>定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。在该栈中，调用min、push及pop的时间复杂度都是O(1)。</p>
<p>可以利用一个辅助栈来存放最小值 </p>
<p>  <img src="https://ws1.sinaimg.cn/large/006tNbRwly1fwv4ybujzzj30lg06eweo.jpg" alt=""><br><img src="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4yg910tj30kx05g3ym.jpg" alt=""></p>
<p>  每入栈一次，就与辅助栈顶比较大小，如果小就入栈，如果大就入栈当前的辅助栈顶 。<br>  当出栈时，辅助栈也要出栈<br>  这种做法可以保证辅助栈顶一定都是最小元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">import java.util.Stack;</div><div class="line"></div><div class="line">public class Solution &#123;</div><div class="line">    Stack&lt;Integer&gt; data = new Stack&lt;Integer&gt;();</div><div class="line">    Stack&lt;Integer&gt; min = new Stack&lt;Integer&gt;();</div><div class="line">    </div><div class="line">    public void push(int node) &#123;</div><div class="line">        data.push(node);</div><div class="line">        if(min.empty())&#123;min.push(data.peek());&#125;</div><div class="line">        else if(data.peek()&lt;min.peek())&#123;min.push(data.peek());&#125;</div><div class="line">        else min.push(min.peek());</div><div class="line">        &#125;  </div><div class="line">    public void pop() &#123;</div><div class="line">        data.pop();</div><div class="line">        min.pop();      </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public int top() &#123;</div><div class="line">        return data.peek();</div><div class="line">        </div><div class="line">    &#125;    </div><div class="line">    public int min() &#123;</div><div class="line">        return min.peek();        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="八、栈的压入、弹出序列（剑22）"><a href="#八、栈的压入、弹出序列（剑22）" class="headerlink" title="八、栈的压入、弹出序列（剑22）"></a>八、栈的压入、弹出序列（剑22）</h2><p>输入两个整数序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。假设压入栈的所有数字均不相等。例如序列1,2,3,4,5是某栈的压入顺序，序列4，5，3，2，1是该压栈序列对应的一个弹出序列，但4，3，5，1，2就不可能是该压栈序列的弹出序列。（注意：这两个序列的长度是相等的）</p>
<p>借用一个辅助的栈，遍历压栈顺序，先讲第一个放入栈中，这里是1，然后判断栈顶元素是不是出栈顺序的第一个元素，这里是4，很显然1≠4，所以我们继续压栈，直到相等以后开始出栈，出栈一个元素，则将出栈顺序向后移动一位，直到不相等，这样循环等压栈顺序遍历完成，如果辅助栈还不为空，说明弹出序列不是该栈的弹出顺序。<br>举例：<br>入栈1,2,3,4,5<br>出栈4,5,3,2,1<br>首先1入辅助栈，此时栈顶1≠4，继续入栈2<br>此时栈顶2≠4，继续入栈3<br>此时栈顶3≠4，继续入栈4<br>此时栈顶4＝4，出栈4，弹出序列向后一位，此时为5，,辅助栈里面是1,2,3<br>此时栈顶3≠5，继续入栈5<br>此时栈顶5=5，出栈5,弹出序列向后一位，此时为3，,辅助栈里面是1,2,3<br>….<br>依次执行，最后辅助栈为空。如果不为空说明弹出序列不是该栈的弹出顺序。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">IsPopOrder</span><span class="params">(<span class="keyword">int</span> [] pushA,<span class="keyword">int</span> [] popA)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(pushA.length==<span class="number">0</span>||popA.length==<span class="number">0</span>)<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        Stack&lt;Integer&gt; S=<span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">        <span class="keyword">int</span> popIndex = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pushA.length;i++)&#123;</div><div class="line">            S.push(pushA[i]);</div><div class="line">            <span class="keyword">while</span>(!S.empty()&amp;&amp;popA[popIndex]==S.peek())&#123;</div><div class="line">                S.pop();</div><div class="line">                popIndex++;</div><div class="line">            &#125;            </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> S.empty();      </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="九、数组中出现次数超过一半的数字（剑29）"><a href="#九、数组中出现次数超过一半的数字（剑29）" class="headerlink" title="九、数组中出现次数超过一半的数字（剑29）"></a>九、数组中出现次数超过一半的数字（剑29）</h2><p>数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。</p>
<p>数组中有一个数字出现的次数超过数组长度的一半，也就是说它出现的次数比其他所有数字出现的次数的和还要多。因此我们可以考虑在遍历数组的时候保存两个值：一个是数组的一个数字，一个是次数。当我们遍历到下一个数字的时候，如果下一个数字和我们之前保存的数字相同，则次数加1；如果不同，则次数减1；如果次数为0，则保存下一个数字，并把次数设为1。</p>
<p>还要判断这个数字是否超过数组长度的一半，如果不存在输出0。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(array==<span class="keyword">null</span>||array.length==<span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> result=array[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> count=<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;array.length;i++)&#123;</div><div class="line">           <span class="keyword">if</span>(result==array[i])&#123;</div><div class="line">               count++; &#125;</div><div class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(result!=array[i])&#123;</div><div class="line">               count--; &#125;</div><div class="line">           <span class="keyword">if</span>(count==<span class="number">0</span>)&#123;</div><div class="line">               result=array[i];</div><div class="line">               count=<span class="number">1</span>;</div><div class="line">           &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> times=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(array[i]==result)&#123;</div><div class="line">                times++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(times*<span class="number">2</span>&lt;=array.length)&#123;</div><div class="line">            System.out.println(times);</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> </div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十、最小的K个数（剑30）"><a href="#十、最小的K个数（剑30）" class="headerlink" title="十、最小的K个数（剑30）"></a>十、最小的K个数（剑30）</h2><p>输入n个整数，找出其中最小的K个数。例如输入4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4,。</p>
<p>第一种方法，借用partition函数</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList; </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123; </div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">GetLeastNumbers_Solution</span><span class="params">(<span class="keyword">int</span>[] input, <span class="keyword">int</span> k)</span> </span>&#123; </div><div class="line">        ArrayList&lt;Integer&gt; output = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();         </div><div class="line">        <span class="keyword">int</span> length = input.length; </div><div class="line">        <span class="keyword">if</span> (input == <span class="keyword">null</span> || length &lt;= <span class="number">0</span> || length &lt; k || k&lt;= <span class="number">0</span>) &#123; </div><div class="line">            <span class="keyword">return</span> output; </div><div class="line">        &#125; </div><div class="line">        <span class="keyword">int</span> low = <span class="number">0</span>; </div><div class="line">        <span class="keyword">int</span> high = length - <span class="number">1</span>; </div><div class="line">        <span class="keyword">while</span>(low&lt;high) &#123; </div><div class="line">            <span class="keyword">int</span> pivotloc = partition(input,low,high); </div><div class="line">            <span class="keyword">if</span>(pivotloc==k-<span class="number">1</span>)<span class="keyword">break</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(pivotloc &lt; k - <span class="number">1</span>) &#123; </div><div class="line">                low = pivotloc + <span class="number">1</span>; <span class="comment">//在右边</span></div><div class="line">            &#125; </div><div class="line">            <span class="keyword">else</span> &#123; </div><div class="line">                high = pivotloc - <span class="number">1</span>; <span class="comment">//在左边             </span></div><div class="line">            &#125; </div><div class="line">        &#125; </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; k;i++) &#123; </div><div class="line">            output.add(input[i]); </div><div class="line">        &#125; </div><div class="line">        <span class="keyword">return</span> output; </div><div class="line">    &#125;</div><div class="line">   <span class="comment">//基准左右分区 </span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] input,<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span> </span>&#123; </div><div class="line">        <span class="keyword">int</span> pivot = input[low]; </div><div class="line">        <span class="keyword">while</span>(low &lt; high) &#123; </div><div class="line">            <span class="keyword">while</span>(input[high] &gt;= pivot &amp;&amp; low &lt; high) high--; </div><div class="line">            input[low] = input[high]; </div><div class="line">            <span class="keyword">while</span>(input[low] &lt;= pivot &amp;&amp; low &lt;high) low++; </div><div class="line">            input[high] = input[low]; </div><div class="line">        &#125; </div><div class="line">        input[low] = pivot; </div><div class="line">        <span class="keyword">return</span> low; </div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第二种方法</p>
<p>用最大堆保存这k个数，每次只和堆顶比，如果比堆顶小，删除堆顶，新数入堆。时间 $O(NlogK)$ 空间 $O(K)$</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.PriorityQueue;</div><div class="line"><span class="keyword">import</span> java.util.Comparator;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">   <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">GetLeastNumbers_Solution</span><span class="params">(<span class="keyword">int</span>[] input, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">       ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">       <span class="keyword">int</span> length = input.length;</div><div class="line">       <span class="keyword">if</span>(k &gt; length || k == <span class="number">0</span>)&#123;</div><div class="line">           <span class="keyword">return</span> result;</div><div class="line">       &#125;</div><div class="line">        PriorityQueue&lt;Integer&gt; maxHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;(k, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123; </div><div class="line">            <span class="meta">@Override</span><span class="comment">//PriorityQueue默认是小顶堆，实现大顶堆，需要反转默认排序器</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> o2.compareTo(o1);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">//遍历数组时将数字加入优先队列（堆），一旦堆的大小大于k就将堆顶元素去除，确保堆的大小为k。遍历完后堆中的数就是最小的K个数。</span></div><div class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i:input) &#123;</div><div class="line">            maxHeap.offer(i);</div><div class="line">            <span class="keyword">if</span>(maxHeap.size()&gt;k)</div><div class="line">                maxHeap.poll();           </div><div class="line">        &#125;</div><div class="line">       <span class="comment">//输出大顶堆中的数</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> integer : maxHeap) &#123;</div><div class="line">            result.add(integer);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十一、连续子数组的最大和（剑31）"><a href="#十一、连续子数组的最大和（剑31）" class="headerlink" title="十一、连续子数组的最大和（剑31）"></a>十一、连续子数组的最大和（剑31）</h2><p>输入一个整型数组，数组中有正数也有负数。数组中一个或连续的多个整数组成一个子数组。求所有子数组的和的最大值。要求时间复杂度为O(n)</p>
<p>第一种方法</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">FindGreatestSumOfSubArray</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(array.length==<span class="number">0</span>||array==<span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> cSum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> result = array[<span class="number">0</span>];<span class="comment">// result存储最大和，不能初始为0，存在负数</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(cSum&lt;<span class="number">0</span>)&#123;</div><div class="line">                cSum=array[i];<span class="comment">// 当前和&lt;0，抛弃不要</span></div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                cSum += array[i];<span class="comment">//否则累加上去</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(cSum&gt;result)&#123;</div><div class="line">                result = cSum;<span class="comment">// 存储当前的最大结果</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;                    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第二种方法：动态规划</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">F（i）：以array[i]为末尾元素的子数组的和的最大值，子数组的元素的相对位置不变  </div><div class="line">     F（i）=max（F（i-<span class="number">1</span>）+array[i] ， array[i]）  </div><div class="line">     res：所有子数组的和的最大值  </div><div class="line">     res=max（res，F（i））  </div><div class="line"></div><div class="line">     如数组[<span class="number">6</span>, -<span class="number">3</span>, -<span class="number">2</span>, <span class="number">7</span>, -<span class="number">15</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>]  </div><div class="line">     初始状态：  </div><div class="line">         F（<span class="number">0</span>）=<span class="number">6</span>  </div><div class="line">         res=<span class="number">6</span>  </div><div class="line">     i=<span class="number">1</span>：  </div><div class="line">         F（<span class="number">1</span>）=max（F（<span class="number">0</span>）-<span class="number">3</span>，-<span class="number">3</span>）=max（<span class="number">6</span>-<span class="number">3</span>，<span class="number">3</span>）=<span class="number">3</span>  </div><div class="line">         res=max（F（<span class="number">1</span>），res）=max（<span class="number">3</span>，<span class="number">6</span>）=<span class="number">6</span>  </div><div class="line">     i=<span class="number">2</span>：  </div><div class="line">         F（<span class="number">2</span>）=max（F（<span class="number">1</span>）-<span class="number">2</span>，-<span class="number">2</span>）=max（<span class="number">3</span>-<span class="number">2</span>，-<span class="number">2</span>）=<span class="number">1</span>  </div><div class="line">         res=max（F（<span class="number">2</span>），res）=max（<span class="number">1</span>，<span class="number">6</span>）=<span class="number">6</span>  </div><div class="line">     i=<span class="number">3</span>：  </div><div class="line">         F（<span class="number">3</span>）=max（F（<span class="number">2</span>）+<span class="number">7</span>，<span class="number">7</span>）=max（<span class="number">1</span>+<span class="number">7</span>，<span class="number">7</span>）=<span class="number">8</span>  </div><div class="line">         res=max（F（<span class="number">2</span>），res）=max（<span class="number">8</span>，<span class="number">6</span>）=<span class="number">8</span>  </div><div class="line">     i=<span class="number">4</span>：  </div><div class="line">         F（<span class="number">4</span>）=max（F（<span class="number">3</span>）-<span class="number">15</span>，-<span class="number">15</span>）=max（<span class="number">8</span>-<span class="number">15</span>，-<span class="number">15</span>）=-<span class="number">7</span>  </div><div class="line">         res=max（F（<span class="number">4</span>），res）=max（-<span class="number">7</span>，<span class="number">8</span>）=<span class="number">8</span>  </div><div class="line">     以此类推  </div><div class="line">     最终res的值为<span class="number">8</span></div></pre></td></tr></table></figure>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">FindGreatestSumOfSubArray</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> res = array[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> max = array[<span class="number">0</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;array.length;i++)&#123;</div><div class="line">            max=Math.max(max+array[i],array[i]);</div><div class="line">            res = Math.max(max,res);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十二、从1到n整数中1出现的次数（剑32）"><a href="#十二、从1到n整数中1出现的次数（剑32）" class="headerlink" title="十二、从1到n整数中1出现的次数（剑32）"></a>十二、从1到n整数中1出现的次数（剑32）</h2><p>输入一个整数n，求1到n这n个整数的十进制表示中1出现的次数。例如输入12，从1到12这些整数中包含1的数字有1、10、11、12，1一共出现了5次。</p>
<p>一、1的数目</p>
<p>编程之美上给出的规律：</p>
<ol>
<li>如果第i位（自右至左，从1开始标号）上的数字为0，则第i位可能出现1的次数由更高位决定（若没有高位，视高位为0），等于更高位数字X当前位数的权重$10^{i-1}$。</li>
<li>如果第i位上的数字为1，则第i位上可能出现1的次数不仅受更高位影响，还受低位影响（若没有低位，视低位为0），等于更高位数字X当前位数的权重$10^{i-1}+$（低位数字+1）。</li>
<li>如果第i位上的数字大于1，则第i位上可能出现1的次数仅由更高位决定（若没有高位，视高位为0），等于（更高位数字+1）X当前位数的权重$10^{i-1}$。</li>
</ol>
<p>二、X的数目<br>这里的  X∈[1,9] ，因为  X=0  不符合下列规律，需要单独计算。<br>首先要知道以下的规律：</p>
<ul>
<li>从 1 至 10，在它们的个位数中，任意的 X 都出现了 1 次。</li>
<li>从 1 至 100，在它们的十位数中，任意的 X 都出现了 10 次。</li>
<li>从 1 至 1000，在它们的百位数中，任意的 X 都出现了 100 次。</li>
</ul>
<p>依此类推，从 1 至  $10^i$ ，在它们的左数第二位（右数第  i  位）中，任意的 X 都出现了  $10^{i−1}$  次。</p>
<p>这个规律很容易验证，这里不再多做说明。</p>
<p>接下来以  n=2593,X=5  为例来解释如何得到数学公式。从 1 至 2593 中，数字 5 总计出现了 813 次，其中有 259 次出现在个位，260 次出现在十位，294 次出现在百位，0 次出现在千位。</p>
<p>现在依次分析这些数据，首先是个位。从 1 至 2590 中，包含了 259 个 10，因此任意的 X 都出现了 259 次。最后剩余的三个数 2591, 2592 和 2593，因为它们最大的个位数字 3 &lt; X，因此不会包含任何 5。（也可以这么看，3&lt;X，则个位上可能出现的X的次数仅由更高位决定，等于更高位数字$（259）\times 10^{1-1}=259$）。</p>
<p>然后是十位。从 1 至 2500 中，包含了 25 个 100，因此任意的 X 都出现了  25×10=250  次。剩下的数字是从 2501 至 2593，它们最大的十位数字9&gt;X，因此会包含全部10个5。最后总计250 + 10 = 260。（也可以这么看，9&gt;X，则十位上可能出现的X的次数仅由更高位决定，等于更高位数字$（25+1）\times 10^{2-1}=260$）。</p>
<p>接下来是百位。从 1 至 2000 中，包含了 2 个 1000，因此任意的 X 都出现了  2×100=200  次。剩下的数字是从 2001 至 2593，它们最大的百位数字 5 == X，这时情况就略微复杂，它们的百位肯定是包含 5 的，但不会包含全部 100 个。如果把百位是 5 的数字列出来，是从 2500 至 2593，数字的个数与百位和十位数字相关，是 93+1 = 94。最后总计 200 + 94 = 294。（也可以这么看，5==X，则百位上可能出现X的次数不仅受更高位影响，还受低位影响，等于更高位数字$（2）\times 10^{3-1}+（93+1）=294$）。</p>
<p>最后是千位。现在已经没有更高位，因此直接看最大的千位数字 2 &lt; X，所以不会包含任何 5。（也可以这么看，2&lt;X，则千位上可能出现的X的次数仅由更高位决定，等于更高位数字$（0）\times 10^{4-1}=0$）。</p>
<p>到此为止，已经计算出全部数字 5 的出现次数。<br>总结一下以上的算法，可以看到，当计算右数第  i  位包含的 X 的个数时：</p>
<ul>
<li>取第  i  位左边（高位）的数字，乘以$10^{i−1}$ ，得到基础值a 。</li>
<li>取第  i  位数字，计算修正值：<ul>
<li>如果大于 X，则结果为  $a+ 10^{i−1}$ 。 </li>
<li>如果小于 X，则结果为  a 。</li>
<li>如果等 X，则取第  i  位右边（低位）数字，设为  b ，最后结果为  a+b+1 。</li>
</ul>
</li>
</ul>
<p>相应的代码非常简单，效率也非常高，时间复杂度只有 $ O( log_ {10} n) $。</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">NumberOf1Between1AndN_Solution</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> len = getLenOfNum(n);</div><div class="line">        <span class="keyword">if</span> (len == <span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> tmp = (<span class="keyword">int</span>) Math.pow(<span class="number">10</span>, len - <span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> first = n / tmp;</div><div class="line">        <span class="keyword">int</span> firstOneNum = first == <span class="number">1</span> ? n % tmp + <span class="number">1</span> : tmp;</div><div class="line">        <span class="keyword">int</span> otherOneNUm = first * (len - <span class="number">1</span>) * (tmp / <span class="number">10</span>);</div><div class="line">        <span class="keyword">return</span> firstOneNum + otherOneNUm + NumberOf1Between1AndN_Solution(n % tmp);</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getLenOfNum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</div><div class="line">            len++;</div><div class="line">            n /= <span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> len;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十三、把数组排成最小的数（剑33）"><a href="#十三、把数组排成最小的数（剑33）" class="headerlink" title="十三、把数组排成最小的数（剑33）"></a>十三、把数组排成最小的数（剑33）</h2><p>输入一个正整数数组，把数组里所有数字拼接起来排成一个数，打印能拼接出的所有数字中最小的一个。例如输入数组{3，32，321}，则打印出这三个数字能排成的最小数字为321323。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.Collections;</div><div class="line"><span class="keyword">import</span> java.util.Comparator;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">PrintMinNumber</span><span class="params">(<span class="keyword">int</span> [] numbers)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> n;</div><div class="line">        String s=<span class="string">""</span>;</div><div class="line">        ArrayList&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        n=numbers.length;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</div><div class="line">            list.add(numbers[i]);<span class="comment">//将数组放入arrayList中</span></div><div class="line">        &#125;</div><div class="line">        <span class="comment">//实现了Comparator接口的compare方法，将集合元素按照compare方法的规则进行排序</span></div><div class="line">        Collections.sort(list,<span class="keyword">new</span> Comparator&lt;Integer&gt;()&#123;         </div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer str1, Integer str2)</span> </span>&#123;</div><div class="line">                <span class="comment">// TODO Auto-generated method stub         </span></div><div class="line">                    String s1=str1+<span class="string">""</span>+str2;</div><div class="line">                    String s2=str2+<span class="string">""</span>+str1;</div><div class="line">                     </div><div class="line">                    <span class="keyword">return</span> s1.compareTo(s2);</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">            </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j:list)&#123;</div><div class="line">            s+=j;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> s;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十四、丑数（剑34）"><a href="#十四、丑数（剑34）" class="headerlink" title="十四、丑数（剑34）"></a>十四、丑数（剑34）</h2><p>把只包含因子2、3和5的数称作丑数（Ugly Number）。例如6、8都是丑数，但14不是，因为它包含因子7。 习惯上我们把1当做是第一个丑数。求按从小到大的顺序的第N个丑数。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">GetUglyNumber_Solution</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(index&lt;<span class="number">7</span>)<span class="keyword">return</span> index;</div><div class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[index];</div><div class="line">        res[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> t2 = <span class="number">0</span>, t3 = <span class="number">0</span>, t5 = <span class="number">0</span>, i;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;index;i++)&#123;</div><div class="line">            res[i] = min(res[t2]*<span class="number">2</span>,min(res[t3]*<span class="number">3</span>,res[t5]*<span class="number">5</span>));</div><div class="line">            <span class="keyword">if</span>(res[i] == res[t2]*<span class="number">2</span>)t2++;</div><div class="line">            <span class="keyword">if</span>(res[i] == res[t3]*<span class="number">3</span>)t3++;</div><div class="line">            <span class="keyword">if</span>(res[i] == res[t5]*<span class="number">5</span>)t5++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res[index-<span class="number">1</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> (a&gt;b)? b:a;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十五、数组中的逆序对（剑36）"><a href="#十五、数组中的逆序对（剑36）" class="headerlink" title="十五、数组中的逆序对（剑36）"></a>十五、数组中的逆序对（剑36）</h2><p>在数组中的两个数字如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组，求出这个数组中的逆序对的总数。例如在数组{7，5，6，4}中，一共存在5个逆序对，分别是（7，6）、（7，5）、（7，4）、（5，4）和（6，4）。</p>
<p>可以按照归并排序的思路，先把数组分隔成子数组，先统计出子数组内部的逆序对的数目，然后再统计出两个相邻子数组之间的逆序对的数目。在统计逆序对的过程中，还需要对数组进行排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    int cnt;</div><div class="line"> </div><div class="line">    public int InversePairs(int[] array) &#123;</div><div class="line">        cnt = 0;</div><div class="line">        if (array != null)</div><div class="line">            mergeSortUp2Down(array, 0, array.length - 1);</div><div class="line">        return cnt;</div><div class="line">    &#125; </div><div class="line">    /*</div><div class="line">     * 归并排序(从上往下)</div><div class="line">     */</div><div class="line">    public void mergeSortUp2Down(int[] a, int start, int end) &#123;</div><div class="line">        if (start &gt;= end)</div><div class="line">            return;</div><div class="line">        int mid = (start + end) &gt;&gt; 1;</div><div class="line"> </div><div class="line">        mergeSortUp2Down(a, start, mid);</div><div class="line">        mergeSortUp2Down(a, mid + 1, end);</div><div class="line"> </div><div class="line">        merge(a, start, mid, end);</div><div class="line">    &#125; </div><div class="line">    /*</div><div class="line">     * 将一个数组中的两个相邻有序区间合并成一个</div><div class="line">     */</div><div class="line">    public void merge(int[] a, int start, int mid, int end) &#123;</div><div class="line">        int[] tmp = new int[end - start + 1];</div><div class="line"> </div><div class="line">        int i = start, j = mid + 1, k = 0;</div><div class="line">        while (i &lt;= mid &amp;&amp; j &lt;= end) &#123;</div><div class="line">            if (a[i] &lt;= a[j])</div><div class="line">                tmp[k++] = a[i++];</div><div class="line">            else &#123;</div><div class="line">                tmp[k++] = a[j++];</div><div class="line">                cnt += mid - i + 1;  //关键的一步，统计逆序对..........</div><div class="line">                cnt%=1000000007;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        while (i &lt;= mid)</div><div class="line">            tmp[k++] = a[i++];</div><div class="line">        while (j &lt;= end)</div><div class="line">            tmp[k++] = a[j++];</div><div class="line">        for (k = 0; k &lt; tmp.length; k++)</div><div class="line">            a[start + k] = tmp[k];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十六、数字在排序数组中出现的次数（剑38）"><a href="#十六、数字在排序数组中出现的次数（剑38）" class="headerlink" title="十六、数字在排序数组中出现的次数（剑38）"></a>十六、数字在排序数组中出现的次数（剑38）</h2><p>统计一个数字在排序数组中出现的次数。</p>
<p>利用二分查找直接找到第一个K和最后一个K。以下代码使用递归方法找到第一个K，使用循环方法最后一个K。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">GetNumberOfK</span><span class="params">(<span class="keyword">int</span> [] array , <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">if</span>(length == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> firstK = getFirstK(array, k, <span class="number">0</span>, length-<span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> lastK = getLastK(array, k, <span class="number">0</span>, length-<span class="number">1</span>);</div><div class="line">        <span class="keyword">if</span>(firstK != -<span class="number">1</span> &amp;&amp; lastK != -<span class="number">1</span>)&#123;</div><div class="line">             <span class="keyword">return</span> lastK - firstK + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//递归写法</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getFirstK</span><span class="params">(<span class="keyword">int</span> [] array , <span class="keyword">int</span> k, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(start &gt; end)&#123;</div><div class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> mid = (start + end) &gt;&gt; <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(array[mid] &gt; k)&#123;</div><div class="line">            <span class="keyword">return</span> getFirstK(array, k, start, mid-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (array[mid] &lt; k)&#123;</div><div class="line">            <span class="keyword">return</span> getFirstK(array, k, mid+<span class="number">1</span>, end);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mid-<span class="number">1</span> &gt;=<span class="number">0</span> &amp;&amp; array[mid-<span class="number">1</span>] == k)&#123;</div><div class="line">            <span class="keyword">return</span> getFirstK(array, k, start, mid-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> mid;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//循环写法</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getLastK</span><span class="params">(<span class="keyword">int</span> [] array , <span class="keyword">int</span> k, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">int</span> mid = (start + end) &gt;&gt; <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(start &lt;= end)&#123;</div><div class="line">            <span class="keyword">if</span>(array[mid] &gt; k)&#123;</div><div class="line">                end = mid-<span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(array[mid] &lt; k)&#123;</div><div class="line">                start = mid+<span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(mid+<span class="number">1</span> &lt;= length-<span class="number">1</span> &amp;&amp; array[mid+<span class="number">1</span>] == k)&#123;</div><div class="line">                start = mid+<span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            </div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">return</span> mid;</div><div class="line">                &#125;</div><div class="line">            mid = (start + end) &gt;&gt; <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">     &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十七、数组中只出现一次的数字（剑40）"><a href="#十七、数组中只出现一次的数字（剑40）" class="headerlink" title="十七、数组中只出现一次的数字（剑40）"></a>十七、数组中只出现一次的数字（剑40）</h2><p>一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是$O(n)$，空间复杂度是$O(1)$。</p>
<p>首先我们考虑这个问题的一个简单版本：一个数组里除了一个数字之外，其他的数字都出现了两次。请写程序找出这个只出现一次的数字。</p>
<p>这个题目的突破口在哪里？题目为什么要强调有一个数字出现一次，其他的出现两次？我们想到了异或运算的性质：任何一个数字异或它自己都等于0 。也就是说，如果我们从头到尾依次异或数组中的每一个数字，那么最终的结果刚好是那个只出现一次的数字，因为那些出现两次的数字全部在异或中抵消掉了。</p>
<p>有了上面简单问题的解决方案之后，我们回到原始的问题。如果能够把原数组分为两个子数组。在每个子数组中，包含一个只出现一次的数字，而其它数字都出现两次。如果能够这样拆分原数组，按照前面的办法就是分别求出这两个只出现一次的数字了。<br> 我们还是从头到尾依次异或数组中的每一个数字，那么最终得到的结果就是两个只出现一次的数字的异或结果。因为其它数字都出现了两次，在异或中全部抵消掉了。由于这两个数字肯定不一样，那么这个异或结果肯定不为0 ，也就是说在这个结果数字的二进制表示中至少就有一位为1 。我们在结果数字中找到第一个为1 的位的位置，记为第N 位。现在我们以第N 位是不是1 为标准把原数组中的数字分成两个子数组，第一个子数组中每个数字的第N 位都为1 ，而第二个子数组的每个数字的第N 位都为0 。<br> 现在我们已经把原数组分成了两个子数组，每个子数组都包含一个只出现一次的数字，而其它数字都出现了两次。因此到此为止，所有的问题我们都已经解决。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//num1,num2分别为长度为1的数组。传出参数</span></div><div class="line"><span class="comment">//将num1[0],num2[0]设置为返回结果</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">FindNumsAppearOnce</span><span class="params">(<span class="keyword">int</span> [] array,<span class="keyword">int</span> num1[] , <span class="keyword">int</span> num2[])</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span>(array==<span class="keyword">null</span> ||array.length&lt;<span class="number">2</span>)</div><div class="line">           <span class="keyword">return</span> ;</div><div class="line">       <span class="keyword">int</span> temp = <span class="number">0</span>;</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)</div><div class="line">           temp ^= array[i];</div><div class="line">        </div><div class="line">       <span class="keyword">int</span> indexOf1 = findFirstBitIs(temp);</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">           <span class="keyword">if</span>(isBit(array[i], indexOf1))</div><div class="line">               num1[<span class="number">0</span>]^=array[i];</div><div class="line">           <span class="keyword">else</span></div><div class="line">               num2[<span class="number">0</span>]^=array[i];</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">    <span class="comment">//在正数num的二进制表示中找到最右边是1的位</span></div><div class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findFirstBitIs</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</div><div class="line">       <span class="keyword">int</span> indexBit = <span class="number">0</span>;</div><div class="line">       <span class="keyword">while</span>(((num &amp; <span class="number">1</span>)==<span class="number">0</span>) &amp;&amp; (indexBit)&lt;<span class="number">8</span>*<span class="number">4</span>)&#123;</div><div class="line">           num = num &gt;&gt; <span class="number">1</span>;</div><div class="line">           ++indexBit;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> indexBit;</div><div class="line">   &#125;</div><div class="line">   <span class="comment">//判断在num的二进制表示中从右边数起的indexBit位是不是1.</span></div><div class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBit</span><span class="params">(<span class="keyword">int</span> num,<span class="keyword">int</span> indexBit)</span></span>&#123;</div><div class="line">       num = num &gt;&gt; indexBit;</div><div class="line">       <span class="keyword">return</span> (num &amp; <span class="number">1</span>) == <span class="number">1</span>;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十八、-和为s的两个数字（剑41-1）"><a href="#十八、-和为s的两个数字（剑41-1）" class="headerlink" title="十八、 和为s的两个数字（剑41.1）"></a>十八、 和为s的两个数字（剑41.1）</h2><p>一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。</p>
<p>数列满足递增，设两个头尾两个指针i和j， </p>
<ul>
<li>若ai + aj == sum，就是答案（相差越远乘积越小） </li>
<li>若ai + aj &gt; sum，aj肯定不是答案之一（前面已得出 i 前面的数已是不可能），j -= 1 </li>
<li>若ai + aj &lt; sum，ai肯定不是答案之一（前面已得出 j 后面的数已是不可能），i += 1 </li>
</ul>
<p>时间复杂度为O(n)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">import java.util.ArrayList;</div><div class="line">public class Solution &#123;</div><div class="line">    public ArrayList&lt;Integer&gt; FindNumbersWithSum(int [] array,int sum) &#123;</div><div class="line">        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();</div><div class="line">        if(array==null||array.length&lt;2)&#123;</div><div class="line">            return list;</div><div class="line">        &#125;</div><div class="line">        int i=0,j=array.length-1;</div><div class="line">        while(i&lt;j)&#123;</div><div class="line">            if(array[i]+array[j]==sum)&#123;</div><div class="line">                list.add(array[i]);</div><div class="line">                list.add(array[j]);</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            else if(array[i]+array[j]&gt;sum)&#123;</div><div class="line">                j--;</div><div class="line">            &#125;</div><div class="line">            else</div><div class="line">                i++;</div><div class="line">        &#125;</div><div class="line">        return list;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="十九、和为s的连续正数序列（剑41-2）"><a href="#十九、和为s的连续正数序列（剑41-2）" class="headerlink" title="十九、和为s的连续正数序列（剑41.2）"></a>十九、和为s的连续正数序列（剑41.2）</h2><p>输入一个正数s，打印出所有和为s的连续正数序列（至少含有两个数）。例如输入15，由于1+2+3+4+5=4+5+6=7+8=15，所以结果打印出三个连续序列1~5、4~6和7~8。</p>
<p>考虑用两个数small和big分别表示序列的最小值和最大值。首先把small初始化为1，big初始化为2，如果从small到big的序列和大于s，我们可以从序列中去掉较小的值，也就是增大small的值。如果从small到big的序列和小于s，我们可以增大big，让这个序列包含更多的数字。因为这个序列至少要有两个数字，我们一直增加small到（1+s）/2为止。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="comment">/*</span></div><div class="line">*初始化small=1，big=2;</div><div class="line">*small到big序列和小于sum，big++;大于sum，small++;</div><div class="line">*当small增加到(1+sum)/2是停止</div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; FindContinuousSequence(<span class="keyword">int</span> sum) &#123;</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; lists=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">        <span class="keyword">if</span>(sum&lt;=<span class="number">1</span>)&#123;<span class="keyword">return</span> lists;&#125;</div><div class="line">        <span class="keyword">int</span> small=<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> big=<span class="number">2</span>;</div><div class="line">        <span class="keyword">while</span>(small!=(<span class="number">1</span>+sum)/<span class="number">2</span>)&#123;          <span class="comment">//当small==(1+sum)/2的时候停止</span></div><div class="line">            <span class="keyword">int</span> curSum=sumOfList(small,big);</div><div class="line">            <span class="keyword">if</span>(curSum==sum)&#123;</div><div class="line">                ArrayList&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=small;i&lt;=big;i++)&#123;</div><div class="line">                    list.add(i);</div><div class="line">                &#125;</div><div class="line">                lists.add(list);</div><div class="line">                small++;big++;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(curSum&lt;sum)&#123;</div><div class="line">                big++;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                small++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> lists;</div><div class="line">    &#125;     </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumOfList</span><span class="params">(<span class="keyword">int</span> head,<span class="keyword">int</span> leap)</span></span>&#123;        <span class="comment">//计算当前序列的和</span></div><div class="line">        <span class="keyword">int</span> sum=head;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head+<span class="number">1</span>;i&lt;=leap;i++)&#123;</div><div class="line">            sum+=i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十、扑克牌的顺子（剑44）"><a href="#二十、扑克牌的顺子（剑44）" class="headerlink" title="二十、扑克牌的顺子（剑44）"></a>二十、扑克牌的顺子（剑44）</h2><p>从扑克牌中随机抽5张牌，判断是不是顺子，即这5张牌是不是连续的。2~10为数字本身，A为1，J为11，Q为12，K为13，而大小王可以看做是任意数字，这里定为0.</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isContinuous</span><span class="params">(<span class="keyword">int</span> [] numbers)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = numbers.length;</div><div class="line">        <span class="keyword">if</span>(numbers==<span class="keyword">null</span>||length==<span class="number">0</span>)<span class="keyword">return</span> <span class="keyword">false</span>;<span class="comment">//特殊情况</span></div><div class="line">        Arrays.sort(numbers);<span class="comment">//排序</span></div><div class="line">        <span class="comment">//统计数组中0的个数</span></div><div class="line">        <span class="keyword">int</span> numberOfZero = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;length&amp;&amp;numbers[i]==<span class="number">0</span>;i++)&#123;</div><div class="line">            ++numberOfZero;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> numberOfGap = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> small = numberOfZero;</div><div class="line">        <span class="keyword">int</span> big = small+<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(big&lt;length)&#123;</div><div class="line">            <span class="comment">//含有对子，不可能是顺子</span></div><div class="line">            <span class="keyword">if</span>(numbers[small]==numbers[big])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//统计数组中的间隔数目</span></div><div class="line">            numberOfGap += numbers[big]-numbers[small]-<span class="number">1</span>;</div><div class="line">            small=big;</div><div class="line">            big++;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//如果间隔数小于等于零的数量则可以组成顺子，否则不行。</span></div><div class="line">        <span class="keyword">if</span>(numberOfGap&lt;=numberOfZero)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;<span class="keyword">return</span> <span class="keyword">false</span>;&#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十一、求1-2-…-n（剑46）"><a href="#二十一、求1-2-…-n（剑46）" class="headerlink" title="二十一、求1+2+…..+n（剑46）"></a>二十一、求1+2+…..+n（剑46）</h2><p>求1+2+3+…+n，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。</p>
<ol>
<li>需利用逻辑与的短路特性实现递归终止。 </li>
<li>当n==0时，(n&gt;0)&amp;&amp;((sum+=Sum_Solution(n-1))&gt;0)只执行前面的判断，为false，然后直接返回0；</li>
<li>当n&gt;0时，执行sum+=Sum_Solution(n-1)，实现递归计算Sum_Solution(n)。</li>
</ol>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Sum_Solution</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum=n;</div><div class="line">        <span class="keyword">boolean</span> ans = (n&gt;<span class="number">0</span>)&amp;&amp;((sum+=Sum_Solution(n-<span class="number">1</span>))&gt;<span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十二、数组中重复的数字（剑51）"><a href="#二十二、数组中重复的数字（剑51）" class="headerlink" title="二十二、数组中重复的数字（剑51）"></a>二十二、数组中重复的数字（剑51）</h2><p>在一个长度为n的数组里的所有数字都在0到n-1的范围内。 数组中某些数字是重复的，但不知道有几个数字是重复的。也不知道每个数字重复几次。请找出数组中任意一个重复的数字。 例如，如果输入长度为7的数组{2,3,1,0,2,5,3}，那么对应的输出是重复的数字2或者3。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">duplicate</span><span class="params">(<span class="keyword">int</span> numbers[],<span class="keyword">int</span> length,<span class="keyword">int</span> [] duplication)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(numbers==<span class="keyword">null</span>||length==<span class="number">0</span>)&#123;<span class="keyword">return</span> <span class="keyword">false</span>;&#125;<span class="comment">//空指针或空数组</span></div><div class="line">        <span class="comment">// 判断数组是否合法,即每个数都在0~n-1之间</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(numbers[i]&gt;length-<span class="number">1</span>||numbers[i]&lt;<span class="number">0</span>)&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//若数值与下标不同，则调换位置；</span></div><div class="line">        <span class="comment">//比较位置下标为数值(numbers[i])的数值(numbers[numbers[i]])与该数值(numbers[i])是否一致，若一致，则说明有重复数字</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)&#123;</div><div class="line">            <span class="keyword">while</span>(numbers[i]!=i)&#123;</div><div class="line">                <span class="keyword">if</span>(numbers[i]==numbers[numbers[i]])&#123;</div><div class="line">                    duplication[<span class="number">0</span>] = numbers[i];</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">int</span> temp=numbers[i];</div><div class="line">                numbers[i]=numbers[temp];</div><div class="line">                numbers[temp]=temp;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十三、构建乘积数组（剑52）"><a href="#二十三、构建乘积数组（剑52）" class="headerlink" title="二十三、构建乘积数组（剑52）"></a>二十三、构建乘积数组（剑52）</h2><p> 给定一个数组A[0,1,…,n-1],请构建一个数组$B[0,1,…,n-1]$,其中B中的元素$B[i]=A[0]<em>A[1]</em>…<em>A[i-1]</em>A[i+1]<em>…</em>A[n-1]$。不能使用除法。</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4xml56mj30i70bzdgc.jpg" alt=""></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] multiply(<span class="keyword">int</span>[] A) &#123;</div><div class="line">        <span class="keyword">int</span> length = A.length;</div><div class="line">        <span class="keyword">int</span>[] B = <span class="keyword">new</span> <span class="keyword">int</span>[length];</div><div class="line">        <span class="keyword">if</span>(length!=<span class="number">0</span>)&#123;</div><div class="line">            B[<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;length;i++)&#123;</div><div class="line">                B[i]=B[i-<span class="number">1</span>]*A[i-<span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">int</span> temp=<span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=length-<span class="number">2</span>;j&gt;=<span class="number">0</span>;j--)&#123;                </div><div class="line">                temp = temp*A[j+<span class="number">1</span>];</div><div class="line">                B[j]=temp*B[j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> B;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十四、-滑动窗口的最大值（剑65）"><a href="#二十四、-滑动窗口的最大值（剑65）" class="headerlink" title="二十四、 滑动窗口的最大值（剑65）"></a>二十四、 滑动窗口的最大值（剑65）</h2><p>给定一个数组和滑动窗口的大小，找出所有滑动窗口里数值的最大值。例如，如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口的大小3，那么一共存在6个滑动窗口，他们的最大值分别为{4,4,6,6,6,5}； 针对数组{2,3,4,2,6,2,5,1}的滑动窗口有以下6个： {[2,3,4],2,6,2,5,1}， {2,[3,4,2],6,2,5,1}， {2,3,[4,2,6],2,5,1}， {2,3,4,[2,6,2],5,1}， {2,3,4,2,[6,2,5],1}， {2,3,4,2,6,[2,5,1]}。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fwv4xrr8mnj30kn0bz0te.jpg" alt=""></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.LinkedList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">     </div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">maxInWindows</span><span class="params">(<span class="keyword">int</span> [] num, <span class="keyword">int</span> size)</span></span></div><div class="line">    &#123;</div><div class="line">        ArrayList&lt;Integer&gt; ret = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span> (num == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ret;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (num.length &lt; size || size &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ret;</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        LinkedList&lt;Integer&gt; indexDeque = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="comment">//前size-1个中，前面比num[i]小的，对应下标从下标队列移除；</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - <span class="number">1</span>; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (!indexDeque.isEmpty() &amp;&amp; num[i] &gt; num[indexDeque.getLast()]) &#123;</div><div class="line">                indexDeque.removeLast();</div><div class="line">            &#125;</div><div class="line">            indexDeque.addLast(i);</div><div class="line">        &#125;        </div><div class="line">        <span class="comment">//从第size-1个开始；前面比num[i]小的，对应下标从下标队列移除；</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &lt; num.length; i++) &#123;</div><div class="line">            <span class="keyword">while</span>(!indexDeque.isEmpty() &amp;&amp; num[i] &gt; num[indexDeque.getLast()]) &#123;</div><div class="line">                indexDeque.removeLast();</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//把下一个下标加入队列中</span></div><div class="line">            indexDeque.addLast(i);</div><div class="line">            <span class="comment">//当第一个数字的下标与当前处理的数字的下标之差大于或者等于滑动窗口的大小时，这个数字已经从窗口划出，可以移除了；</span></div><div class="line">            <span class="keyword">if</span> (i - indexDeque.getFirst() + <span class="number">1</span> &gt; size) &#123;</div><div class="line">                indexDeque.removeFirst();</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//下标队列的第一个是滑动窗口最大值对应的下标；</span></div><div class="line">            ret.add(num[indexDeque.getFirst()]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十五、矩阵中的路径（剑66）"><a href="#二十五、矩阵中的路径（剑66）" class="headerlink" title="二十五、矩阵中的路径（剑66）"></a>二十五、矩阵中的路径（剑66）</h2><p>请设计一个函数，用来判断在一个矩阵中是否存在一条包含某字符串所有字符的路径。路径可以从矩阵中的任意一个格子开始，每一步可以在矩阵中向左，向右，向上，向下移动一个格子。如果一条路径经过了矩阵中的某一个格子，则该路径不能再进入该格子。 例如下面的矩阵中包含一条字符串”bcced”的路径，但是矩阵中不包含”abcb”路径，因为字符串的第一个字符b占据了矩阵中的第一行第二个格子之后，路径不能再次进入该格子。<br><img src="https://ws3.sinaimg.cn/large/006tNbRwly1fwv4xwuhojj304t02jjr5.jpg" alt=""></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">movingCount</span><span class="params">(<span class="keyword">int</span> threshold, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">boolean</span>[] visited=<span class="keyword">new</span> <span class="keyword">boolean</span>[rows*cols];</div><div class="line">        <span class="keyword">return</span> movingCountCore(threshold, rows, cols, <span class="number">0</span>,<span class="number">0</span>,visited);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">movingCountCore</span><span class="params">(<span class="keyword">int</span> threshold, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols,</span></span></div><div class="line">            <span class="keyword">int</span> row,<span class="keyword">int</span> col,<span class="keyword">boolean</span>[] visited) &#123;</div><div class="line">        <span class="keyword">if</span>(row&lt;<span class="number">0</span>||row&gt;=rows||col&lt;<span class="number">0</span>||col&gt;=cols) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> i=row*cols+col;</div><div class="line">        <span class="keyword">if</span>(visited[i]||!checkSum(threshold,row,col)) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        visited[i]=<span class="keyword">true</span>;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>+movingCountCore(threshold, rows, cols,row,col+<span class="number">1</span>,visited)</div><div class="line">                +movingCountCore(threshold, rows, cols,row,col-<span class="number">1</span>,visited)</div><div class="line">                +movingCountCore(threshold, rows, cols,row+<span class="number">1</span>,col,visited)</div><div class="line">                +movingCountCore(threshold, rows, cols,row-<span class="number">1</span>,col,visited);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkSum</span><span class="params">(<span class="keyword">int</span> threshold, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(row!=<span class="number">0</span>)&#123;</div><div class="line">            sum+=row%<span class="number">10</span>;</div><div class="line">            row=row/<span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span>(col!=<span class="number">0</span>)&#123;</div><div class="line">            sum+=col%<span class="number">10</span>;</div><div class="line">            col=col/<span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(sum&gt;threshold) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十六、寻找某个值的区间（leetcode-34-Search-for-a-Range）"><a href="#二十六、寻找某个值的区间（leetcode-34-Search-for-a-Range）" class="headerlink" title="二十六、寻找某个值的区间（leetcode 34 Search for a Range）"></a>二十六、寻找某个值的区间（leetcode 34 Search for a Range）</h2><p>主要考查二分查找，如果读者对二分查找不是很熟悉，这里推荐一篇博客：<a href="http://blog.csdn.net/int64ago/article/details/7425727/" target="_blank" rel="noopener">你真的会二分查找吗？</a>上面讲得非常详细。</p>
<p>这题要求在一个排好序可能有重复元素的数组里面找到包含某个值的区间范围。要求使用O(log n)的时间，所以我们采用两次二分查找。</p>
<p>主要实现两个方法：</p>
<ul>
<li>searchRightIndex：查找并返回target出现在nums数组最右边的index。注意一点，如果target比数组最小值还小，那么返回-1</li>
<li>searchLeftIndex：查找并返回target出现在nums数组最左边的index。如果target比数组最大值还大，那么返回nums.length</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    public int[] searchRange(int[] nums, int target) &#123;  </div><div class="line">    int[] result = &#123;-1, -1&#125;;  </div><div class="line">    int index = searchRightIndex(nums, 0, nums.length - 1, target);  </div><div class="line">    if (index &lt; 0 || nums[index] != target)  </div><div class="line">        return result;  </div><div class="line">    result[0] = searchLeftIndex(nums, 0, index, target);  </div><div class="line">    result[1] = index;  </div><div class="line">    return result;  </div><div class="line">    &#125;  </div><div class="line">    //查找并返回target出现在nums数组最右边的index</div><div class="line">    public int searchRightIndex(int[] nums, int left, int right, int target) &#123;  </div><div class="line">        while (left &lt;= right) &#123;  </div><div class="line">            int mid = (left + right) / 2;  </div><div class="line">            if (nums[mid] &gt; target) right = mid - 1;  </div><div class="line">            else left = mid + 1;  </div><div class="line">        &#125;  </div><div class="line">        return right;  </div><div class="line">    &#125;  </div><div class="line">    //查找并返回target出现在nums数组最左边的index</div><div class="line">    public int searchLeftIndex(int[] nums, int left, int right, int target) &#123;  </div><div class="line">        while (left &lt;= right) &#123;  </div><div class="line">            int mid = (left + right) / 2;  </div><div class="line">            if (nums[mid] &lt; target) left = mid + 1;  </div><div class="line">            else right = mid - 1;  </div><div class="line">        &#125;  </div><div class="line">        return left;  </div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二十七、第K个数的问题"><a href="#二十七、第K个数的问题" class="headerlink" title="二十七、第K个数的问题"></a>二十七、第K个数的问题</h2><h3 id="27-1-无序数组寻找第K大的数"><a href="#27-1-无序数组寻找第K大的数" class="headerlink" title="27.1 无序数组寻找第K大的数"></a>27.1 无序数组寻找第K大的数</h3><p>这题是一道很好的面试题目，首先题目短小，很快就能说清题意而且有很多种解法。从简单到复杂的解法都有，梯度均匀。解决它不需要预先知道特殊领域知识。</p>
<p>这题有很多思路：</p>
<ol>
<li>按从大到小全排序，然后取第k个元素，时间复杂度O(nlogn)，空间复杂度O(1)</li>
<li>利用堆进行部分排序。维护一个大根堆，将数组元素全部压入堆，然后弹出k次，第k个就是答案。时间复杂度$O(klogn)$，空间复杂度$O(n)$</li>
<li>选择排序，第k次选择后即可得到第k大的数，时间复杂度O(nk)，空间复杂度O(1)</li>
</ol>
<p>以上三种方法时间复杂度太高。下面介绍两种更好的方法：</p>
<blockquote>
<p>第一种</p>
</blockquote>
<p>利用快速排序中的partition思想，从数组中随机选择一个基准pivot，把数组划分为左右两部分，左边部分元素小于pivot，右边部分元素大于或等于pivot。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        k = nums.length-k;<span class="comment">//找前K大的</span></div><div class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> high = nums.length-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(low &lt; high)&#123;</div><div class="line">            <span class="keyword">int</span> pivotloc = partition(nums,low,high);</div><div class="line">            <span class="keyword">if</span>(pivotloc==k) </div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(k&lt;pivotloc)&#123;<span class="comment">//左边</span></div><div class="line">                high = pivotloc-<span class="number">1</span>;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(k&gt;pivotloc)&#123;</div><div class="line">                low = pivotloc+<span class="number">1</span>;<span class="comment">//在右边</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> nums[k];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> pivot = nums[low];</div><div class="line">	<span class="keyword">while</span>(low&lt;high)&#123;</div><div class="line">		<span class="keyword">while</span>(low&lt;high &amp;&amp; nums[high]&gt;=pivot) high--;</div><div class="line">		nums[low]=nums[high];</div><div class="line">		<span class="keyword">while</span>(low&lt;high &amp;&amp; nums[low]&lt;=pivot) low++;</div><div class="line">		nums[high] =nums[low];</div><div class="line">	    &#125;</div><div class="line">	nums[low]=pivot;</div><div class="line">	<span class="keyword">return</span> low;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>第二种方法：</p>
</blockquote>
<p>遍历数组时将数字加入优先队列（堆），一旦堆的大小大于k就将堆顶元素去除，确保堆的大小为k。遍历完后堆顶就是返回值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        PriorityQueue&lt;Integer&gt; p = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; nums.length; i++)&#123;</div><div class="line">            p.add(nums[i]);</div><div class="line">            <span class="keyword">if</span>(p.size()&gt;k) p.poll();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> p.poll();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="27-2-两个有序数组的第K大的数"><a href="#27-2-两个有序数组的第K大的数" class="headerlink" title="27.2 两个有序数组的第K大的数"></a>27.2 两个有序数组的第K大的数</h3><p>两个有序数组，寻找归并排序后数组的中位数/第 k 大数字（与二分有关）；</p>
<h3 id="27-3-N个有序数组求最大的K个数"><a href="#27-3-N个有序数组求最大的K个数" class="headerlink" title="27.3 N个有序数组求最大的K个数"></a>27.3 N个有序数组求最大的K个数</h3><h3 id="27-4-求两个有序数组的中位数"><a href="#27-4-求两个有序数组的中位数" class="headerlink" title="27.4 求两个有序数组的中位数"></a>27.4 求两个有序数组的中位数</h3><h2 id="二十八、求根算法（-LeetCode-69）"><a href="#二十八、求根算法（-LeetCode-69）" class="headerlink" title="二十八、求根算法（ LeetCode 69）"></a>二十八、求根算法（ LeetCode 69）</h2><p>这道题要找x的平方根，x的平方根肯定小于x/2。要在[1,x/2]有序序列当中找一个数，用二分法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;  </div><div class="line">    <span class="keyword">long</span> high = (x / <span class="number">2</span>) + <span class="number">1</span>;  </div><div class="line">    <span class="keyword">long</span> low = <span class="number">0</span>;  </div><div class="line">    <span class="keyword">while</span> (high &gt;= low) &#123;  </div><div class="line">        <span class="keyword">long</span> mid = (high + low) / <span class="number">2</span>;  </div><div class="line">        <span class="keyword">if</span> (mid * mid == x)  </div><div class="line">            <span class="keyword">return</span> (<span class="keyword">int</span>)mid;  </div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (mid * mid &gt; x)  </div><div class="line">            high = mid - <span class="number">1</span>;  </div><div class="line">        <span class="keyword">else</span>  </div><div class="line">            low = mid + <span class="number">1</span>;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)high;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>二分法在数值计算中非常常见，还是得熟练掌握。其实这个题目还有另一种方法，称为牛顿法。不过他更多的是一种数学方法，算法在这里没有太多体现，不过牛顿法是数值计算中非常重要的方法，所以我还是介绍一下。不太了解牛顿法基本思想的朋友，可以参考一下牛顿法-维基百科。一般牛顿法是用数值方法来解一个f(y)=0的方程（为什么变量在这里用y是因为我们要求的开方是x，避免歧义）。对于这个问题我们构造f(y)=y^2-x，其中x是我们要求平方根的数，那么当f(y)=0时，即y^2-x=0,所以y=sqrt(x),即是我们要求的平方根。f(y)的导数f’(y)=2*y，根据牛顿法的迭代公式我们可以得到y_(n+1)=y_n-f(n)/f’(n)=(y_n+x/y_n)/2。最后根据以上公式来迭代解以上方程。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;  </div><div class="line">    <span class="keyword">if</span> (x == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">    <span class="keyword">double</span> lastY = <span class="number">0</span>;  </div><div class="line">    <span class="keyword">double</span> y = <span class="number">1</span>;  </div><div class="line">    <span class="keyword">while</span> (y != lastY)  </div><div class="line">    &#123;  </div><div class="line">        lastY = y;  </div><div class="line">        y = (y + x / y) / <span class="number">2</span>;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)(y);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="面经中出现过的数组题"><a href="#面经中出现过的数组题" class="headerlink" title="面经中出现过的数组题"></a>面经中出现过的数组题</h2><h3 id="已整理"><a href="#已整理" class="headerlink" title="已整理"></a>已整理</h3><ul>
<li>一、二维数组，每行递增，每列递增,实现查找；二维数组，每行递增，每列递增，求第 k 大的数；</li>
<li>三、旋转数组的查找；有序数组 从中间某点隔开，右边的放到左边，然后问在这个数组中怎么进行二分查找。讲了思路后手写代码；一维有序数组，经过循环位移后，最小的数出现在数列中间，如果原数组严格递增，如何找这个最小数；如果原数组严格递增或递减，如何找这个最小数；如果原数组非严格递增或递减，如何找这个最小数；</li>
<li>五、调整数组顺序使奇数位于偶数前面；让一个数组中的所有奇数在前，偶数在后。</li>
<li>六、顺时针打印矩阵</li>
<li>九、数组中超过一半的数字；找出数组中出现次数超过一半的数，现在有一个数组，已知一个数出现的次数超过了一半，请用O(n)的复杂度的算法找出这个数我说了一个最简答的，直接遍历数组，用map存储《数，出现的次数》这个键-值对，然后找出超过一半的即可。继续优化，，，，没答上来</li>
<li>十、最小的K个数；数列中找第 k 大的数字（与快排或堆排序有关）；编程题最少时间复杂度求数组中第k大的数，</li>
<li>十一、连续子数组的最大和</li>
<li>十二、从1到n整数中1出现的次数；给你一个数N，问1-N这N个整数里面，每个位上一共出现多少次数字1. 这个是编程之美上的原题。当时看的时候觉得好复杂，最后我也没写出来，当然，面试的技巧就是，无论这道题你会还是不会，尽量把你的思考过程说出来，一方面防止冷场，另一方面可以让他知道你的思考过程。最后面试官让我不用最优的，我就写了个最笨的。</li>
<li>十五、数组中逆序对计算，打印逆序对儿，如输入数组[1,4,2,5,3]，输出(4,2),(4,3),(5,3)；统计数列中的逆序对（归并排序有关）；</li>
<li>十八、和为S的两个数字VS和为s的连续正数序列；有序数组寻找和为某数的一对数字；寻找和为定值的多个数；寻找和为定值的两个数</li>
<li>二十四、滑动窗口的最大值；coding：数组滑动窗口得到最大的窗口，O（n）复杂度、扩展：这个滑动窗口中必须有m个不同才可以，目标不变，如果改，并分析时间复杂度；</li>
<li>二十六、寻找某个值的区间（leetcode 34 Search for a Range）</li>
</ul>
<h3 id="未整理"><a href="#未整理" class="headerlink" title="未整理"></a>未整理</h3><p>数组中后面的数减前面的数的差的最大值，要求时间、空间复杂度尽可能底<br>多个有序数组的归并<br>多个有序数组求交集<br>两个有序数组求差集<br>两个数组，求差集<br>两个集合如何求并集，交集；</p>
<ul>
<li>leetcode 89 Gray Code<br>leetcode 42 trapping rain water <a href="http://www.cnblogs.com/fuzhe1989/p/3428553.html" target="_blank" rel="noopener">墙里能装多少水</a></li>
</ul>
<p>有一个数组，让找到两个不重复的连续子序列A,B ，求Max(Sum(A)-Sum(B)。 3分钟解出，10分钟写完代码</p>
<p>LeetCode原题： 有一个集合A包含了一些数，输入N，求元素个数最小的集合B，使得A并B后内的数组合相加能够组成1到N中的所有数</p>
<p>给定一个数组，长度已知为N（中等），求中位数，要求时间复杂度尽可能小：快排+丢弃长度小于N/2的部分</p>
<p>给定数组，要求以最小的时间复杂度求得最大最小值：维护一个小数组，只存放两个数，预定义为min和max，后将剩余N-2个数和它们依次比较，大于max的覆盖max，小于min的覆盖min，其余情形的不更新数组。时间复杂度o(n)。</p>
<p>然后考了个数据结构，给个数组如何建堆<a href="http://xfhnever.com/categories/算法与数据结构/page/2/" target="_blank" rel="noopener">http://xfhnever.com/categories/算法与数据结构/page/2/</a></p>
<p>一维数组，swap 其中的几对数字（每个数字只属于一次 swap 操作），实现查找（与二分有关）；<br>一个有序数组，其中一个数字发生变异，但不知道变异后会不会影响整体序，如何实现查找；<br>任意交换其中的两数，发现并恢复；</p>
<p>给定数组，寻找 next big（堆排序有关）；</p>
<p>数组可能是递增、递减、递减后递增、递增后递减四种情况，递增递减都是非严格的，如果有转折点，返回转折点的值，否则返回-1；</p>
<p>给出一个数组，返回数组中满足类似a &gt; b &lt; c ＞ｄ这种情况的连续子数组的最大长度。时间复杂度当然是Ｏ（ｎ），比较有意思的题目。</p>
<p>同样是一个数组，去掉其中一个数，得到与这个数相邻中比较小的那个数的值（如果是最左侧或者最右侧则返回０）。不断重复上面的操作，直到数组为空，返回累加的最大值。</p>
<p>已知一个数组，有n+2个不同的数，其中n个数出现了偶数次，2个数出现了奇数次，设计算法找出这2个数又只想出一个简单的，用栈，偶数的进出进出，最后在栈中没有了，奇数的进出进，最后会留在栈中。就找到了（这个空间复杂度为O（n）继续优化，，又没想出来。</p>
<p>写递推公式给定整数n和m，问能不能找出整数x，使得x以后的所有整数都可以由整数n和m组合而成</p>
<p>区间查询最大值，要求查询复杂度为O(1)，正解为st表，我敲的线段树，也过了</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>感谢打赏，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/img/wechat-reward-image.png" alt="狗皮膏药 WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/img/alipay-reward-image.png" alt="狗皮膏药 Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      

    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/数据结构/" rel="tag"># 数据结构</a>
          
            <a href="/tags/算法/" rel="tag"># 算法</a>
          
            <a href="/tags/数组/" rel="tag"># 数组</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/08/03/数据结构与算法题解（1）：链表题解/" rel="next" title="数据结构与算法题解（1）：链表题解">
                <i class="fa fa-chevron-left"></i> 数据结构与算法题解（1）：链表题解
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/08/04/数据结构与算法题解（3）：字符串题解/" rel="prev" title="数据结构与算法题解（3）：字符串题解">
                数据结构与算法题解（3）：字符串题解 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
      

    </footer>
  </article>



    <div class="post-spread">
      
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_inline_share_toolbox">
  <script type = "text/javascript" src = "//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5bc405fb9346cd0b" async = "async" ></script>
</div>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/img/v.png"
                alt="狗皮膏药" />
            
              <p class="site-author-name" itemprop="name">狗皮膏药</p>
              <p class="site-description motion-element" itemprop="description">人类被赋予了一种工作，那就是精神的成长</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">198</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">288</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://plushunter.github.io/say-sth/" target="_blank" title="絮语">
                    
                      <i class="fa fa-fw fa-heartbeat"></i>絮语</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://plushunter.github.io/see-movies/" target="_blank" title="电影">
                    
                      <i class="fa fa-fw fa-film"></i>电影</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://plushunter.github.io/competitions" target="_blank" title="竞赛">
                    
                      <i class="fa fa-fw fa-database"></i>竞赛</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/ren-da-ying-tong-hua-qi/activities" target="_blank" title="知乎">
                    
                      <i class="fa fa-fw fa-graduation-cap"></i>知乎</a>
                </span>
              
            
          </div>

          
          <div id="music163player">
            <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=86 src="//music.163.com/outchain/player?type=2&id=22656054&auto=0&height=66">
            </iframe>
        </div>


          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-anchor"></i>
                GREAT BLOG
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://blog.farmostwood.net" title="木遥" target="_blank">木遥</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://coolshell.cn" title="酷壳" target="_blank">酷壳</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://mindhacks.cn" title="刘未鹏" target="_blank">刘未鹏</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://freemind.pluskid.org" title="张驰原" target="_blank">张驰原</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.ruanyifeng.com/home.html" title="阮一峰" target="_blank">阮一峰</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.flickering.cn" title="火光摇曳" target="_blank">火光摇曳</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://macshuo.com" title="MacTalk" target="_blank">MacTalk</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.matrix67.com" title="Matrix67" target="_blank">Matrix67</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://developers.googleblog.cn" title="Google Developers" target="_blank">Google Developers</a>
                  </li>
                
              </ul>
            </div>
          


          

        </div>
        
      
  
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
              </a>
            </div>
          
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、二维数组中的查找（剑3）"><span class="nav-text">一、二维数组中的查找（剑3）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、用两个栈实现队列（剑7）"><span class="nav-text">二、用两个栈实现队列（剑7）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、旋转数组的最小数字（剑8）"><span class="nav-text">三、旋转数组的最小数字（剑8）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、斐波那契数列（剑9）"><span class="nav-text">四、斐波那契数列（剑9）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-斐波那契数列"><span class="nav-text">4.1 斐波那契数列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-跳台阶"><span class="nav-text">4.2 跳台阶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-变态跳台阶"><span class="nav-text">4.3  变态跳台阶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-矩形覆盖"><span class="nav-text">4.4 矩形覆盖</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、调整数组顺序使奇数位于偶数前面（剑14）"><span class="nav-text">五、调整数组顺序使奇数位于偶数前面（剑14）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、顺时针打印矩阵（剑20）"><span class="nav-text">六、顺时针打印矩阵（剑20）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、包含min函数的栈（剑21）"><span class="nav-text">七、包含min函数的栈（剑21）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#八、栈的压入、弹出序列（剑22）"><span class="nav-text">八、栈的压入、弹出序列（剑22）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#九、数组中出现次数超过一半的数字（剑29）"><span class="nav-text">九、数组中出现次数超过一半的数字（剑29）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十、最小的K个数（剑30）"><span class="nav-text">十、最小的K个数（剑30）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十一、连续子数组的最大和（剑31）"><span class="nav-text">十一、连续子数组的最大和（剑31）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十二、从1到n整数中1出现的次数（剑32）"><span class="nav-text">十二、从1到n整数中1出现的次数（剑32）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十三、把数组排成最小的数（剑33）"><span class="nav-text">十三、把数组排成最小的数（剑33）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十四、丑数（剑34）"><span class="nav-text">十四、丑数（剑34）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十五、数组中的逆序对（剑36）"><span class="nav-text">十五、数组中的逆序对（剑36）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十六、数字在排序数组中出现的次数（剑38）"><span class="nav-text">十六、数字在排序数组中出现的次数（剑38）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十七、数组中只出现一次的数字（剑40）"><span class="nav-text">十七、数组中只出现一次的数字（剑40）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十八、-和为s的两个数字（剑41-1）"><span class="nav-text">十八、 和为s的两个数字（剑41.1）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十九、和为s的连续正数序列（剑41-2）"><span class="nav-text">十九、和为s的连续正数序列（剑41.2）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十、扑克牌的顺子（剑44）"><span class="nav-text">二十、扑克牌的顺子（剑44）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十一、求1-2-…-n（剑46）"><span class="nav-text">二十一、求1+2+…..+n（剑46）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十二、数组中重复的数字（剑51）"><span class="nav-text">二十二、数组中重复的数字（剑51）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十三、构建乘积数组（剑52）"><span class="nav-text">二十三、构建乘积数组（剑52）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十四、-滑动窗口的最大值（剑65）"><span class="nav-text">二十四、 滑动窗口的最大值（剑65）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十五、矩阵中的路径（剑66）"><span class="nav-text">二十五、矩阵中的路径（剑66）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十六、寻找某个值的区间（leetcode-34-Search-for-a-Range）"><span class="nav-text">二十六、寻找某个值的区间（leetcode 34 Search for a Range）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十七、第K个数的问题"><span class="nav-text">二十七、第K个数的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#27-1-无序数组寻找第K大的数"><span class="nav-text">27.1 无序数组寻找第K大的数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-2-两个有序数组的第K大的数"><span class="nav-text">27.2 两个有序数组的第K大的数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-3-N个有序数组求最大的K个数"><span class="nav-text">27.3 N个有序数组求最大的K个数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-4-求两个有序数组的中位数"><span class="nav-text">27.4 求两个有序数组的中位数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二十八、求根算法（-LeetCode-69）"><span class="nav-text">二十八、求根算法（ LeetCode 69）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面经中出现过的数组题"><span class="nav-text">面经中出现过的数组题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#已整理"><span class="nav-text">已整理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#未整理"><span class="nav-text">未整理</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      


      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">狗皮膏药</span>
</div>



        

<div class="busuanzi-count">

  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    if (!String.prototype.endsWith) {
  String.prototype.endsWith = function(searchString, position) {
      var subjectString = this.toString();
      if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {
        position = subjectString.length;
      }
      position -= searchString.length;
      var lastIndex = subjectString.indexOf(searchString, position);
      return lastIndex !== -1 && lastIndex === position;
  };
}
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  


</body>
</html>
