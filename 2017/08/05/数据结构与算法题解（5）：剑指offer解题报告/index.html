<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="数据结构,算法,剑指offer," />





  <link rel="alternate" href="/atom.xml" title="Free Will" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico?v=5.1.0" />






<meta name="description" content="剑指offer编程题java实现整理。">
<meta name="keywords" content="数据结构,算法,剑指offer">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构与算法题解（5）：剑指offer解题报告">
<meta property="og:url" content="http://yoursite.com/2017/08/05/数据结构与算法题解（5）：剑指offer解题报告/index.html">
<meta property="og:site_name" content="Free Will">
<meta property="og:description" content="剑指offer编程题java实现整理。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午12.21.28.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午9.44.36.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午10.49.39.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午10.51.43.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午10.58.44.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 下午6.04.43.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 上午11.06.17.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-24 下午11.13.37.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 上午9.26.52.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 上午9.39.51.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午2.54.39.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午3.06.35.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午3.15.07.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午10.53.41.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午10.53.48.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-02 上午12.17.30.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-02 上午9.50.37.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-04 下午7.51.53.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-04 下午7.52.01.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-04 下午7.52.07.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/15016515510574.jpg">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午2.59.56.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-02 下午7.43.57.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午3.41.20.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午3.46.08.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午5.43.23.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/15017653485586.jpg">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午9.29.00.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午9.39.38.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午9.44.34.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午10.55.51.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 下午1.37.31.png">
<meta property="og:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 下午1.43.55.png">
<meta property="og:updated_time" content="2017-12-26T06:34:34.200Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据结构与算法题解（5）：剑指offer解题报告">
<meta name="twitter:description" content="剑指offer编程题java实现整理。">
<meta name="twitter:image" content="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午12.21.28.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>







  <title> 数据结构与算法题解（5）：剑指offer解题报告 | Free Will </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9a21041c6a1d47620a3a748589516274";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Free Will</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-yiyu">
          <a href="/yiyu" rel="section">
            
            呓语
          </a>
        </li>
      
        
        <li class="menu-item menu-item-movies">
          <a href="/movies" rel="section">
            
            电影
          </a>
        </li>
      
        
        <li class="menu-item menu-item-books">
          <a href="/books" rel="section">
            
            读书
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input" placeholder="search my blog...">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  

</nav>


 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/05/数据结构与算法题解（5）：剑指offer解题报告/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="狗皮膏药">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/img/v.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Free Will">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Free Will" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                数据结构与算法题解（5）：剑指offer解题报告
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-05T22:20:45+08:00">
                2017-08-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构与算法/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>剑指offer编程题java实现整理。</p>
<a id="more"></a>
<h2 id="3-二维数组中的查找（数组）"><a href="#3-二维数组中的查找（数组）" class="headerlink" title="3. 二维数组中的查找（数组）"></a>3. 二维数组中的查找（数组）</h2><p>在一个二维数组中，每一行都按照从左到右的递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一维数组和一个整数，判断数组中是否含有该整数。</p>
<p>首先选取数组中右上角的数字，如果该数字等于我们要查找的数组，查找过程结束；如果该数字大于要查找的数组，剔除这个数字所在的列；如果该数字小于要查找的数组，剔除这个数字所在的行。也就是说如果要查找的数字不再数组的右上角，则每一次都在数组的查找范围中剔除一行或者一列，这样每一步都可以缩小查找的范围，直到找到要查找的数字，或者查找范围为空。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午12.21.28.png" alt="屏幕快照 2017-07-28 上午12.21.28"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> target, <span class="keyword">int</span> [][] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> row = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> col = array[<span class="number">0</span>].length - <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(row&lt;=array.length-<span class="number">1</span>&amp;&amp;col&gt;=<span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(target == array[row][col])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(target&gt;array[row][col])&#123;</div><div class="line">                row++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                col--;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"># -*- coding:utf-8 -*-</div><div class="line">class Solution:</div><div class="line">    # array 二维列表</div><div class="line">    def Find(self, target, array):</div><div class="line">        # write code here</div><div class="line">        row = 0</div><div class="line">        col = len(array[0])-1</div><div class="line">        while row&lt;=len(array)-1 and col&gt;=0:</div><div class="line">            if target==array[row][col]:</div><div class="line">                return True</div><div class="line">            elif target&gt;array[row][col]:</div><div class="line">                row+=1</div><div class="line">            else:</div><div class="line">                col-=1</div><div class="line">        return False</div></pre></td></tr></table></figure>
<p>也可以把每一行看做是一个递增的序列，利用二分查找。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> target, <span class="keyword">int</span> [][] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">            <span class="keyword">int</span> low =<span class="number">0</span>;</div><div class="line">            <span class="keyword">int</span> high = array[i].length-<span class="number">1</span>;</div><div class="line">            <span class="keyword">while</span>(low&lt;=high)&#123;</div><div class="line">                <span class="keyword">int</span> mid = (low+high)/<span class="number">2</span>;</div><div class="line">                <span class="keyword">if</span>(array[i][mid]==target)</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(array[i][mid]&gt;target)</div><div class="line">                    high =mid-<span class="number">1</span>;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    low=mid+<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="4-替换空格（字符串）"><a href="#4-替换空格（字符串）" class="headerlink" title="4. 替换空格（字符串）"></a>4. 替换空格（字符串）</h2><p>请实现一个函数，把字符串中的每个空格替换成”%20”。例如输入“We are happy.”，则输出“We%20are20happy”</p>
<p>网络编程中，要把特殊符号转换成服务器可识别的字符。转换的规则是在“%”后面跟上ASCII码的两位十六进制的表示。比如空格的ASCII码是32，即十六进制的0X20，因此空格被替换成“%20”。</p>
<p>问题1：替换字符串，是在原来的字符串上做替换，还是新开辟一个字符串做替换！<br>问题2：在当前字符串替换，怎么替换才更有效率（不考虑java里现有的replace方法）。从前往后替换，后面的字符要不断往后移动，要多次移动，所以效率低下；从后往前，先计算需要多少空间，然后从后往前移动，则每个字符只为移动一次，这样效率更高一点。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午9.44.36.png" alt="屏幕快照 2017-07-28 上午9.44.36"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">replaceSpace</span><span class="params">(StringBuffer str)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> spacenum = <span class="number">0</span>;<span class="comment">//spacenum为计算空格数</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++)&#123;</div><div class="line">            <span class="keyword">if</span>(str.charAt(i)==<span class="string">' '</span>)</div><div class="line">                spacenum++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> indexold = str.length()-<span class="number">1</span>;<span class="comment">//indexold为为替换前的str下标</span></div><div class="line">        <span class="keyword">int</span> newlength = str.length()+<span class="number">2</span>*spacenum;<span class="comment">//计算空格转换成%20之后的str长度</span></div><div class="line">        <span class="keyword">int</span> indexnew = newlength-<span class="number">1</span>;<span class="comment">//indexold为为把空格替换为%20后的str下标</span></div><div class="line">        str.setLength(newlength);<span class="comment">//使str的长度扩大到转换成%20之后的长度,防止下标越界,setLength方法</span></div><div class="line">        <span class="keyword">for</span>(;indexold&gt;=<span class="number">0</span>&amp;&amp;indexold&lt;newlength;--indexold)&#123;</div><div class="line">            <span class="keyword">if</span>(str.charAt(indexold)==<span class="string">' '</span>)&#123;<span class="comment">//charAt方法</span></div><div class="line">                str.setCharAt(indexnew--,<span class="string">'0'</span>);</div><div class="line">                str.setCharAt(indexnew--,<span class="string">'2'</span>);</div><div class="line">                str.setCharAt(indexnew--,<span class="string">'%'</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                str.setCharAt(indexnew--,str.charAt(indexold));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> str.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="5-从尾到头打印链表（链表）"><a href="#5-从尾到头打印链表（链表）" class="headerlink" title="5. 从尾到头打印链表（链表）"></a>5. 从尾到头打印链表（链表）</h2><p>输入一个链表的头结点，从尾到头反过来打印每个结点的值（注意不能改变链表的结构）。</p>
<p>解决这个问题肯定要遍历链表。遍历的顺序是从头到尾的顺序，可输出的顺序却是从尾到头。也就是说第一个遍历到的结点最后一个输出，而最后一个遍历到的结点第一个输出。这就是典型的“后进先出”，我们可以用栈实现这种顺序。没经过一个节点的时候，把该结点放到一个栈中。当遍历完整个链表后，再从栈顶开始逐个输出结点的值，此时输出的结点的顺序就翻转过来了。实现代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">printListFromTailToHead</span><span class="params">(ListNode listNode)</span> </span>&#123;</div><div class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">        <span class="keyword">while</span> (listNode!=<span class="keyword">null</span>)&#123;</div><div class="line">            stack.push(listNode.val);</div><div class="line">            listNode = listNode.next;</div><div class="line">        &#125;</div><div class="line">        ArrayList&lt;Integer&gt; List = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">while</span>(!stack.isEmpty())&#123;</div><div class="line">            List.add(stack.pop());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> List;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>既然想到了用栈来实现这个函数，而递归在本质上就是一个栈结构，因此可用递归来实现。要实现反过来输出链表，我们每访问到一个节点的时候，先递归输出它后面的结点，再输出该结点自身，这样链表的输出结果就反过来了。实现代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">printListFromTailToHead</span><span class="params">(ListNode listNode)</span> </span>&#123;</div><div class="line">        ArrayList&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        </div><div class="line">        ListNode pNode=listNode;</div><div class="line">        <span class="keyword">if</span>(pNode!=<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(pNode.next!=<span class="keyword">null</span>)&#123;</div><div class="line">                list=printListFromTailToHead(pNode.next);</div><div class="line">            &#125;</div><div class="line">            list.add(pNode.val);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> list;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="6-重建二叉树（二叉树）"><a href="#6-重建二叉树（二叉树）" class="headerlink" title="6. 重建二叉树（二叉树）"></a>6. 重建二叉树（二叉树）</h2><p>输入某二叉树的前序遍历和中序遍历的结果，请重建出该二叉树。假设输入的前序遍历和中序遍历的结果中都不含重复的数字。</p>
<p>例如输入前序遍历序列{1,2,4,7,3,5,6,8}和中序遍历序列{4,7,2,1,5,3,8,6}，则重建二叉树并返回。</p>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午10.49.39.png" alt="屏幕快照 2017-07-28 上午10.49.39"></p>
<ol>
<li>根据前序遍历的特点，我们知道根结点为1</li>
<li>观察中序遍历。其中root节点G左侧的472必然是root的左子树，G右侧的5386必然是root的右子树。</li>
<li>观察左子树472，左子树的中的根节点必然是大树的root的leftchild。在前序遍历中，大树的root的leftchild位于root之后，所以左子树的根节点为2。</li>
<li>同样的道理，root的右子树节点5386中的根节点也可以通过前序遍历求得。在前序遍历中，一定是先把root和root的所有左子树节点遍历完之后才会遍历右子树，并且遍历的左子树的第一个节点就是左子树的根节点。同理，遍历的右子树的第一个节点就是右子树的根节点。</li>
<li>观察发现，上面的过程是递归的。先找到当前树的根节点，然后划分为左子树，右子树，然后进入左子树重复上面的过程，然后进入右子树重复上面的过程。最后就可以还原一棵树了。</li>
</ol>
<p>该步递归的过程可以简洁表达如下：</p>
<ol>
<li>确定根,确定左子树，确定右子树。</li>
<li>在左子树中递归。</li>
<li>在右子树中递归。</li>
<li>打印当前根。</li>
</ol>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午10.51.43.png" alt="屏幕快照 2017-07-28 上午10.51.43"></p>
<p>递归代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    public TreeNode reConstructBinaryTree(int [] pre,int [] in) &#123; </div><div class="line">        return reConBTree(pre,0,pre.length-1,in,0,in.length-1);</div><div class="line">    &#125;</div><div class="line">    public TreeNode reConBTree(int [] pre,int preleft,int preright,int [] in,int inleft,int inright)&#123;</div><div class="line">        if(preleft &gt; preright || inleft&gt; inright)//当到达边界条件时候返回null</div><div class="line">            return null;</div><div class="line">        //新建一个TreeNode</div><div class="line">        TreeNode root = new TreeNode(pre[preleft]);</div><div class="line">        //对中序数组进行输入边界的遍历</div><div class="line">        for(int i = inleft; i&lt;= inright; i++)&#123;</div><div class="line">            if(pre[preleft] == in[i])&#123;</div><div class="line">                //重构左子树，注意边界条件</div><div class="line">                root.left = reConBTree(pre,preleft+1,preleft+i-inleft,in,inleft,i-1);</div><div class="line">                //重构右子树，注意边界条件</div><div class="line">                root.right = reConBTree(pre,preleft+i+1-inleft,preright,in,i+1,inright);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return root;      </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="7-用两个栈实现队列（栈与队列）"><a href="#7-用两个栈实现队列（栈与队列）" class="headerlink" title="7. 用两个栈实现队列（栈与队列）"></a>7. 用两个栈实现队列（栈与队列）</h2><p>栈是一个非常常见的数据结构，它在计算机领域中被广泛应用，比如操作系统会给每个线程创建一个栈来存储函数调用时各个函数的参数、返回地址及临时变量等。栈的特点是后进先出，即最后被压入（push）栈的元素会第一个被弹出（pop）。</p>
<p>队列是另外一种很重要的数据结构。和栈不同的是，队列的特点是先进先出，即第一个进入队列的元素将会第一个出来。</p>
<p>栈和队列虽然是针锋相对的两个数据结构，但有意思的是他们却相互联系。</p>
<p>通过一个具体的例子来分析往队列插入和删除元素的过程。首先插入一个元素a，不妨先把它插入到stack1，此时stack1中的元素有{a}，stack2为空，再向stack1压入b和c，此时stack1中的元素有{a,b,c}，其中c处于栈顶，而stack2仍然是空的。</p>
<p>因为a是最先进的，最先被删除的元素应该是a，但a位于栈低。我们可以把stack1中的元素逐个弹出并压入stack2，元素在stack2的顺序正好和原来在stack1的顺序相反因此经过三次弹出stack1和压入stack2操作之后，stack1为空，而stack2的元素是{c,b,a}，这时就可以弹出stack2的栈顶a了，随后弹出stack2中的b和c，而这个过程中stack1始终为空.</p>
<p>从上面的分析我们可以总结出删除一个元素的步骤：<strong>当stack2中不为空时，在stack2的栈顶元素是最先进入队列的元素，可以弹出。如果stack2为空时，我们把stack1中的元素逐个弹出并压入stack2。由于先进入队列的元素被压到stack1的底端，经过弹出和压入之后就处于stack2的顶端了，又可以直接弹出。</strong><br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 上午10.58.44.png" alt="屏幕快照 2017-07-28 上午10.58.44"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">import java.util.Stack;</div><div class="line">public class Solution &#123;</div><div class="line">    Stack&lt;Integer&gt; stack1 = new Stack&lt;Integer&gt;();</div><div class="line">    Stack&lt;Integer&gt; stack2 = new Stack&lt;Integer&gt;();</div><div class="line">    </div><div class="line">    public void push(int node) &#123;</div><div class="line">        stack1.push(node);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public int pop() &#123;</div><div class="line">        while(!stack2.isEmpty())&#123;</div><div class="line">            return stack2.pop();</div><div class="line">        &#125;</div><div class="line">        while(!stack1.isEmpty())&#123;</div><div class="line">            stack2.push(stack1.pop());</div><div class="line">        &#125;</div><div class="line">        return stack2.pop();</div><div class="line">    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="8-旋转数组的最小数字-数组"><a href="#8-旋转数组的最小数字-数组" class="headerlink" title="8. 旋转数组的最小数字(数组)"></a>8. 旋转数组的最小数字(数组)</h2><p>在准备面试的时候，我们应该重点掌握二分查找、归并排序和快速排序，做到能随时正确、完整地写出它们的代码。</p>
<p>若面试题是要求在排序的数组（或部分排序的数组）中查找一个数字或者统计某个数字出现的次数，我们都可以尝试用二分查找算法。</p>
<p>把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。 输入一个非递减排序的数组的一个旋转，输出旋转数组的最小元素。 例如数组{3,4,5,1,2}为{1,2,3,4,5}的一个旋转，该数组的最小值为1。</p>
<p>可以采用二分法解答这个问题， mid = low + (high - low)/2 ，需要考虑三种情况： </p>
<ol>
<li>array[mid] &gt; array[high]:<br>出现这种情况的array类似[3,4,5,6,0,1,2]，此时最小数字一定在mid的右边。<br>low = mid + 1 <ol>
<li>array[mid] == array[high]: 出现这种情况的array类似 [1,0,1,1,1]   或者[1,1,1,0,1]，此时最小数字不好判断在mid左边，还是右边,这时只好一个一个试，low = low + 1 或者 high = high - 1 </li>
<li>array[mid] &lt; array[high]: 出现这种情况的array类似[2,2,3,4,5,6,6],此时最小数字一定就是array[mid]或者在mid的左边。因为右边必然都是递增的。   high = mid。注意这里有个坑：如果待查询的范围最后只剩两个数，那么mid一定会指向下标靠前的数字，比如 array = [4,6]，array[low] = 4 ;array[mid] = 4 ; array[high] = 6 ; 如果high = mid - 1，就会产生错误， 因此high = mid，但情形(1)中low = mid + 1就不会错误。</li>
</ol>
</li>
</ol>
<p>代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minNumberInRotateArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> high = array.length-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(low&lt;high)&#123;</div><div class="line">            <span class="keyword">int</span> mid = low+(high-low)/<span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span>(array[mid]&gt;array[high])&#123;</div><div class="line">                low=mid+<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(array[mid]==array[high])&#123;</div><div class="line">                high=high-<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                high = mid;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> array[low];</div><div class="line">    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="9-斐波那契数列-数组"><a href="#9-斐波那契数列-数组" class="headerlink" title="9. 斐波那契数列(数组)"></a>9. 斐波那契数列(数组)</h2><h3 id="9-1-斐波那契数列"><a href="#9-1-斐波那契数列" class="headerlink" title="9.1 斐波那契数列"></a>9.1 斐波那契数列</h3><p>大家都知道斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。n&lt;=39。<br>这个题可以说是迭代（Iteration） VS 递归（Recursion），f(n) = f(n-1) + f(n-2)，第一眼看就是递归啊，简直完美的递归环境，递归肯定很爽，这样想着关键代码两三行就搞定了，注意这题的n是从0开始的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(n&lt;=<span class="number">1</span>) <span class="keyword">return</span> n;</div><div class="line"><span class="keyword">else</span> <span class="keyword">return</span> Fibonacci(n-<span class="number">1</span>)+Fibonacci(n-<span class="number">2</span>);</div></pre></td></tr></table></figure>
<p>然而并没有什么用，测试用例里肯定准备着一个超大的n来让Stack Overflow，为什么会溢出？因为重复计算，而且重复的情况还很严重，举个小点的例子，n=4，看看程序怎么跑的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Fibonacci(4) = Fibonacci(3) + Fibonacci(2);</div><div class="line">                    = Fibonacci(2) + Fibonacci(1) + Fibonacci(1) + Fibonacci(0);</div><div class="line">                    = Fibonacci(1) + Fibonacci(0) + Fibonacci(1) + Fibonacci(1) + Fibonacci(0);</div></pre></td></tr></table></figure>
<p>由于我们的代码并没有记录Fibonacci(1)和Fibonacci(0)的结果，对于程序来说它每次递归都是未知的，因此光是n=4时f(1)就重复计算了3次之多。</p>
<p>更简单的办法是从下往上计算，首先根据f(0)和f(1)算出f(2)，再根据f(1)和f(2)算出f(3)……依此类推就可以算出第n项了。很容易理解，这种思路的时间复杂度是O(n)。实现代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> num1 = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> num2 = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> fibN=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</div><div class="line">            fibN=num1+num2;</div><div class="line">            num1=num2;</div><div class="line">            num2=fibN;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> fibN;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-2-跳台阶"><a href="#9-2-跳台阶" class="headerlink" title="9.2 跳台阶"></a>9.2 跳台阶</h3><p>一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级台阶总共有多少种跳法。</p>
<p>我们把n级台阶的跳法看成是n的函数，记为f(n)。当n&gt;2时，第一次跳的时候就有两种不同的选择：一是第一次只跳1级，此时跳法数目等于后面剩下的n-1级台阶的跳法数目，即为f(n-1)；另外一种选择是第一次跳2级，此时跳法数目等于后面剩下的n-2级台阶的跳法数目，即为f(n-2)，因此n级台阶的不同跳法的总数f(n)=f(n-1)+f(n-2)。分析到这里，我们不难看出这实际上是斐波那契数列了。<br>代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">JumpFloor</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(target == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(target == <span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(target == <span class="number">2</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> num1 = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> num2 = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> jump = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;target;i++)&#123;</div><div class="line">            jump = num1+num2;</div><div class="line">            num1=num2;</div><div class="line">            num2=jump;                </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> jump;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-3-变态跳台阶"><a href="#9-3-变态跳台阶" class="headerlink" title="9.3 变态跳台阶"></a>9.3 变态跳台阶</h3><p>一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法。</p>
<p>因为n级台阶，第一步有n种跳法：跳1级、跳2级、到跳n级。跳1级，剩下n-1级，则剩下跳法是f(n-1)，跳2级，剩下n-2级，则剩下跳法是f(n-2)。所以f(n)=f(n-1)+f(n-2)+…+f(1)，因为f(n-1)=f(n-2)+f(n-3)+…+f(1)，所以f(n)=2*f(n-1)</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">JumpFloorII</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">2</span>*JumpFloorII(target-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-4-矩形覆盖"><a href="#9-4-矩形覆盖" class="headerlink" title="9.4 矩形覆盖"></a>9.4 矩形覆盖</h3><p>我们可以用$2<em>1$的小矩形横着或者竖着去覆盖更大的矩形。请问用n个$2</em>1$的小矩形无重叠地覆盖一个$2*n$的大矩形，总共有多少种方法？</p>
<p>把$2<em>8$的覆盖方法记为f(8)。用一个$1</em>2$小矩形去覆盖大矩形的最左边有两个选择。竖着放或者横着放。当竖着放时，右边剩下$2<em>7$的区域，记为f(7)。横着放时，当$1</em>2$的小矩阵横着放在左上角的时候，左下角必须横着放一个$1<em>2$的小矩阵，剩下$2</em>6$，记为f(6)，因此f(8)=f(7)+f(6)。此时可以看出，仍然是斐波那契数列。</p>
<p>代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">RectCover</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(target==<span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> num1=<span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> num2=<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> cover =<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;target;i++)&#123;</div><div class="line">            cover = num1+num2;</div><div class="line">            num1=num2;</div><div class="line">            num2=cover; </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> cover;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="10-二进制中1的个数-位运算"><a href="#10-二进制中1的个数-位运算" class="headerlink" title="10. 二进制中1的个数(位运算)"></a>10. 二进制中1的个数(位运算)</h2><p>输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。</p>
<p>如果一个整数不为0，那么这个整数至少有一位是1。如果我们把这个整数减1，那么原来处在整数最右边的1就会变为0，原来在1后面的所有的0都会变成1(如果最右边的1后面还有0的话)。其余所有位将不会受到影响。<br>举个例子：一个二进制数1100，从右边数起第三位是处于最右边的一个1。减去1后，第三位变成0，它后面的两位0变成了1，而前面的1保持不变，因此得到的结果是1011.我们发现减1的结果是把最右边的一个1开始的所有位都取反了。这个时候如果我们再把原来的整数和减去1之后的结果做与运算，从原来整数最右边一个1那一位开始所有位都会变成0。如1100&amp;1011=1000.也就是说，把一个整数减去1，再和原整数做与运算，会把该整数最右边一个1变成0.那么一个整数的二进制有多少个1，就可以进行多少次这样的操作。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">NumberOf1</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> count =<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(n!=<span class="number">0</span>)&#123;</div><div class="line">            count++;</div><div class="line">            n=(n-<span class="number">1</span>)&amp;n;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> count;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="11-数值的整数次方（位运算）"><a href="#11-数值的整数次方（位运算）" class="headerlink" title="11. 数值的整数次方（位运算）"></a>11. 数值的整数次方（位运算）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;  </div><div class="line">    public double Power(double base, int n) &#123;</div><div class="line">        double res = 1,curr = base;</div><div class="line">        int exponent;</div><div class="line">        if(n&gt;0)&#123;</div><div class="line">            exponent = n;</div><div class="line">        &#125;else if(n&lt;0)&#123;</div><div class="line">            if(base==0)</div><div class="line">                throw new RuntimeException(&quot;分母不能为0&quot;);  </div><div class="line">            exponent = -n;</div><div class="line">        &#125;else&#123;// n==0</div><div class="line">            return 1;// 0的0次方</div><div class="line">        &#125;</div><div class="line">        while(exponent!=0)&#123;</div><div class="line">            if((exponent&amp;1)==1)</div><div class="line">                res*=curr;</div><div class="line">            curr*=curr;// 翻倍</div><div class="line">            exponent&gt;&gt;=1;// 右移一位</div><div class="line">        &#125;</div><div class="line">        return n&gt;=0?res:(1/res);        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="12-打印1到最大的n位数（null）"><a href="#12-打印1到最大的n位数（null）" class="headerlink" title="12. 打印1到最大的n位数（null）"></a>12. 打印1到最大的n位数（null）</h2><h2 id="13-在O-1-时间删除链表结点（链表）"><a href="#13-在O-1-时间删除链表结点（链表）" class="headerlink" title="13. 在O(1)时间删除链表结点（链表）"></a>13. 在O(1)时间删除链表结点（链表）</h2><p>给定单向链表的头指针和一个结点指针，定义一个函数在O(1)时间删除该结点。</p>
<p>我们要删除结点i，先把i的下一个结点i.next的内容复制到i，然后在把i的指针指向i.next结点的下一个结点即i.next.next，它的效果刚好是把结点i给删除了。</p>
<p>此外还要考虑删除的结点是头尾结点、链表中只有一个结点、链表为空这几种情况。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeleteNode</span> </span>&#123;  </div><div class="line">    <span class="comment">/** </span></div><div class="line">     * 链表结点 </div><div class="line">     */  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;  </div><div class="line">        <span class="keyword">int</span> value; <span class="comment">// 保存链表的值  </span></div><div class="line">        ListNode next; <span class="comment">// 下一个结点  </span></div><div class="line">    &#125;  </div><div class="line">    <span class="comment">/** </span></div><div class="line">     * 给定单向链表的头指针和一个结点指针，定义一个函数在0(1)时间删除该结点, </div><div class="line">     * 【注意1：这个方法和文本上的不一样，书上的没有返回值，这个因为JAVA引用传递的原因， </div><div class="line">     * 如果删除的结点是头结点，如果不采用返回值的方式，那么头结点永远删除不了】 </div><div class="line">     * 【注意2：输入的待删除结点必须是待链表中的结点，否则会引起错误，这个条件由用户进行保证】 </div><div class="line">     * </div><div class="line">     * <span class="doctag">@param</span> head        链表表的头 </div><div class="line">     * <span class="doctag">@param</span> toBeDeleted 待删除的结点 </div><div class="line">     * <span class="doctag">@return</span> 删除后的头结点 </div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title">deleteNode</span><span class="params">(ListNode head, ListNode toBeDeleted)</span> </span>&#123;  </div><div class="line">        <span class="comment">// 如果输入参数有空值就返回表头结点  </span></div><div class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span> || toBeDeleted == <span class="keyword">null</span>) &#123;  </div><div class="line">            <span class="keyword">return</span> head;  </div><div class="line">        &#125;  </div><div class="line">        <span class="comment">// 如果删除的是头结点，直接返回头结点的下一个结点  </span></div><div class="line">        <span class="keyword">if</span> (head == toBeDeleted) &#123;  </div><div class="line">            <span class="keyword">return</span> head.next;  </div><div class="line">        &#125;  </div><div class="line">          <span class="comment">// 下面的情况链表至少有两个结点  </span></div><div class="line">        <span class="comment">// 在多个节点的情况下，如果删除的是最后一个元素  </span></div><div class="line">        <span class="keyword">if</span> (toBeDeleted.next == <span class="keyword">null</span>) &#123;  </div><div class="line">            <span class="comment">// 找待删除元素的前驱  </span></div><div class="line">            ListNode tmp = head;  </div><div class="line">            <span class="keyword">while</span> (tmp.next != toBeDeleted) &#123;  </div><div class="line">                tmp = tmp.next;  </div><div class="line">            &#125;  </div><div class="line">            <span class="comment">// 删除待结点  </span></div><div class="line">            tmp.next = <span class="keyword">null</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="comment">// 在多个节点的情况下，如果删除的是某个中间结点  </span></div><div class="line">        <span class="keyword">else</span> &#123;  </div><div class="line">            <span class="comment">// 将下一个结点的值输入当前待删除的结点  </span></div><div class="line">            toBeDeleted.value = toBeDeleted.next.value;  </div><div class="line">            <span class="comment">// 待删除的结点的下一个指向原先待删除引号的下下个结点，即将待删除的下一个结点删除  </span></div><div class="line">            toBeDeleted.next = toBeDeleted.next.next;  </div><div class="line">        &#125;  </div><div class="line">        <span class="comment">// 返回删除节点后的链表头结点  </span></div><div class="line">        <span class="keyword">return</span> head;  </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="14-调整数组顺序使奇数位于偶数前面（排序）"><a href="#14-调整数组顺序使奇数位于偶数前面（排序）" class="headerlink" title="14. 调整数组顺序使奇数位于偶数前面（排序）"></a>14. 调整数组顺序使奇数位于偶数前面（排序）</h2><p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-28 下午6.04.43.png" alt="屏幕快照 2017-07-28 下午6.04.43"></p>
<p>书上的方法类似于快排，但快排是不稳定的，即其相对位置会发生变化。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reOrderArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">if</span>(array==<span class="keyword">null</span>||length==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> right = length-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</div><div class="line">            <span class="keyword">while</span>(left&lt;right&amp;&amp;array[left]%<span class="number">2</span>==<span class="number">1</span>)&#123;</div><div class="line">                left++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span>(left&lt;right&amp;&amp;array[right]%<span class="number">2</span>==<span class="number">0</span>)&#123;</div><div class="line">                right--;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">int</span> temp =array[right];</div><div class="line">            array[right]=array[left];</div><div class="line">            array[left]=temp;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里要保证奇数和奇数，偶数和偶数之间的相对位置不变。可以使用插入排序的思想</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reOrderArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">if</span>(array==<span class="keyword">null</span>||length==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(array[i]%<span class="number">2</span>==<span class="number">1</span>)&#123;</div><div class="line">                <span class="keyword">int</span> curr = array[i];</div><div class="line">                <span class="keyword">int</span> j=i-<span class="number">1</span>;</div><div class="line">                <span class="keyword">while</span>(j&gt;=<span class="number">0</span>&amp;&amp;array[j]%<span class="number">2</span>==<span class="number">0</span>)&#123;</div><div class="line">                    array[j+<span class="number">1</span>]=array[j];</div><div class="line">                    j--;</div><div class="line">                &#125;</div><div class="line">                array[j+<span class="number">1</span>]=curr;</div><div class="line">            &#125;    </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="15-链表中倒数第K个结点（链表）"><a href="#15-链表中倒数第K个结点（链表）" class="headerlink" title="15. 链表中倒数第K个结点（链表）"></a>15. 链表中倒数第K个结点（链表）</h2><p>输入一个链表，输出该链表中倒数第k个结点。为了符合大多数人的习惯，本题从1 开始计数，即链表的尾结点是倒数第1个结点。例如一个链表有6个结点，从头结点开始它们的值依次是1、2、3、4、5、6。这个链表的倒数第3个结点的值为4的结点。</p>
<p>很自然的想法是先走到链表尾端，再从尾端回溯k步。可是我们从链表结点的定义可以看出本题中的链表是单向链表，单向链表的结点只有从前向后的指针而没有从后往前的指针，这种思路行不通。</p>
<p>既然不能从尾结点开始遍历链表，我们还是把思路回到头结点上来。假设整个链表有n个结点，那么倒数第k个结点就是从头结点开始往后走n-k+1步就可以了。如何得到结点树n？只需要从头开始遍历链表，每经过一个结点，计数器加1就行了。</p>
<p>也就是说我们需要遍历链表两次，第一次统计出链表中的结点的个数，第二次就能找到倒数第k个结点。但是面试官期待的解法是只需要遍历链表一次。</p>
<p>为了实现只遍历链表一次就能找到倒数第k个结点，我们可以定义两个指针。第一个指针从链表的头指针开始遍历向前走k-1步，第二个指针保持不动；从第k步开始，第二个指针也开始从链表的头指针开始遍历。由于两个指针的距离保持在k-1，当第一个（走在前面的）指针到达链表的尾结点时，第二个指针（走在后边的）指针正好是倒数第k个结点。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 上午11.06.17.png" alt="屏幕快照 2017-07-25 上午11.06.17"></p>
<p>但是这样写出来的代码不够鲁棒，面试官可以找出三种办法让这段代码崩溃：</p>
<ul>
<li>输入的ListHead为空指针。由于代码会试图访问空指针指向的内存，程序崩溃。</li>
<li><ol>
<li>输入的以ListHead为头结点的链表的结点总数少于k。由于在for循环中会在链表上向前走k-1步，仍然会由于空指针造成的程序奔溃。</li>
</ol>
</li>
<li><ol>
<li>输入的参数k为0.由于k是一个无符号整数，那么在for循环中k-1得到的将不是-1，而是4294967295（无符号的0xFFFFFFFFF），因此for循环执行的次数远远超过我们的预计，同样也会造成程序崩溃。</li>
</ol>
</li>
</ul>
<p>面试过程中写代码特别要注意鲁棒性，若写出的代码存在多处崩溃的风险，那我们很可能和offer失之交臂。针对前面三个问题，分别处理。若输入的链表头指针为null，那么整个链表为空，此时查找倒数第k个结点自然应该返回null。若输入的k为0，也就是试图查找倒数第0个结点，由于我们计数是从1开始的，因此输入0是没有实际意义，也可以返回null。若链表的结点数少于k，在for循环中遍历链表可能会出现指向null的next，因此我们在for循环中应该加一个if循环。</p>
<p>代码如下：</p>
<blockquote>
<p>java版本</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;*/</div><div class="line">public class Solution &#123;</div><div class="line">    public ListNode FindKthToTail(ListNode head,int k) &#123;</div><div class="line">        if(head==null||k &lt;=0)&#123;return null;&#125;</div><div class="line">        ListNode pAhead = head;</div><div class="line">        ListNode pBehind = head;</div><div class="line">        </div><div class="line">        for(int i=1;i&lt;k;i++)&#123;</div><div class="line">            if(pAhead.next != null)</div><div class="line">           	    &#123;pAhead = pAhead.next;&#125;</div><div class="line">            else</div><div class="line">                &#123;return null;&#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        </div><div class="line">        while(pAhead.next!=null)</div><div class="line">            &#123;</div><div class="line">            pAhead = pAhead.next;</div><div class="line">            pBehind = pBehind.next;        </div><div class="line">        &#125;</div><div class="line">        return pBehind;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python版本</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"># -*- coding:utf-8 -*-</div><div class="line"># class ListNode:</div><div class="line">#     def __init__(self, x):</div><div class="line">#         self.val = x</div><div class="line">#         self.next = None</div><div class="line">class Solution:</div><div class="line">    def FindKthToTail(self, head, k):</div><div class="line">        # write code here</div><div class="line">        if not head or k == 0:</div><div class="line">            return None</div><div class="line">        pAhead = head</div><div class="line">        pBehind = None</div><div class="line">        for i in xrange(0,k-1):</div><div class="line">            if pAhead.next != None:                </div><div class="line">          	    pAhead = pAhead.next</div><div class="line">            else:</div><div class="line">                return None</div><div class="line">        pBehind = head</div><div class="line">        while pAhead.next != None:</div><div class="line">            pAhead = pAhead.next</div><div class="line">            pBehind = pBehind.next</div><div class="line">        return pBehind</div></pre></td></tr></table></figure>
<h2 id="16-反转链表（链表）"><a href="#16-反转链表（链表）" class="headerlink" title="16. 反转链表（链表）"></a>16. 反转链表（链表）</h2><p>定义一个函数，输入一个链表的头结点，反转该链表并输出反转后的头结点。链表结点定义如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解决与链表相关的问题总是有大量的指针操作，而指针操作的代码总是容易出错的。</p>
<p>为了正确地反转一个链表，需要调整链表中指针的方向。为了将调整指针这个复杂的过程分析清楚，可以借助图形来直观分析。在下图所示的链表中，h、i、j是3个相邻的结点。假设经过若干操作，我们已经把结点h之前的指针调整完毕，这些结点的next指向h，此时链表的结果如下所示：</p>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-24 下午11.13.37.png" alt="屏幕快照 2017-07-24 下午11.13.37"></p>
<p>其中（a）为一个链表，（b）把i之前的所有结点的next都指向前一个结点，导致链表在结点i、j之间断裂。</p>
<p>不难注意到，由于结点i的next指向了它的前一个结点，导致我们无法再链表中遍历到结点j。为了避免链表在结点i处断开，我们需要在调整结点i的next之前把结点j保存下来。</p>
<p>也就是说我们在调整结点i的next指针时，除了需要知道结点i本身之外，还需要前一个结点h，因为我们需要把结点i的next指向结点h。同时，我们还事先需要保存i的一个结点j，以防止链表断开。因此相应地我们需要定义3个指针，分别指向当前遍历到的结点、它的前一个结点及后一个结点。</p>
<p>最后我们试着找到反转后链表的头结点。不难分析出反转后链表的头结点是原始链表的尾结点。什么结点是尾结点？自然是next为null的结点。</p>
<script type="math/tex; mode=display">pre\rightarrow head \rightarrow next</script><p>先保存next，即$next = head.next$再反转head的指针$head.next=pre $，链表结构变成</p>
<script type="math/tex; mode=display">pre\leftarrow head \ \ \ next</script><p>接着向后移动结点$pre=head,head=next$</p>
<p>实现代码如下：</p>
<blockquote>
<p>java版本</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">ReverseList</span><span class="params">(ListNode head)</span> </span>&#123;</div><div class="line">       </div><div class="line">        <span class="keyword">if</span>(head==<span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        <span class="comment">//head为当前节点，如果当前节点为空的话，那就什么也不做，直接返回null；</span></div><div class="line">        ListNode pre = <span class="keyword">null</span>;</div><div class="line">        ListNode next = <span class="keyword">null</span>;</div><div class="line">        <span class="comment">//当前节点是head，pre为当前节点的前一节点，next为当前节点的下一节点</span></div><div class="line">        <span class="comment">//需要pre和next的目的是让当前节点从pre-&gt;head-&gt;next1-&gt;next2变成pre&lt;-head next1-&gt;next2</span></div><div class="line">        <span class="comment">//即pre让节点可以反转所指方向，但反转之后如果不用next节点保存next1节点的话，此单链表就此断开了</span></div><div class="line">        <span class="comment">//所以需要用到pre和next两个节点</span></div><div class="line">        <span class="comment">//1-&gt;2-&gt;3-&gt;4-&gt;5</span></div><div class="line">        <span class="comment">//1&lt;-2&lt;-3 4-&gt;5</span></div><div class="line">        <span class="keyword">while</span>(head!=<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="comment">//做循环，如果当前节点不为空的话，始终执行此循环，此循环的目的就是让当前节点从指向next到指向pre</span></div><div class="line">            <span class="comment">//如此就可以做到反转链表的效果</span></div><div class="line">            <span class="comment">//先用next保存head的下一个节点的信息，保证单链表不会因为失去head节点的原next节点而就此断裂</span></div><div class="line">            next = head.next;</div><div class="line">            <span class="comment">//保存完next，就可以让head从指向next变成指向pre了，代码如下</span></div><div class="line">            head.next = pre;</div><div class="line">            <span class="comment">//head指向pre后，就继续依次反转下一个节点</span></div><div class="line">            <span class="comment">//让pre，head，next依次向后移动一个节点，继续下一次的指针反转</span></div><div class="line">            pre = head;</div><div class="line">            head = next;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//如果head为null的时候，pre就为最后一个节点了，但是链表已经反转完毕，pre就是反转后链表的第一个节点</span></div><div class="line">        <span class="comment">//直接输出pre就是我们想要得到的反转后的链表</span></div><div class="line">        <span class="keyword">return</span> pre;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python版本</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"><span class="comment"># class ListNode:</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.next = None</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="comment"># 返回ListNode</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ReverseList</span><span class="params">(self, pHead)</span>:</span></div><div class="line">        <span class="comment"># write code here</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pHead <span class="keyword">or</span> <span class="keyword">not</span> pHead.next:</div><div class="line">            <span class="keyword">return</span> pHead          </div><div class="line">        pre = <span class="keyword">None</span>        </div><div class="line">        <span class="keyword">while</span> pHead:</div><div class="line">            next1 = pHead.next</div><div class="line">            pHead.next = pre</div><div class="line">            pre = pHead</div><div class="line">            pHead = next1</div><div class="line">        <span class="keyword">return</span> pre</div></pre></td></tr></table></figure>
<h2 id="17-合并两个排序的链表（链表）"><a href="#17-合并两个排序的链表（链表）" class="headerlink" title="17. 合并两个排序的链表（链表）"></a>17. 合并两个排序的链表（链表）</h2><p>输入两个递增排序的链表，合并这两个链表并使新链表中的结点仍然是按照递增排序的。例如下图中的链表1和链表2，则合并之后的升序链表3如下所示：<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 上午9.26.52.png" alt="屏幕快照 2017-07-25 上午9.26.52"></p>
<p>这是一个经常被各公司采用的面试题。在面试过程中，最容易犯两种错误：一是在写代码之前没有对合并的过程想清楚，最终合并出来的链表要么中间断开了，要么并没有做到递增排序；二是代码在鲁棒性方面存在问题，程序一旦有特殊的输入（如空链表）就会奔溃。<br>首先分析合并两个链表的过程。从合并两个链表的头结点开始。链表1的头结点的值小于链表2的头结点的值，因此链表1的头结点将是合并后链表的头结点。</p>
<p>继续合并剩余的结点。在两个链表中剩下的结点依然是排序的，因此合并这两个链表的步骤和前面的步骤是一样的。依旧比较两个头结点的值。此时链表2的头结点值小于链表1的头结点的值，因此链表2的头结点的值将是合并剩余结点得到的链表的头结点。把这个结点和前面合并链表时得到的链表的尾结点链接起来。</p>
<p>当我们得到两个链表中值较小的头结点并把它链接到已经合并的链表之后，两个链表剩余的结点依然是排序的，因此合并的步骤和之前的步骤是一样的。这是典型的递归过程，我们可以定义递归函数完成这一合并过程。（解决这个问题需要大量的指针操作，如没有透彻地分析问题形成清晰的思路，很难写出正确的代码）</p>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 上午9.39.51.png" alt="屏幕快照 2017-07-25 上午9.39.51"></p>
<p>接下来解决鲁棒性问题，每当代码试图访问空指针指向的内存时程序就会奔溃，从而导致鲁棒性问题。本题中一旦输入空的链表就会引入空的指针，因此我们要对空链表单独处理。当第一个链表是空链表，也就是它的头结点是一个空指针时，和第二个链表合并的结果就是第二个链表。同样，当输入的第二个链表的头结点是空指针的时候，和第一个链表合并得到的结果就是第一个链表。如果两个链表都为空，合并得到的是一个空链表。（由于有大量的指针操作，如果稍有不慎就会在代码中遗留很多与鲁棒性相关的隐患。建议应聘者在写代码之前全面分析哪些情况会引入空指针，并考虑清楚怎么处理这些空指针。）</p>
<p>代码如下：</p>
<blockquote>
<p>java版本</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">Merge</span><span class="params">(ListNode list1,ListNode list2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (list1==<span class="keyword">null</span>) <span class="keyword">return</span> list2;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (list2==<span class="keyword">null</span>) <span class="keyword">return</span> list1;</div><div class="line">        ListNode MergeHead = <span class="keyword">null</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (listval&lt;=list2.val)&#123;</div><div class="line">            MergeHead = list1;</div><div class="line">            MergeHead.next = Merge(listnext,list2);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> </div><div class="line">        	&#123;MergeHead = list2;</div><div class="line">             MergeHead.next = Merge(list1,list2.next);</div><div class="line">             &#125;</div><div class="line">        <span class="keyword">return</span> MergeHead;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python版本</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"><span class="comment"># class ListNode:</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.next = None</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="comment"># 返回合并后列表</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Merge</span><span class="params">(self, pHead1, pHead2)</span>:</span></div><div class="line">        <span class="comment"># write code here</span></div><div class="line">        <span class="keyword">if</span> pHead1== <span class="keyword">None</span>:</div><div class="line">            <span class="keyword">return</span> pHead2</div><div class="line">        <span class="keyword">if</span> pHead2== <span class="keyword">None</span>:</div><div class="line">            <span class="keyword">return</span> pHead1</div><div class="line">        MergeHead = <span class="keyword">None</span>        </div><div class="line">        <span class="keyword">if</span> pHeadval &lt; pHead2.val:</div><div class="line">            MergeHead = pHead1</div><div class="line">            MergeHead.next = self.Merge(pHeadnext,pHead2)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            MergeHead = pHead2</div><div class="line">            MergeHead.next = self.Merge(pHead1,pHead2.next)</div><div class="line">        <span class="keyword">return</span> MergeHead</div></pre></td></tr></table></figure>
<h2 id="18-树的子结构（二叉树）"><a href="#18-树的子结构（二叉树）" class="headerlink" title="18. 树的子结构（二叉树）"></a>18. 树的子结构（二叉树）</h2><p>输入两棵二叉树A，B，判断B是不是A的子结构。（ps：我们约定空树不是任意一个树的子结构）</p>
<p>要查找树A中是否存在和树B结构一样的子树，我们可以分成两步：第一步在树A中找到和B的根结点的值一样的结点R，第二步再判断树A以R为根结点的子树是不是包含和树B一样的结构。</p>
<p>第一步在树A中查找与根结点的值一样的结点，实际上就是树的遍历。对二叉树这种数据结构熟悉的读者自然知道可以用递归的方法去遍历，也可以用循环的方法去遍历。由于递归的代码实现比较简洁，面试时如果没有特别要求，通常会采用递归的方式。参考代码如下：</p>
<blockquote>
<p>java第一步</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">HasSubtree</span><span class="params">(TreeNode root1,TreeNode root2)</span> </span>&#123;</div><div class="line">        <span class="keyword">boolean</span> result = <span class="keyword">false</span>;</div><div class="line">        <span class="comment">//一定要注意边界条件的检查，即检查空指针。否则程序容易奔溃，面试时尤其要注意。这里当Tree1和Tree2都不为零的时候，才进行比较。否则直接返回false</span></div><div class="line">        <span class="keyword">if</span>(root1!=<span class="keyword">null</span>&amp;&amp;root2!=<span class="keyword">null</span>)&#123;</div><div class="line">        <span class="comment">////如果找到了对应Tree2的根节点的点</span></div><div class="line">            <span class="keyword">if</span>(root1.val==root2.val)&#123;</div><div class="line">            <span class="comment">//以这个根节点为为起点判断是否包含Tree2</span></div><div class="line">                result = DoesTree1HaveTree2(root1,root2);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//如果找不到，那么就再去root的左儿子当作起点，去判断是否包含Tree2</span></div><div class="line">            <span class="keyword">if</span>(!result)&#123;</div><div class="line">                result=HasSubtree(root1.left,root2);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//如果还找不到，那么就再去root的右儿子当作起点，去判断是否包含Tree2</span></div><div class="line">            <span class="keyword">if</span>(!result)&#123;</div><div class="line">                result=HasSubtree(root1.right,root2);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">        </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>第二步是判断树A中以R为根结点的子树是不是和树B具有相同的结构。同样，我们也可以用递归的思路来考虑：如果结点R的值和树B的根结点不同，则以R为根结点的子树和树B一定不具有相同的结点；如果他们的值相同，则递归地判断它们各自的左右结点的值是不是相同。递归的终止条件是我们达到了树A或者树B的叶结点。</p>
<p>代码如下：</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">DoesTree1HaveTree2</span><span class="params">(TreeNode root1,TreeNode root2)</span></span>&#123;</div><div class="line">       <span class="comment">//如果Tree2已经遍历完了都能对应的上，返回true</span></div><div class="line">        <span class="keyword">if</span>(root2==<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//如果Tree2还没有遍历完，Tree1却遍历完了。返回false</span></div><div class="line">        <span class="keyword">if</span>(root1==<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">         <span class="comment">//如果其中有一个点没有对应上，返回false</span></div><div class="line">        <span class="keyword">if</span>(root1.val!=root2.val)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//如果根节点对应的上，那么就分别去左右子节点里面匹配</span></div><div class="line">        <span class="keyword">return</span> DoesTree1HaveTree2(root1.left,root2.left)&amp;&amp;DoesTree1HaveTree2(root1.right,root2.right);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午2.54.39.png" alt="屏幕快照 2017-08-01 下午2.54.39"></p>
<p>二叉树相关的代码有大量的指针操作，每一次使用指针的时候，我们都要问自己这个指针有没有可能是NULL，如果是NULL该怎么处理。</p>
<h2 id="19-二叉树的镜像（二叉树）"><a href="#19-二叉树的镜像（二叉树）" class="headerlink" title="19. 二叉树的镜像（二叉树）"></a>19. 二叉树的镜像（二叉树）</h2><p>操作给定的二叉树，将其变换为源二叉树的镜像。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午3.06.35.png" alt="屏幕快照 2017-08-01 下午3.06.35"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Mirror</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="comment">//边界</span></div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span>(root.left==<span class="keyword">null</span>&amp;&amp;root.right==<span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        <span class="comment">//交换左右子树</span></div><div class="line">        TreeNode temp = root.left;</div><div class="line">        root.left=root.right;</div><div class="line">        root.right=temp;</div><div class="line">        <span class="comment">//递归</span></div><div class="line">        <span class="keyword">if</span>(root.left!=<span class="keyword">null</span>)&#123;</div><div class="line">            Mirror(root.left);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(root.right!=<span class="keyword">null</span>)&#123;</div><div class="line">            Mirror(root.right);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="20-顺时针打印矩阵（数组）"><a href="#20-顺时针打印矩阵（数组）" class="headerlink" title="20. 顺时针打印矩阵（数组）"></a>20. 顺时针打印矩阵（数组）</h2><p>输入一个矩阵，按照从外向里以顺时针依次打印出每一个数字。例如，输入如下矩阵：<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午3.15.07.png" alt="屏幕快照 2017-08-01 下午3.15.07"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">printMatrix</span><span class="params">(<span class="keyword">int</span> [][] matrix)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> row = matrix.length;</div><div class="line">        <span class="keyword">int</span> col = matrix[<span class="number">0</span>].length;        </div><div class="line">        ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt; ();</div><div class="line">        <span class="comment">// 输入的二维数组非法，返回空的数组</span></div><div class="line">        <span class="keyword">if</span>(row==<span class="number">0</span>&amp;&amp;col==<span class="number">0</span>)<span class="keyword">return</span> result;</div><div class="line">        <span class="comment">// 定义四个关键变量，表示左上和右下的打印范围</span></div><div class="line">        <span class="keyword">int</span> left =<span class="number">0</span>,top=<span class="number">0</span>,right=col-<span class="number">1</span>,bottom=row-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;=right&amp;&amp;top&lt;=bottom)&#123;</div><div class="line">             <span class="comment">// left to right</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=left;i&lt;=right;i++)&#123;result.add(matrix[top][i]);&#125;</div><div class="line">            <span class="comment">// top to bottom</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=top+<span class="number">1</span>;i&lt;=bottom;i++)&#123;result.add(matrix[i][right]);&#125;</div><div class="line">            <span class="comment">// right to left</span></div><div class="line">            <span class="keyword">if</span>(top!=bottom)&#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=right-<span class="number">1</span>;i&gt;=left;i--)&#123;result.add(matrix[bottom][i]);&#125;&#125;</div><div class="line">            <span class="comment">// bottom to top</span></div><div class="line">            <span class="keyword">if</span>(left!=right)&#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=bottom-<span class="number">1</span>;i&gt;=top+<span class="number">1</span>;i--)&#123;result.add(matrix[i][left]);&#125;&#125;</div><div class="line">            left++;right--;top++;bottom--;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">       </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="21-包含min函数的栈（栈）"><a href="#21-包含min函数的栈（栈）" class="headerlink" title="21.包含min函数的栈（栈）"></a>21.包含min函数的栈（栈）</h2><p>定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。在该栈中，调用min、push及pop的时间复杂度都是O(1)。</p>
<p>可以利用一个辅助栈来存放最小值<br>  <img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午10.53.41.png" alt="屏幕快照 2017-08-01 下午10.53.41"><br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-01 下午10.53.48.png" alt="屏幕快照 2017-08-01 下午10.53.48"></p>
<p>  每入栈一次，就与辅助栈顶比较大小，如果小就入栈，如果大就入栈当前的辅助栈顶 。<br>  当出栈时，辅助栈也要出栈<br>  这种做法可以保证辅助栈顶一定都是最小元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">import java.util.Stack;</div><div class="line"></div><div class="line">public class Solution &#123;</div><div class="line">    Stack&lt;Integer&gt; data = new Stack&lt;Integer&gt;();</div><div class="line">    Stack&lt;Integer&gt; min = new Stack&lt;Integer&gt;();</div><div class="line">    </div><div class="line">    public void push(int node) &#123;</div><div class="line">        data.push(node);</div><div class="line">        if(min.empty())&#123;min.push(data.peek());&#125;</div><div class="line">        else if(data.peek()&lt;min.peek())&#123;min.push(data.peek());&#125;</div><div class="line">        else min.push(min.peek());</div><div class="line">        &#125;  </div><div class="line">    public void pop() &#123;</div><div class="line">        data.pop();</div><div class="line">        min.pop();      </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public int top() &#123;</div><div class="line">        return data.peek();</div><div class="line">        </div><div class="line">    &#125;    </div><div class="line">    public int min() &#123;</div><div class="line">        return min.peek();        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="22-栈的压入、弹出序列（栈）"><a href="#22-栈的压入、弹出序列（栈）" class="headerlink" title="22. 栈的压入、弹出序列（栈）"></a>22. 栈的压入、弹出序列（栈）</h2><p>输入两个整数序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。假设压入栈的所有数字均不相等。例如序列1,2,3,4,5是某栈的压入顺序，序列4，5，3，2，1是该压栈序列对应的一个弹出序列，但4，3，5，1，2就不可能是该压栈序列的弹出序列。（注意：这两个序列的长度是相等的）</p>
<p>借用一个辅助的栈，遍历压栈顺序，先讲第一个放入栈中，这里是1，然后判断栈顶元素是不是出栈顺序的第一个元素，这里是4，很显然1≠4，所以我们继续压栈，直到相等以后开始出栈，出栈一个元素，则将出栈顺序向后移动一位，直到不相等，这样循环等压栈顺序遍历完成，如果辅助栈还不为空，说明弹出序列不是该栈的弹出顺序。<br>举例：<br>入栈1,2,3,4,5<br>出栈4,5,3,2,1<br>首先1入辅助栈，此时栈顶1≠4，继续入栈2<br>此时栈顶2≠4，继续入栈3<br>此时栈顶3≠4，继续入栈4<br>此时栈顶4＝4，出栈4，弹出序列向后一位，此时为5，,辅助栈里面是1,2,3<br>此时栈顶3≠5，继续入栈5<br>此时栈顶5=5，出栈5,弹出序列向后一位，此时为3，,辅助栈里面是1,2,3<br>….<br>依次执行，最后辅助栈为空。如果不为空说明弹出序列不是该栈的弹出顺序。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">IsPopOrder</span><span class="params">(<span class="keyword">int</span> [] pushA,<span class="keyword">int</span> [] popA)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(pushA.length==<span class="number">0</span>||popA.length==<span class="number">0</span>)<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        Stack&lt;Integer&gt; S=<span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">        <span class="keyword">int</span> popIndex = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pushA.length;i++)&#123;</div><div class="line">            S.push(pushA[i]);</div><div class="line">            <span class="keyword">while</span>(!S.empty()&amp;&amp;popA[popIndex]==S.peek())&#123;</div><div class="line">                S.pop();</div><div class="line">                popIndex++;</div><div class="line">            &#125;            </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> S.empty();      </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="23-从上往下打印二叉树（二叉树）"><a href="#23-从上往下打印二叉树（二叉树）" class="headerlink" title="23. 从上往下打印二叉树（二叉树）"></a>23. 从上往下打印二叉树（二叉树）</h2><p>从上往下打印出二叉树的每个节点，同层节点从左至右打印。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-02 上午12.17.30.png" alt="屏幕快照 2017-08-02 上午12.17.30"></p>
<p>每次打印一个结点时，如果该结点有子结点，则把该结点的子结点放到队列的末尾。接下来到队列的头部取出最早进入队列的结点，重复前面的打印操作。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.LinkedList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">PrintFromTopToBottom</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        ArrayList&lt;Integer&gt; List=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;<span class="keyword">return</span> List;&#125;</div><div class="line">        </div><div class="line">        LinkedList&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">        queue.add(root);<span class="comment">//先把根结点加入队列q</span></div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;<span class="comment">//队列非空时</span></div><div class="line">            TreeNode treenode=queue.remove();<span class="comment">//取出队列头结点</span></div><div class="line">            <span class="keyword">if</span>(treenode.left!=<span class="keyword">null</span>)&#123;queue.add(treenode.left);&#125;<span class="comment">//向队列加入左孩子（若有）</span></div><div class="line">            <span class="keyword">if</span>(treenode.right!=<span class="keyword">null</span>)&#123;queue.add(treenode.right);&#125;<span class="comment">//向队列加入右孩子（若有）</span></div><div class="line">            List.add(treenode.val);<span class="comment">//加到打印列表中</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> List;        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="24-二叉搜索树的后序遍历序列（二叉树）"><a href="#24-二叉搜索树的后序遍历序列（二叉树）" class="headerlink" title="24. 二叉搜索树的后序遍历序列（二叉树）"></a>24. 二叉搜索树的后序遍历序列（二叉树）</h2><p>输入一个整数数组，判断该数组是不是某二叉搜索树的后序遍历的结果。如果是则输出Yes,否则输出No。假设输入的数组的任意两个数字都互不相同。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-02 上午9.50.37.png" alt="屏幕快照 2017-08-02 上午9.50.37"><br>在后序遍历得到的序列中，最后一个数字是树的根结点的值。数组中前面的数字可以分成两部分：第一部分是左子树结点的值，它们都比根结点小；第二部分是右子树结点的值，它们都比根结点大。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Arrays;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">VerifySquenceOfBST</span><span class="params">(<span class="keyword">int</span> [] sequence)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = sequence.length;</div><div class="line">        <span class="keyword">if</span>(sequence==<span class="keyword">null</span>||length==<span class="number">0</span>)&#123;<span class="keyword">return</span> <span class="keyword">false</span>;&#125;</div><div class="line">        <span class="keyword">int</span> root = sequence[length-<span class="number">1</span>];<span class="comment">//根结点</span></div><div class="line">        <span class="keyword">int</span> i=<span class="number">0</span>; <span class="comment">//外部初始化     </span></div><div class="line">        <span class="comment">//找到左子树的最后一个结点位置</span></div><div class="line">        <span class="keyword">for</span>(;i&lt;length-<span class="number">1</span>;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(sequence[i]&gt;root)&#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;    </div><div class="line">        <span class="comment">//如果右子树的结点值小于根结点的值，则返回false</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;length-<span class="number">1</span>;j++)&#123;</div><div class="line">            <span class="keyword">if</span>(sequence[j]&lt;root)&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;    </div><div class="line">        <span class="comment">//初始化</span></div><div class="line">        <span class="keyword">boolean</span> left=<span class="keyword">true</span>;</div><div class="line">        <span class="keyword">boolean</span> right=<span class="keyword">true</span>;</div><div class="line">        <span class="comment">//递归左右子树</span></div><div class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</div><div class="line">            left = VerifySquenceOfBST(Arrays.copyOfRange(sequence,<span class="number">0</span>,i));<span class="comment">//Arrays的copyOfRange方法</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(i&lt;length-<span class="number">1</span>)&#123;</div><div class="line">            right = VerifySquenceOfBST(Arrays.copyOfRange(sequence,i,length-<span class="number">1</span>));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> left&amp;&amp;right;                </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="25-二叉树中和为某一值的路径（二叉树）"><a href="#25-二叉树中和为某一值的路径（二叉树）" class="headerlink" title="25. 二叉树中和为某一值的路径（二叉树）"></a>25. 二叉树中和为某一值的路径（二叉树）</h2><p>输入一颗二叉树和一个整数，打印出二叉树中结点值的和为输入整数的所有路径。路径定义为从树的根结点开始往下一直到叶结点所经过的结点形成一条路径。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; listAll = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">    <span class="keyword">private</span> ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; FindPath(TreeNode root,<span class="keyword">int</span> target) &#123;</div><div class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> listAll;</div><div class="line">        list.add(root.val);</div><div class="line">        target -= root.val;<span class="comment">//每次减去结点的值</span></div><div class="line">        <span class="comment">//如果target等于0，则说明这条路径和为target，添加到listAll中</span></div><div class="line">        <span class="keyword">if</span>(target == <span class="number">0</span> &amp;&amp; root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>)</div><div class="line">            listAll.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(list));<span class="comment">//因为add添加的是引用，如果不new一个的话，后面的操作会更改listAll中list的值</span></div><div class="line">        <span class="comment">//向左孩子递归</span></div><div class="line">        <span class="keyword">if</span>(root.left!=<span class="keyword">null</span>)FindPath(root.left, target);</div><div class="line">        <span class="comment">//向右孩子递归</span></div><div class="line">        <span class="keyword">if</span>(root.right!=<span class="keyword">null</span>)FindPath(root.right, target);</div><div class="line">        <span class="comment">//如果不满足条件，则回到父节点；</span></div><div class="line">        list.remove(list.size()-<span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span> listAll;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="26-复杂链表的复制（链表）"><a href="#26-复杂链表的复制（链表）" class="headerlink" title="26. 复杂链表的复制（链表）"></a>26. 复杂链表的复制（链表）</h2><p>输入一个复杂链表（每个节点中有节点值，以及两个指针，一个指向下一个节点，另一个特殊指针指向任意一个节点），返回结果为复制后复杂链表的head。（注意，输出结果中请不要返回参数中的节点引用，否则判题程序会直接返回空）</p>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-04 下午7.51.53.png" alt="屏幕快照 2017-08-04 下午7.51.53"><br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-04 下午7.52.01.png" alt="屏幕快照 2017-08-04 下午7.52.01"><br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-04 下午7.52.07.png" alt="屏幕快照 2017-08-04 下午7.52.07"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> RandomListNode <span class="title">Clone</span><span class="params">(RandomListNode pHead)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (pHead == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">         <span class="comment">//复制next 如原来是A-&gt;B-&gt;C 变成A-&gt;A'-&gt;B-&gt;B'-&gt;C-&gt;C'</span></div><div class="line">        RandomListNode pCur = pHead;</div><div class="line">        <span class="keyword">while</span> (pCur != <span class="keyword">null</span>)</div><div class="line">        &#123;</div><div class="line">            RandomListNode node = <span class="keyword">new</span> RandomListNode(pCur.label);</div><div class="line">            node.next = pCur.next;</div><div class="line">            pCur.next = node;</div><div class="line">            pCur = node.next;</div><div class="line">        &#125;</div><div class="line">         <span class="comment">//复制random pCur是原来链表的结点 pCur.next是复制pCur的结点</span></div><div class="line">        pCur = pHead;</div><div class="line">        <span class="keyword">while</span> (pCur!=<span class="keyword">null</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span> (pCur.random!=<span class="keyword">null</span>)</div><div class="line">                pCur.next.random = pCur.random.next;</div><div class="line">            pCur = pCur.next.next;</div><div class="line">        &#125;</div><div class="line">         <span class="comment">//拆分链表</span></div><div class="line">        RandomListNode head = pHead.next;</div><div class="line">        RandomListNode tmp = head;</div><div class="line">        pCur = pHead;</div><div class="line">        <span class="keyword">while</span>(pCur.next!=<span class="keyword">null</span>)</div><div class="line">        &#123;</div><div class="line">            tmp = pCur.next;</div><div class="line">            pCur.next = tmp.next;</div><div class="line">            pCur = tmp;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> head;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="27-二叉搜素树与双向链表（二叉树）"><a href="#27-二叉搜素树与双向链表（二叉树）" class="headerlink" title="27. 二叉搜素树与双向链表（二叉树）"></a>27. 二叉搜素树与双向链表（二叉树）</h2><p>输入一棵二叉搜索树，将该二叉搜索树转换成一个排序的双向链表。要求不能创建任何新的结点，只能调整树中结点指针的指向。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    TreeNode head = <span class="keyword">null</span>;</div><div class="line">    TreeNode realHead = <span class="keyword">null</span>;</div><div class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">Convert</span><span class="params">(TreeNode pRootOfTree)</span> </span>&#123;</div><div class="line">        ConvertSub(pRootOfTree);</div><div class="line">        <span class="keyword">return</span> realHead<span class="comment">//realHead是每个子树排序后的第一个结点，head是排序后的最后一个结点;</span></div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ConvertSub</span><span class="params">(TreeNode pRootOfTree)</span> </span>&#123;</div><div class="line">        <span class="comment">//递归中序遍历</span></div><div class="line">        <span class="keyword">if</span>(pRootOfTree==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">        ConvertSub(pRootOfTree.left);</div><div class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="comment">//初始处</span></div><div class="line">            head = pRootOfTree;</div><div class="line">            realHead = pRootOfTree;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">//前两句实现双向，第三句跳到下一个节点。</span></div><div class="line">            head.right = pRootOfTree;</div><div class="line">            pRootOfTree.left = head;</div><div class="line">            head = pRootOfTree;</div><div class="line">        &#125;</div><div class="line">        ConvertSub(pRootOfTree.right);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="28-字符串的排列（字符串）"><a href="#28-字符串的排列（字符串）" class="headerlink" title="28. 字符串的排列（字符串）"></a>28. 字符串的排列（字符串）</h2><p>输入一个字符串,按字典序打印出该字符串中字符的所有排列。例如输入字符串abc,则打印出由字符a,b,c所能排列出来的所有字符串abc,acb,bac,bca,cab和cba。</p>
<p>首先我要打印abc的全排列，就是第一步把a 和bc交换（得到bac,cab），这需要一个for循环，循环里面有一个swap，交换之后就相当于不管第一步了，进入下一步递归，所以跟一个递归函数， 完成递归之后把交换的换回来，变成原来的字串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">abc 为例子：</div><div class="line">1. 固定a, 求后面bc的全排列： abc, acb。 求完后，a 和 b交换； 得到bac,开始第二轮</div><div class="line">2. 固定b, 求后面ac的全排列： bac, bca。 求完后，b 和 c交换； 得到cab,开始第三轮</div><div class="line">3. 固定c, 求后面ba的全排列： cab, cba</div><div class="line"> 即递归树： </div><div class="line">　　　　　str:　　 a    　　　　 b 　　　　　　  c</div><div class="line">　　　　　　 　　ab ac     　　ba bc  　　　     ca cb</div><div class="line">　   　result:     abc acb    　 bac bca　     　   cab cba</div></pre></td></tr></table></figure>
<p><img src="http://omu7tit09.bkt.clouddn.com/15016515510574.jpg" alt=""></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">Permutation</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span>(str.length()==<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> list;</div><div class="line">        <span class="keyword">char</span>[] array = str.toCharArray();</div><div class="line">        permutation(array,<span class="number">0</span>,list);</div><div class="line">        Collections.sort(list);</div><div class="line">        <span class="keyword">return</span> list;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">permutation</span><span class="params">(<span class="keyword">char</span>[] array,<span class="keyword">int</span> begin,ArrayList&lt;String&gt; list)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(begin == array.length-<span class="number">1</span>) &#123;</div><div class="line">            list.add(String.valueOf(array));</div><div class="line">        &#125;<span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=begin;i&lt;array.length;++i) &#123;</div><div class="line">                <span class="keyword">if</span>(i==begin || array[i]!=array[begin]) &#123;</div><div class="line">                    swap(array,begin,i);</div><div class="line">                    permutation(array,begin+<span class="number">1</span>,list);</div><div class="line">                    swap(array,begin,i);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">char</span>[] array,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">char</span> temp = array[i];</div><div class="line">        array[i] = array[j];</div><div class="line">        array[j] = temp;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="29-数组中出现次数超过一半的数字（数组）"><a href="#29-数组中出现次数超过一半的数字（数组）" class="headerlink" title="29. 数组中出现次数超过一半的数字（数组）"></a>29. 数组中出现次数超过一半的数字（数组）</h2><p>数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。</p>
<p>数组中有一个数字出现的次数超过数组长度的一半，也就是说它出现的次数比其他所有数字出现的次数的和还要多。因此我们可以考虑在遍历数组的时候保存两个值：一个是数组的一个数字，一个是次数。当我们遍历到下一个数字的时候，如果下一个数字和我们之前保存的数字相同，则次数加1；如果不同，则次数减1；如果次数为0，则保存下一个数字，并把次数设为1。</p>
<p>还要判断这个数字是否超过数组长度的一半，如果不存在输出0。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(array==<span class="keyword">null</span>||array.length==<span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> result=array[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> count=<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;array.length;i++)&#123;</div><div class="line">           <span class="keyword">if</span>(result==array[i])&#123;</div><div class="line">               count++; &#125;</div><div class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(result!=array[i])&#123;</div><div class="line">               count--; &#125;</div><div class="line">           <span class="keyword">if</span>(count==<span class="number">0</span>)&#123;</div><div class="line">               result=array[i];</div><div class="line">               count=<span class="number">1</span>;</div><div class="line">           &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> times=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(array[i]==result)&#123;</div><div class="line">                times++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(times*<span class="number">2</span>&lt;=array.length)&#123;</div><div class="line">            System.out.println(times);</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> </div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="30-最小的K个数（数组）"><a href="#30-最小的K个数（数组）" class="headerlink" title="30. 最小的K个数（数组）"></a>30. 最小的K个数（数组）</h2><p>输入n个整数，找出其中最小的K个数。例如输入4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4,。</p>
<p>第一种方法，借用partition函数</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList; </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123; </div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">GetLeastNumbers_Solution</span><span class="params">(<span class="keyword">int</span>[] input, <span class="keyword">int</span> k)</span> </span>&#123; </div><div class="line">        ArrayList&lt;Integer&gt; output = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(); </div><div class="line">        <span class="keyword">int</span> length = input.length; </div><div class="line">        <span class="keyword">if</span> (input == <span class="keyword">null</span> || length &lt;= <span class="number">0</span> || length &lt; k || k&lt;= <span class="number">0</span>) &#123; </div><div class="line">            <span class="keyword">return</span> output; </div><div class="line">        &#125; </div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>; </div><div class="line">        <span class="keyword">int</span> right = length - <span class="number">1</span>; </div><div class="line">        <span class="keyword">int</span> index = partition(input,left,right); </div><div class="line">        <span class="keyword">while</span>(index != k -<span class="number">1</span>) &#123; </div><div class="line">            <span class="keyword">if</span>(index &lt; k - <span class="number">1</span>) &#123; </div><div class="line">                left = index + <span class="number">1</span>; <span class="comment">//不够的话往右边走走</span></div><div class="line">                index = partition(input,left,right); </div><div class="line">            &#125; </div><div class="line">            <span class="keyword">else</span> &#123; </div><div class="line">                right = index - <span class="number">1</span>; <span class="comment">//太多的话往左边走走</span></div><div class="line">                index = partition(input,left,right); </div><div class="line">            &#125; </div><div class="line">        &#125; </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; k;i++) &#123; </div><div class="line">            output.add(input[i]); </div><div class="line">        &#125; </div><div class="line">        <span class="keyword">return</span> (ArrayList&lt;Integer&gt;) output; </div><div class="line">    &#125;</div><div class="line">   <span class="comment">//基准左右分区 </span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] input,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span> </span>&#123; </div><div class="line">        <span class="keyword">int</span> pivot = input[left]; </div><div class="line">        <span class="keyword">while</span>(left &lt; right) &#123; </div><div class="line">            <span class="keyword">while</span>(input[right] &gt;= pivot &amp;&amp; left &lt; right)</div><div class="line">            &#123; </div><div class="line">                right--; </div><div class="line">            &#125; </div><div class="line">            input[left] = input[right]; </div><div class="line">            <span class="keyword">while</span>(input[left] &lt;= pivot &amp;&amp; left &lt;right) &#123; </div><div class="line">                left++; </div><div class="line">            &#125; </div><div class="line">            input[right] = input[left]; </div><div class="line">        &#125; </div><div class="line">        input[left] = pivot; </div><div class="line">        <span class="keyword">return</span> left; </div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第二种方法</p>
<p>用最大堆保存这k个数，每次只和堆顶比，如果比堆顶小，删除堆顶，新数入堆。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.PriorityQueue;</div><div class="line"><span class="keyword">import</span> java.util.Comparator;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">   <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">GetLeastNumbers_Solution</span><span class="params">(<span class="keyword">int</span>[] input, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">       ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">       <span class="keyword">int</span> length = input.length;</div><div class="line">       <span class="keyword">if</span>(k &gt; length || k == <span class="number">0</span>)&#123;</div><div class="line">           <span class="keyword">return</span> result;</div><div class="line">       &#125;</div><div class="line">        PriorityQueue&lt;Integer&gt; maxHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;(k, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</div><div class="line"> </div><div class="line">            <span class="meta">@Override</span><span class="comment">//PriorityQueue默认是小顶堆，实现大顶堆，需要反转默认排序器</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> o2.compareTo(o1);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</div><div class="line">            <span class="comment">//如果最大堆中已有的数字少于k个，直接读入</span></div><div class="line">            <span class="keyword">if</span> (maxHeap.size() != k) &#123;</div><div class="line">                maxHeap.offer(input[i]);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//如果最大堆中已有k个数字了，即容器已满，且大顶堆顶大于待插入数字，将待插入数字替换进大顶堆</span></div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (maxHeap.peek() &gt; input[i]) &#123;</div><div class="line">                Integer temp = maxHeap.poll();</div><div class="line">                temp = <span class="keyword">null</span>;</div><div class="line">                maxHeap.offer(input[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">       <span class="comment">//输出大顶堆中的数</span></div><div class="line">        <span class="keyword">for</span> (Integer integer : maxHeap) &#123;</div><div class="line">            result.add(integer);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="31-连续子数组的最大和（数组）"><a href="#31-连续子数组的最大和（数组）" class="headerlink" title="31. 连续子数组的最大和（数组）"></a>31. 连续子数组的最大和（数组）</h2><p>输入一个整型数组，数组中有正数也有负数。数组中一个或连续的多个整数组成一个子数组。求所有子数组的和的最大值。要求时间复杂度为O(n)</p>
<p>第一种方法</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">FindGreatestSumOfSubArray</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(array.length==<span class="number">0</span>||array==<span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> cSum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> result = array[<span class="number">0</span>];<span class="comment">// result存储最大和，不能初始为0，存在负数</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(cSum&lt;<span class="number">0</span>)&#123;</div><div class="line">                cSum=array[i];<span class="comment">// 当前和&lt;0，抛弃不要</span></div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                cSum += array[i];<span class="comment">//否则累加上去</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(cSum&gt;result)&#123;</div><div class="line">                result = cSum;<span class="comment">// 存储当前的最大结果</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;                    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第二种方法：动态规划</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">F（i）：以array[i]为末尾元素的子数组的和的最大值，子数组的元素的相对位置不变  </div><div class="line">     F（i）=max（F（i-<span class="number">1</span>）+array[i] ， array[i]）  </div><div class="line">     res：所有子数组的和的最大值  </div><div class="line">     res=max（res，F（i））  </div><div class="line"></div><div class="line">     如数组[<span class="number">6</span>, -<span class="number">3</span>, -<span class="number">2</span>, <span class="number">7</span>, -<span class="number">15</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>]  </div><div class="line">     初始状态：  </div><div class="line">         F（<span class="number">0</span>）=<span class="number">6</span>  </div><div class="line">         res=<span class="number">6</span>  </div><div class="line">     i=<span class="number">1</span>：  </div><div class="line">         F（<span class="number">1</span>）=max（F（<span class="number">0</span>）-<span class="number">3</span>，-<span class="number">3</span>）=max（<span class="number">6</span>-<span class="number">3</span>，<span class="number">3</span>）=<span class="number">3</span>  </div><div class="line">         res=max（F（<span class="number">1</span>），res）=max（<span class="number">3</span>，<span class="number">6</span>）=<span class="number">6</span>  </div><div class="line">     i=<span class="number">2</span>：  </div><div class="line">         F（<span class="number">2</span>）=max（F（<span class="number">1</span>）-<span class="number">2</span>，-<span class="number">2</span>）=max（<span class="number">3</span>-<span class="number">2</span>，-<span class="number">2</span>）=<span class="number">1</span>  </div><div class="line">         res=max（F（<span class="number">2</span>），res）=max（<span class="number">1</span>，<span class="number">6</span>）=<span class="number">6</span>  </div><div class="line">     i=<span class="number">3</span>：  </div><div class="line">         F（<span class="number">3</span>）=max（F（<span class="number">2</span>）+<span class="number">7</span>，<span class="number">7</span>）=max（<span class="number">1</span>+<span class="number">7</span>，<span class="number">7</span>）=<span class="number">8</span>  </div><div class="line">         res=max（F（<span class="number">2</span>），res）=max（<span class="number">8</span>，<span class="number">6</span>）=<span class="number">8</span>  </div><div class="line">     i=<span class="number">4</span>：  </div><div class="line">         F（<span class="number">4</span>）=max（F（<span class="number">3</span>）-<span class="number">15</span>，-<span class="number">15</span>）=max（<span class="number">8</span>-<span class="number">15</span>，-<span class="number">15</span>）=-<span class="number">7</span>  </div><div class="line">         res=max（F（<span class="number">4</span>），res）=max（-<span class="number">7</span>，<span class="number">8</span>）=<span class="number">8</span>  </div><div class="line">     以此类推  </div><div class="line">     最终res的值为<span class="number">8</span></div></pre></td></tr></table></figure>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">FindGreatestSumOfSubArray</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> res = array[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> max = array[<span class="number">0</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;array.length;i++)&#123;</div><div class="line">            max=Math.max(max+array[i],array[i]);</div><div class="line">            res = Math.max(max,res);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="32-从1到n整数中1出现的次数（数组）"><a href="#32-从1到n整数中1出现的次数（数组）" class="headerlink" title="32.从1到n整数中1出现的次数（数组）"></a>32.从1到n整数中1出现的次数（数组）</h2><p>输入一个整数n，求1到n这n个整数的十进制表示中1出现的次数。例如输入12，从1到12这些整数中包含1的数字有1、10、11、12，1一共出现了5次。</p>
<p>一、1的数目</p>
<p>编程之美上给出的规律：</p>
<ol>
<li>如果第i位（自右至左，从1开始标号）上的数字为0，则第i位可能出现1的次数由更高位决定（若没有高位，视高位为0），等于更高位数字X当前位数的权重$10^{i-1}$。</li>
<li>如果第i位上的数字为1，则第i位上可能出现1的次数不仅受更高位影响，还受低位影响（若没有低位，视低位为0），等于更高位数字X当前位数的权重$10^{i-1}+$（低位数字+1）。</li>
<li>如果第i位上的数字大于1，则第i位上可能出现1的次数仅由更高位决定（若没有高位，视高位为0），等于（更高位数字+1）X当前位数的权重$10^{i-1}$。</li>
</ol>
<p>二、X的数目<br>这里的  X∈[1,9] ，因为  X=0  不符合下列规律，需要单独计算。<br>首先要知道以下的规律：</p>
<ul>
<li>从 1 至 10，在它们的个位数中，任意的 X 都出现了 1 次。</li>
<li>从 1 至 100，在它们的十位数中，任意的 X 都出现了 10 次。</li>
<li>从 1 至 1000，在它们的百位数中，任意的 X 都出现了 100 次。</li>
</ul>
<p>依此类推，从 1 至  $10^i$ ，在它们的左数第二位（右数第  i  位）中，任意的 X 都出现了  $10^{i−1}$  次。</p>
<p>这个规律很容易验证，这里不再多做说明。</p>
<p>接下来以  n=2593,X=5  为例来解释如何得到数学公式。从 1 至 2593 中，数字 5 总计出现了 813 次，其中有 259 次出现在个位，260 次出现在十位，294 次出现在百位，0 次出现在千位。</p>
<p>现在依次分析这些数据，首先是个位。从 1 至 2590 中，包含了 259 个 10，因此任意的 X 都出现了 259 次。最后剩余的三个数 2591, 2592 和 2593，因为它们最大的个位数字 3 &lt; X，因此不会包含任何 5。（也可以这么看，3&lt;X，则个位上可能出现的X的次数仅由更高位决定，等于更高位数字$（259）\times 10^{1-1}=259$）。</p>
<p>然后是十位。从 1 至 2500 中，包含了 25 个 100，因此任意的 X 都出现了  25×10=250  次。剩下的数字是从 2501 至 2593，它们最大的十位数字9&gt;X，因此会包含全部10个5。最后总计250 + 10 = 260。（也可以这么看，9&gt;X，则十位上可能出现的X的次数仅由更高位决定，等于更高位数字$（25+1）\times 10^{2-1}=260$）。</p>
<p>接下来是百位。从 1 至 2000 中，包含了 2 个 1000，因此任意的 X 都出现了  2×100=200  次。剩下的数字是从 2001 至 2593，它们最大的百位数字 5 == X，这时情况就略微复杂，它们的百位肯定是包含 5 的，但不会包含全部 100 个。如果把百位是 5 的数字列出来，是从 2500 至 2593，数字的个数与百位和十位数字相关，是 93+1 = 94。最后总计 200 + 94 = 294。（也可以这么看，5==X，则百位上可能出现X的次数不仅受更高位影响，还受低位影响，等于更高位数字$（2）\times 10^{3-1}+（93+1）=294$）。</p>
<p>最后是千位。现在已经没有更高位，因此直接看最大的千位数字 2 &lt; X，所以不会包含任何 5。（也可以这么看，2&lt;X，则千位上可能出现的X的次数仅由更高位决定，等于更高位数字$（0）\times 10^{4-1}=0$）。</p>
<p>到此为止，已经计算出全部数字 5 的出现次数。<br>总结一下以上的算法，可以看到，当计算右数第  i  位包含的 X 的个数时：</p>
<ul>
<li>取第  i  位左边（高位）的数字，乘以$10^{i−1}$ ，得到基础值a 。</li>
<li>取第  i  位数字，计算修正值：<ul>
<li>如果大于 X，则结果为  $a+ 10^{i−1}$ 。 </li>
<li>如果小于 X，则结果为  a 。</li>
<li>如果等 X，则取第  i  位右边（低位）数字，设为  b ，最后结果为  a+b+1 。</li>
</ul>
</li>
</ul>
<p>相应的代码非常简单，效率也非常高，时间复杂度只有 $ O( log_ {10} n) $。</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">NumberOfXBetween1AndN_Solution</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>||x&lt;<span class="number">1</span>||x&gt;<span class="number">9</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> high,low,curr,tmp,i = <span class="number">1</span>;</div><div class="line">    high = n;</div><div class="line">    <span class="keyword">int</span> total = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(high!=<span class="number">0</span>)&#123;</div><div class="line">        high = n/(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, i);<span class="comment">// 获取第i位的高位</span></div><div class="line">        tmp = n%(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, i);</div><div class="line">        curr = tmp/(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, i-<span class="number">1</span>);<span class="comment">// 获取第i位</span></div><div class="line">        low = tmp%(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, i-<span class="number">1</span>);<span class="comment">// 获取第i位的低位</span></div><div class="line">        <span class="keyword">if</span>(curr==x)&#123;</div><div class="line">            total+= high*(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, i-<span class="number">1</span>)+low+<span class="number">1</span>;</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(curr&lt;x)&#123;</div><div class="line">            total+=high*(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, i-<span class="number">1</span>);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            total+=(high+<span class="number">1</span>)*(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, i-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        i++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> total;        </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="33-把数组排成最小的数-数组"><a href="#33-把数组排成最小的数-数组" class="headerlink" title="33. 把数组排成最小的数(数组)"></a>33. 把数组排成最小的数(数组)</h2><p>输入一个正整数数组，把数组里所有数字拼接起来排成一个数，打印能拼接出的所有数字中最小的一个。例如输入数组{3，32，321}，则打印出这三个数字能排成的最小数字为321323。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.Collections;</div><div class="line"><span class="keyword">import</span> java.util.Comparator;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">PrintMinNumber</span><span class="params">(<span class="keyword">int</span> [] numbers)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> n;</div><div class="line">        String s=<span class="string">""</span>;</div><div class="line">        ArrayList&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        n=numbers.length;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</div><div class="line">            list.add(numbers[i]);<span class="comment">//将数组放入arrayList中</span></div><div class="line">        &#125;</div><div class="line">        <span class="comment">//实现了Comparator接口的compare方法，将集合元素按照compare方法的规则进行排序</span></div><div class="line">        Collections.sort(list,<span class="keyword">new</span> Comparator&lt;Integer&gt;()&#123;         </div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer str1, Integer str2)</span> </span>&#123;</div><div class="line">                <span class="comment">// TODO Auto-generated method stub         </span></div><div class="line">                    String s1=str1+<span class="string">""</span>+str2;</div><div class="line">                    String s2=str2+<span class="string">""</span>+str1;</div><div class="line">                     </div><div class="line">                    <span class="keyword">return</span> s1.compareTo(s2);</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">            </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j:list)&#123;</div><div class="line">            s+=j;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> s;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="34-丑数（数组）"><a href="#34-丑数（数组）" class="headerlink" title="34. 丑数（数组）"></a>34. 丑数（数组）</h2><p>把只包含因子2、3和5的数称作丑数（Ugly Number）。例如6、8都是丑数，但14不是，因为它包含因子7。 习惯上我们把1当做是第一个丑数。求按从小到大的顺序的第N个丑数。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">GetUglyNumber_Solution</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(index&lt;<span class="number">7</span>)<span class="keyword">return</span> index;</div><div class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[index];</div><div class="line">        res[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> t2 = <span class="number">0</span>, t3 = <span class="number">0</span>, t5 = <span class="number">0</span>, i;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;index;i++)&#123;</div><div class="line">            res[i] = min(res[t2]*<span class="number">2</span>,min(res[t3]*<span class="number">3</span>,res[t5]*<span class="number">5</span>));</div><div class="line">            <span class="keyword">if</span>(res[i] == res[t2]*<span class="number">2</span>)t2++;</div><div class="line">            <span class="keyword">if</span>(res[i] == res[t3]*<span class="number">3</span>)t3++;</div><div class="line">            <span class="keyword">if</span>(res[i] == res[t5]*<span class="number">5</span>)t5++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res[index-<span class="number">1</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> (a&gt;b)? b:a;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="35-第一次只出现一次的字符（字符串）"><a href="#35-第一次只出现一次的字符（字符串）" class="headerlink" title="35. 第一次只出现一次的字符（字符串）"></a>35. 第一次只出现一次的字符（字符串）</h2><p>在一个字符串(1&lt;=字符串长度&lt;=10000，全部由字母组成)中找到第一个只出现一次的字符,并返回它的位置.</p>
<p>我们可以使用一个容器来存放每个字符的出现次数。在这个数据容器中可以根据字符来查找出现的次数，也就是这个容器的作用是把一个字符映射成一个数字。在常用的数据容器中，哈希表正是这个用途。</p>
<p>为了解决这个问题，我们可以定义哈希表的键值（Key）是字符，而值（Value）是该字符出现的次数。同时我们还需要从头开始扫描字符串两次。第一次扫面字符串时，每扫到一个字符就在哈希表的对应项把次数加1.接下来第二次扫描时，每扫描到一个字符就能在哈希表中得到该字符出现的次数，这样第一个只出现一次的字符就是符合要求的输出。</p>
<p>需要涉及到Java中HashMap工作原理及实现，<a href="http://yikun.github.io/2015/04/01/Java-HashMap工作原理及实现/" target="_blank" rel="noopener">资料链接</a></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.HashMap;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">FirstNotRepeatingChar</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        HashMap&lt;Character,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Character,Integer&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++)&#123;</div><div class="line">            <span class="keyword">char</span> c = str.charAt(i);<span class="comment">//charAt方法，获得位置i的串</span></div><div class="line">                <span class="keyword">if</span>(map.containsKey(c))&#123;<span class="comment">//HashMap的containKey方法；</span></div><div class="line">                    <span class="keyword">int</span> time = map.get(c);<span class="comment">//HashMap的get方法，得到Key c的Value；</span></div><div class="line">                    time++;</div><div class="line">                    map.put(c,time);<span class="comment">//HashMap的put方法，将Key c的Value置为time；</span></div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    map.put(c,<span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++)&#123;</div><div class="line">            <span class="keyword">char</span> c = str.charAt(i);</div><div class="line">            <span class="keyword">if</span>(map.get(c)==<span class="number">1</span>)&#123;</div><div class="line">                <span class="keyword">return</span> i;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="36-数组中的逆序对（数组）"><a href="#36-数组中的逆序对（数组）" class="headerlink" title="36. 数组中的逆序对（数组）"></a>36. 数组中的逆序对（数组）</h2><p>在数组中的两个数字如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组，求出这个数组中的逆序对的总数。例如在数组{7，5，6，4}中，一共存在5个逆序对，分别是（7，6）、（7，5）、（7，4）、（5，4）和（6，4）。</p>
<p>可以按照归并排序的思路，先把数组分隔成子数组，先统计出子数组内部的逆序对的数目，然后再统计出两个相邻子数组之间的逆序对的数目。在统计逆序对的过程中，还需要对数组进行排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    int cnt;</div><div class="line"> </div><div class="line">    public int InversePairs(int[] array) &#123;</div><div class="line">        cnt = 0;</div><div class="line">        if (array != null)</div><div class="line">            mergeSortUp2Down(array, 0, array.length - 1);</div><div class="line">        return cnt;</div><div class="line">    &#125; </div><div class="line">    /*</div><div class="line">     * 归并排序(从上往下)</div><div class="line">     */</div><div class="line">    public void mergeSortUp2Down(int[] a, int start, int end) &#123;</div><div class="line">        if (start &gt;= end)</div><div class="line">            return;</div><div class="line">        int mid = (start + end) &gt;&gt; 1;</div><div class="line"> </div><div class="line">        mergeSortUp2Down(a, start, mid);</div><div class="line">        mergeSortUp2Down(a, mid + 1, end);</div><div class="line"> </div><div class="line">        merge(a, start, mid, end);</div><div class="line">    &#125; </div><div class="line">    /*</div><div class="line">     * 将一个数组中的两个相邻有序区间合并成一个</div><div class="line">     */</div><div class="line">    public void merge(int[] a, int start, int mid, int end) &#123;</div><div class="line">        int[] tmp = new int[end - start + 1];</div><div class="line"> </div><div class="line">        int i = start, j = mid + 1, k = 0;</div><div class="line">        while (i &lt;= mid &amp;&amp; j &lt;= end) &#123;</div><div class="line">            if (a[i] &lt;= a[j])</div><div class="line">                tmp[k++] = a[i++];</div><div class="line">            else &#123;</div><div class="line">                tmp[k++] = a[j++];</div><div class="line">                cnt += mid - i + 1;  //关键的一步，统计逆序对..........</div><div class="line">                cnt%=1000000007;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        while (i &lt;= mid)</div><div class="line">            tmp[k++] = a[i++];</div><div class="line">        while (j &lt;= end)</div><div class="line">            tmp[k++] = a[j++];</div><div class="line">        for (k = 0; k &lt; tmp.length; k++)</div><div class="line">            a[start + k] = tmp[k];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="37-两个链表的第一个公共结点（链表）"><a href="#37-两个链表的第一个公共结点（链表）" class="headerlink" title="37. 两个链表的第一个公共结点（链表）"></a>37. 两个链表的第一个公共结点（链表）</h2><p>输入两个链表找出他们的第一个公共结点。</p>
<p>面试的时候碰到这道题，很多应聘者的第一个想法就是蛮力法：在第一个链表上顺序遍历每个结点，每遍历到一个结点的时候，在第二个链表上顺序遍历每个结点。若第二个链表上有一个结点和第一个链表上的结点一样，说明两个链表在这个结点上重合，于是就找到了它们的公共结点。如果第一个链表的长度为m，第二个链表的长度为n，显然该方法的时间复杂度是O(mn)。</p>
<p>通常蛮力法不会是最好的办法，我们接下来试着分析有公共结点的两个链表有哪些特点。从链表结构的定义看出，这两个链表是单向链表。如果他们有公共的结点，那么这两个链表从某一结点开始，他们的next指向同一个结点。但由于是单向链表的结点，每个结点只有一个next，因此从第一个公共结点开始，之后的结点都是重合的，不可能再出现分叉。所以两个有公共结点而部分重合的链表，拓扑形状看起来像一个Y，而不是X。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午2.59.56.png" alt="屏幕快照 2017-07-25 下午2.59.56"></p>
<p>经过我们的分析发现，若两个链表有公共结点，那么公共结点出现在两个链表的尾部。如果我们从两个链表的尾部开始往前比较，最后一个相同的结点就是我们要找的结点。我们想到用栈的特点来解决这个问题：分别把两个链表的结点放入两个栈中，这样两个链表的尾结点就位于两个栈的栈顶，接下来比较两个栈顶的结点是否相同。若果相同，则把栈顶弹出接着比较下一个栈顶，直到找到最后一个相同的结点。</p>
<p>上面需要用到两个辅助栈。若链表的长度分别为m和n，那么空间复杂度是O(m+n)。这种思路的时间复杂度也是O(m+n)。和最开始的蛮力法相比，时间效率得到了提升，相当于是用空间换取时间效率。</p>
<p>之所以需要用到栈，是因为我们想同时遍历到达两个栈的尾结点。当两个链表的长度不相同时，如果我们从头开始遍历到达尾结点的时间就不一致。其实解决这个问题还有一个更简单的办法：首先遍历两个链表得到他们的长度，就能知道哪个链表比较长，以及长的链表比短的链表多几个结点。在第二次遍历的时候，在较长的链表上先走若干步，接着再同时在两个链表上遍历，找到的第一个相同的结点就是他们的第一个公共结点。</p>
<p>第三种思路和第二种思路相比，时间复杂度都是O(m+n)，但我们不再需要辅助的栈，因此提高了空间效率。实现代码如下：</p>
<blockquote>
<p>java版本</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">FindFirstCommonNode</span><span class="params">(ListNode pHead1, ListNode pHead2)</span> </span>&#123;</div><div class="line">        ListNode current1 = pHead1;<span class="comment">//链表1</span></div><div class="line">        ListNode current2 = pHead2;<span class="comment">//链表2</span></div><div class="line">        <span class="keyword">if</span>(pHead1 ==<span class="keyword">null</span>||pHead2==<span class="keyword">null</span>)&#123;<span class="keyword">return</span> <span class="keyword">null</span>;&#125;<span class="comment">//</span></div><div class="line">        </div><div class="line">        <span class="keyword">int</span> len1 = getlistlength(pHead1);<span class="comment">//链表1的长度</span></div><div class="line">        <span class="keyword">int</span> len2 = getlistlength(pHead2);<span class="comment">//链表2的长度</span></div><div class="line">        </div><div class="line">        <span class="comment">//若链表1长度大于链表2</span></div><div class="line">        <span class="keyword">if</span>(len1&gt;=len2)&#123;</div><div class="line">            <span class="keyword">int</span> len=len1-len2;</div><div class="line">            <span class="comment">//遍历链表1，遍历长度为两链表长度差</span></div><div class="line">            <span class="keyword">while</span> (len&gt;<span class="number">0</span>)&#123;</div><div class="line">                current1 = currentnext;</div><div class="line">                len--;</div><div class="line">                  </div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//若链表2长度大于链表1</span></div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(len1&lt;len2)&#123;</div><div class="line">            <span class="keyword">int</span> len=len2-len1;</div><div class="line">            <span class="comment">//遍历链表2，遍历长度为两链表长度差</span></div><div class="line">            <span class="keyword">while</span> (len&gt;<span class="number">0</span>)&#123;</div><div class="line">                current2=current2.next;</div><div class="line">                len--;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//开始齐头并进，直到找到第一个公共结点</span></div><div class="line">        <span class="keyword">while</span>(current1!=current2)&#123;</div><div class="line">            current1 = currentnext;</div><div class="line">            current2 = current2.next;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> current1;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//求指定链表的长度</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getlistlength</span><span class="params">(ListNode pHead)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> length = <span class="number">0</span>;</div><div class="line">        ListNode current = pHead;</div><div class="line">        <span class="keyword">while</span>(current!=<span class="keyword">null</span>)&#123;</div><div class="line">            length++;</div><div class="line">            current = current.next;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> length;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python版本</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"><span class="comment"># class ListNode:</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.next = None</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FindFirstCommonNode</span><span class="params">(self, pHead1, pHead2)</span>:</span></div><div class="line">        <span class="comment"># write code here</span></div><div class="line">        current1=pHead1</div><div class="line">        current2=pHead2</div><div class="line">        len1 = self.getlistlength(current1)</div><div class="line">        len2 = self.getlistlength(current2)        </div><div class="line">        <span class="keyword">if</span> len1&gt;=len2:            </div><div class="line">            length = len1-len2</div><div class="line">            <span class="keyword">while</span> length&gt;<span class="number">0</span>:</div><div class="line">                current1 = currentnext</div><div class="line">                length=length<span class="number">-1</span>                </div><div class="line">        <span class="keyword">elif</span> len1&lt;len2:</div><div class="line">            length = len2-len1</div><div class="line">            <span class="keyword">while</span> length&gt;<span class="number">0</span>:</div><div class="line">                current2 = current2.next</div><div class="line">                length=length<span class="number">-1</span>               </div><div class="line">        <span class="keyword">while</span> current1!=current2:</div><div class="line">            current1=currentnext</div><div class="line">            current2=current2.next</div><div class="line">        <span class="keyword">return</span> current1</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getlistlength</span><span class="params">(self,pHead)</span>:</span></div><div class="line">        length =<span class="number">0</span></div><div class="line">        current =pHead</div><div class="line">        <span class="keyword">while</span> current!=<span class="keyword">None</span>:</div><div class="line">            length=length+<span class="number">1</span></div><div class="line">            current = current.next</div><div class="line">        <span class="keyword">return</span> length</div></pre></td></tr></table></figure>
<h2 id="38-数字在排序数组中出现的次数（数组）"><a href="#38-数字在排序数组中出现的次数（数组）" class="headerlink" title="38. 数字在排序数组中出现的次数（数组）"></a>38. 数字在排序数组中出现的次数（数组）</h2><p>统计一个数字在排序数组中出现的次数。</p>
<p>利用二分查找直接找到第一个K和最后一个K。以下代码使用递归方法找到第一个K，使用循环方法最后一个K。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">GetNumberOfK</span><span class="params">(<span class="keyword">int</span> [] array , <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">if</span>(length == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> firstK = getFirstK(array, k, <span class="number">0</span>, length-<span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> lastK = getLastK(array, k, <span class="number">0</span>, length-<span class="number">1</span>);</div><div class="line">        <span class="keyword">if</span>(firstK != -<span class="number">1</span> &amp;&amp; lastK != -<span class="number">1</span>)&#123;</div><div class="line">             <span class="keyword">return</span> lastK - firstK + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//递归写法</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getFirstK</span><span class="params">(<span class="keyword">int</span> [] array , <span class="keyword">int</span> k, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(start &gt; end)&#123;</div><div class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> mid = (start + end) &gt;&gt; <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(array[mid] &gt; k)&#123;</div><div class="line">            <span class="keyword">return</span> getFirstK(array, k, start, mid-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (array[mid] &lt; k)&#123;</div><div class="line">            <span class="keyword">return</span> getFirstK(array, k, mid+<span class="number">1</span>, end);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mid-<span class="number">1</span> &gt;=<span class="number">0</span> &amp;&amp; array[mid-<span class="number">1</span>] == k)&#123;</div><div class="line">            <span class="keyword">return</span> getFirstK(array, k, start, mid-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> mid;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//循环写法</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getLastK</span><span class="params">(<span class="keyword">int</span> [] array , <span class="keyword">int</span> k, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> length = array.length;</div><div class="line">        <span class="keyword">int</span> mid = (start + end) &gt;&gt; <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(start &lt;= end)&#123;</div><div class="line">            <span class="keyword">if</span>(array[mid] &gt; k)&#123;</div><div class="line">                end = mid-<span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(array[mid] &lt; k)&#123;</div><div class="line">                start = mid+<span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(mid+<span class="number">1</span> &lt;= length-<span class="number">1</span> &amp;&amp; array[mid+<span class="number">1</span>] == k)&#123;</div><div class="line">                start = mid+<span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            </div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">return</span> mid;</div><div class="line">                &#125;</div><div class="line">            mid = (start + end) &gt;&gt; <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">     &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="39-二叉树的深度（二叉树）"><a href="#39-二叉树的深度（二叉树）" class="headerlink" title="39. 二叉树的深度（二叉树）"></a>39. 二叉树的深度（二叉树）</h2><h3 id="39-1-二叉树的深度"><a href="#39-1-二叉树的深度" class="headerlink" title="39.1 二叉树的深度"></a>39.1 二叉树的深度</h3><p>输入一棵二叉树，求该树的深度。从根结点到叶结点依次经过的结点（含根、叶结点）形成树的一条路径，最长路径的长度为树的深度。</p>
<p>Java 经典的求二叉树深度 递归写法</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">TreeDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> nleft = TreeDepth(root.left);</div><div class="line">        <span class="keyword">int</span> nright = TreeDepth(root.right);</div><div class="line">        <span class="keyword">return</span> nleft&gt;nright?(nleft+<span class="number">1</span>):(nright+<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="39-2-平衡二叉树"><a href="#39-2-平衡二叉树" class="headerlink" title="39.2 平衡二叉树"></a>39.2 平衡二叉树</h3><p>输入一棵二叉树，判断该二叉树是否是平衡二叉树。</p>
<p>有了求二叉树的深度的经验之后，我们就很容易想到一个思路：在遍历树的每个结点的时候，调用函数TreeDepth得到它的左右子树的深度。如果每个结点的左右子树的深度相差都不超过1，按照定义它就是一颗平衡的二叉树。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">IsBalanced_Solution</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">int</span> left = TreeDepth(root.left);</div><div class="line">        <span class="keyword">int</span> right = TreeDepth(root.right);</div><div class="line">        <span class="keyword">int</span> diff = left-right;</div><div class="line">        <span class="keyword">if</span>(diff&gt;<span class="number">1</span>||diff&lt;-<span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">return</span> IsBalanced_Solution(root.left)&amp;&amp;IsBalanced_Solution(root.right);</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">TreeDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> nleft = TreeDepth(root.left);</div><div class="line">        <span class="keyword">int</span> nright = TreeDepth(root.right);</div><div class="line">        <span class="keyword">return</span> nleft&gt;nright?(nleft+<span class="number">1</span>):(nright+<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="40-数组中只出现一次的数字（数组）"><a href="#40-数组中只出现一次的数字（数组）" class="headerlink" title="40. 数组中只出现一次的数字（数组）"></a>40. 数组中只出现一次的数字（数组）</h2><p>一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是$O(n)$，空间复杂度是$O(1)$。</p>
<p>首先我们考虑这个问题的一个简单版本：一个数组里除了一个数字之外，其他的数字都出现了两次。请写程序找出这个只出现一次的数字。</p>
<p>这个题目的突破口在哪里？题目为什么要强调有一个数字出现一次，其他的出现两次？我们想到了异或运算的性质：任何一个数字异或它自己都等于0 。也就是说，如果我们从头到尾依次异或数组中的每一个数字，那么最终的结果刚好是那个只出现一次的数字，因为那些出现两次的数字全部在异或中抵消掉了。</p>
<p>有了上面简单问题的解决方案之后，我们回到原始的问题。如果能够把原数组分为两个子数组。在每个子数组中，包含一个只出现一次的数字，而其它数字都出现两次。如果能够这样拆分原数组，按照前面的办法就是分别求出这两个只出现一次的数字了。<br> 我们还是从头到尾依次异或数组中的每一个数字，那么最终得到的结果就是两个只出现一次的数字的异或结果。因为其它数字都出现了两次，在异或中全部抵消掉了。由于这两个数字肯定不一样，那么这个异或结果肯定不为0 ，也就是说在这个结果数字的二进制表示中至少就有一位为1 。我们在结果数字中找到第一个为1 的位的位置，记为第N 位。现在我们以第N 位是不是1 为标准把原数组中的数字分成两个子数组，第一个子数组中每个数字的第N 位都为1 ，而第二个子数组的每个数字的第N 位都为0 。<br> 现在我们已经把原数组分成了两个子数组，每个子数组都包含一个只出现一次的数字，而其它数字都出现了两次。因此到此为止，所有的问题我们都已经解决。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//num1,num2分别为长度为1的数组。传出参数</span></div><div class="line"><span class="comment">//将num1[0],num2[0]设置为返回结果</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">FindNumsAppearOnce</span><span class="params">(<span class="keyword">int</span> [] array,<span class="keyword">int</span> num1[] , <span class="keyword">int</span> num2[])</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span>(array==<span class="keyword">null</span> ||array.length&lt;<span class="number">2</span>)</div><div class="line">           <span class="keyword">return</span> ;</div><div class="line">       <span class="keyword">int</span> temp = <span class="number">0</span>;</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)</div><div class="line">           temp ^= array[i];</div><div class="line">        </div><div class="line">       <span class="keyword">int</span> indexOf1 = findFirstBitIs(temp);</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">           <span class="keyword">if</span>(isBit(array[i], indexOf1))</div><div class="line">               num1[<span class="number">0</span>]^=array[i];</div><div class="line">           <span class="keyword">else</span></div><div class="line">               num2[<span class="number">0</span>]^=array[i];</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">    <span class="comment">//在正数num的二进制表示中找到最右边是1的位</span></div><div class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findFirstBitIs</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</div><div class="line">       <span class="keyword">int</span> indexBit = <span class="number">0</span>;</div><div class="line">       <span class="keyword">while</span>(((num &amp; <span class="number">1</span>)==<span class="number">0</span>) &amp;&amp; (indexBit)&lt;<span class="number">8</span>*<span class="number">4</span>)&#123;</div><div class="line">           num = num &gt;&gt; <span class="number">1</span>;</div><div class="line">           ++indexBit;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> indexBit;</div><div class="line">   &#125;</div><div class="line">   <span class="comment">//判断在num的二进制表示中从右边数起的indexBit位是不是1.</span></div><div class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBit</span><span class="params">(<span class="keyword">int</span> num,<span class="keyword">int</span> indexBit)</span></span>&#123;</div><div class="line">       num = num &gt;&gt; indexBit;</div><div class="line">       <span class="keyword">return</span> (num &amp; <span class="number">1</span>) == <span class="number">1</span>;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="41-和为S的两个数字VS和为s的连续正数序列（数组）"><a href="#41-和为S的两个数字VS和为s的连续正数序列（数组）" class="headerlink" title="41.和为S的两个数字VS和为s的连续正数序列（数组）"></a>41.和为S的两个数字VS和为s的连续正数序列（数组）</h2><h3 id="41-1-和为s的两个数字"><a href="#41-1-和为s的两个数字" class="headerlink" title="41.1 和为s的两个数字"></a>41.1 和为s的两个数字</h3><p>一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。</p>
<p>数列满足递增，设两个头尾两个指针i和j， </p>
<ul>
<li>若ai + aj == sum，就是答案（相差越远乘积越小） </li>
<li>若ai + aj &gt; sum，aj肯定不是答案之一（前面已得出 i 前面的数已是不可能），j -= 1 </li>
<li>若ai + aj &lt; sum，ai肯定不是答案之一（前面已得出 j 后面的数已是不可能），i += 1 </li>
</ul>
<p>时间复杂度为O(n)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">import java.util.ArrayList;</div><div class="line">public class Solution &#123;</div><div class="line">    public ArrayList&lt;Integer&gt; FindNumbersWithSum(int [] array,int sum) &#123;</div><div class="line">        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();</div><div class="line">        if(array==null||array.length&lt;2)&#123;</div><div class="line">            return list;</div><div class="line">        &#125;</div><div class="line">        int i=0,j=array.length-1;</div><div class="line">        while(i&lt;j)&#123;</div><div class="line">            if(array[i]+array[j]==sum)&#123;</div><div class="line">                list.add(array[i]);</div><div class="line">                list.add(array[j]);</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            else if(array[i]+array[j]&gt;sum)&#123;</div><div class="line">                j--;</div><div class="line">            &#125;</div><div class="line">            else</div><div class="line">                i++;</div><div class="line">        &#125;</div><div class="line">        return list;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="41-2-和为s的连续正数序列"><a href="#41-2-和为s的连续正数序列" class="headerlink" title="41.2 和为s的连续正数序列"></a>41.2 和为s的连续正数序列</h3><p>输入一个正数s，打印出所有和为s的连续正数序列（至少含有两个数）。例如输入15，由于1+2+3+4+5=4+5+6=7+8=15，所以结果打印出三个连续序列1~5、4~6和7~8。</p>
<p>考虑用两个数small和big分别表示序列的最小值和最大值。首先把small初始化为1，big初始化为2，如果从small到big的序列和大于s，我们可以从序列中去掉较小的值，也就是增大small的值。如果从small到big的序列和小于s，我们可以增大big，让这个序列包含更多的数字。因为这个序列至少要有两个数字，我们一直增加small到（1+s）/2为止。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="comment">/*</span></div><div class="line">*初始化small=1，big=2;</div><div class="line">*small到big序列和小于sum，big++;大于sum，small++;</div><div class="line">*当small增加到(1+sum)/2是停止</div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; FindContinuousSequence(<span class="keyword">int</span> sum) &#123;</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; lists=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">        <span class="keyword">if</span>(sum&lt;=<span class="number">1</span>)&#123;<span class="keyword">return</span> lists;&#125;</div><div class="line">        <span class="keyword">int</span> small=<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> big=<span class="number">2</span>;</div><div class="line">        <span class="keyword">while</span>(small!=(<span class="number">1</span>+sum)/<span class="number">2</span>)&#123;          <span class="comment">//当small==(1+sum)/2的时候停止</span></div><div class="line">            <span class="keyword">int</span> curSum=sumOfList(small,big);</div><div class="line">            <span class="keyword">if</span>(curSum==sum)&#123;</div><div class="line">                ArrayList&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=small;i&lt;=big;i++)&#123;</div><div class="line">                    list.add(i);</div><div class="line">                &#125;</div><div class="line">                lists.add(list);</div><div class="line">                small++;big++;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(curSum&lt;sum)&#123;</div><div class="line">                big++;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                small++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> lists;</div><div class="line">    &#125;     </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumOfList</span><span class="params">(<span class="keyword">int</span> head,<span class="keyword">int</span> leap)</span></span>&#123;        <span class="comment">//计算当前序列的和</span></div><div class="line">        <span class="keyword">int</span> sum=head;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head+<span class="number">1</span>;i&lt;=leap;i++)&#123;</div><div class="line">            sum+=i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="42-翻转单词顺序VS左旋转字符串（字符串）"><a href="#42-翻转单词顺序VS左旋转字符串（字符串）" class="headerlink" title="42. 翻转单词顺序VS左旋转字符串（字符串）"></a>42. 翻转单词顺序VS左旋转字符串（字符串）</h2><h3 id="42-1-翻转单词顺序"><a href="#42-1-翻转单词顺序" class="headerlink" title="42.1 翻转单词顺序"></a>42.1 翻转单词顺序</h3><p>输入一个英文句子，翻转句子中单词的顺序，但单词内字符的顺序不变。为简单起见，标点符号和普通字母一样处理。例如输入字符串“I am a student”，则输出“student. a am I”。<br>可以先翻转整个句子，然后，依次翻转每个单词。依据空格来确定单词的起始和终止位置</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">ReverseSentence</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        <span class="keyword">char</span>[] chars = str.toCharArray();</div><div class="line">        reverse(chars,<span class="number">0</span>,chars.length-<span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> blank = -<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;chars.length-<span class="number">1</span>;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(chars[i]==<span class="string">' '</span>)&#123;</div><div class="line">                <span class="keyword">int</span> nextblank = i;</div><div class="line">                reverse(chars,blank+<span class="number">1</span>,nextblank-<span class="number">1</span>);</div><div class="line">                blank = nextblank;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        reverse(chars,blank+<span class="number">1</span>,chars.length-<span class="number">1</span>);<span class="comment">//单独翻转最后一个单词</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(chars);</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span>[] chars,<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span>&#123;</div><div class="line">        <span class="keyword">while</span>(low&lt;high)&#123;</div><div class="line">            <span class="keyword">char</span> temp = chars[low];</div><div class="line">            chars[low]=chars[high];</div><div class="line">            chars[high]=temp;</div><div class="line">            low++;</div><div class="line">            high--;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="42-2-左旋转字符串"><a href="#42-2-左旋转字符串" class="headerlink" title="42.2 左旋转字符串"></a>42.2 左旋转字符串</h3><p>汇编语言中有一种移位指令叫做循环左移（ROL），现在有个简单的任务，就是用字符串模拟这个指令的运算结果。对于一个给定的字符序列S，请你把其循环左移K位后的序列输出。例如，字符序列S=”abcXYZdef”,要求输出循环左移3位后的结果，即“XYZdefabc”。</p>
<p>以“abcdefg”为例，我们可以把它分为两部分。由于想把它的前两个字符移到后面，我们就把钱两个字符分到第一部分，把后面的所有字符都分到第二部分。然后先翻转这两部分，于是就得到“bagfedc”。接下来在翻转整个字符串，得到的”cdefgab”刚好就是把原始字符串左旋转2位的结果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    public String LeftRotateString(String str,int n) &#123;</div><div class="line">        char[] chars = str.toCharArray();        </div><div class="line">        if(chars.length &lt; n) return &quot;&quot;; </div><div class="line">        reverse(chars, 0, n-1);</div><div class="line">        reverse(chars, n, chars.length-1);</div><div class="line">        reverse(chars, 0, chars.length-1);</div><div class="line">        return new String(chars);</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    public void reverse(char[] chars,int low,int high)&#123;</div><div class="line">        char temp;</div><div class="line">        while(low&lt;high)&#123;</div><div class="line">            temp = chars[low];</div><div class="line">            chars[low] = chars[high];</div><div class="line">            chars[high] = temp;</div><div class="line">            low++;</div><div class="line">            high--;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="43-N个骰子的点数（null）"><a href="#43-N个骰子的点数（null）" class="headerlink" title="43. N个骰子的点数（null）"></a>43. N个骰子的点数（null）</h2><h2 id="44-扑克牌的顺子（数组）"><a href="#44-扑克牌的顺子（数组）" class="headerlink" title="44. 扑克牌的顺子（数组）"></a>44. 扑克牌的顺子（数组）</h2><p>从扑克牌中随机抽5张牌，判断是不是顺子，即这5张牌是不是连续的。2~10为数字本身，A为1，J为11，Q为12，K为13，而大小王可以看做是任意数字，这里定为0.</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isContinuous</span><span class="params">(<span class="keyword">int</span> [] numbers)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = numbers.length;</div><div class="line">        <span class="keyword">if</span>(numbers==<span class="keyword">null</span>||length==<span class="number">0</span>)<span class="keyword">return</span> <span class="keyword">false</span>;<span class="comment">//特殊情况</span></div><div class="line">        Arrays.sort(numbers);<span class="comment">//排序</span></div><div class="line">        <span class="comment">//统计数组中0的个数</span></div><div class="line">        <span class="keyword">int</span> numberOfZero = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;length&amp;&amp;numbers[i]==<span class="number">0</span>;i++)&#123;</div><div class="line">            ++numberOfZero;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> numberOfGap = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> small = numberOfZero;</div><div class="line">        <span class="keyword">int</span> big = small+<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(big&lt;length)&#123;</div><div class="line">            <span class="comment">//含有对子，不可能是顺子</span></div><div class="line">            <span class="keyword">if</span>(numbers[small]==numbers[big])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//统计数组中的间隔数目</span></div><div class="line">            numberOfGap += numbers[big]-numbers[small]-<span class="number">1</span>;</div><div class="line">            small=big;</div><div class="line">            big++;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//如果间隔数小于等于零的数量则可以组成顺子，否则不行。</span></div><div class="line">        <span class="keyword">if</span>(numberOfGap&lt;=numberOfZero)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;<span class="keyword">return</span> <span class="keyword">false</span>;&#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="45-圆圈中最后剩下的数字（链表）"><a href="#45-圆圈中最后剩下的数字（链表）" class="headerlink" title="45. 圆圈中最后剩下的数字（链表）"></a>45. 圆圈中最后剩下的数字（链表）</h2><p>0、…..，n-1这n个数字排成一个圆圈，从数字0开始每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。<br>约瑟夫环问题，用环形链表模拟圆圈的经典解法，</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">LastRemaining_Solution</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(m&lt;=<span class="number">0</span>||n&lt;=<span class="number">0</span>)<span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">        <span class="comment">//先构造循环链表</span></div><div class="line">        ListNode head= <span class="keyword">new</span> ListNode(<span class="number">0</span>);<span class="comment">//头结点, 值为0</span></div><div class="line">        ListNode pre = head;</div><div class="line">        ListNode temp = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</div><div class="line">            temp = <span class="keyword">new</span> ListNode(i);</div><div class="line">            pre.next = temp;</div><div class="line">            pre = temp;</div><div class="line">        &#125;</div><div class="line">        temp.next = head;<span class="comment">//将第n-1个结点(也就是尾结点)指向头结点</span></div><div class="line">        ListNode temp2 = <span class="keyword">null</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(n&gt;=<span class="number">1</span>)&#123;</div><div class="line">            <span class="comment">//每次都当前头结点找到第m个结点的前驱</span></div><div class="line">            temp2=head;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">1</span>;i&lt;m-<span class="number">1</span>;i++)&#123;</div><div class="line">                temp2 = temp2.next;</div><div class="line">            &#125;</div><div class="line">            temp2.next = temp2.next.next;</div><div class="line">            head = temp2.next;<span class="comment">//设置当前头结点</span></div><div class="line">            n--;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> head.val;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">LastRemaining_Solution</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>||m==<span class="number">0</span>)<span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> last=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</div><div class="line">        &#123;</div><div class="line">            last=(last+m)%i;</div><div class="line">        &#125;   </div><div class="line">       <span class="keyword">return</span> last ;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="46-求1-2-…-n（逻辑）"><a href="#46-求1-2-…-n（逻辑）" class="headerlink" title="46. 求1+2+…..+n（逻辑）"></a>46. 求1+2+…..+n（逻辑）</h2><p>求1+2+3+…+n，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。</p>
<ol>
<li>需利用逻辑与的短路特性实现递归终止。 </li>
<li>当n==0时，(n&gt;0)&amp;&amp;((sum+=Sum_Solution(n-1))&gt;0)只执行前面的判断，为false，然后直接返回0；</li>
<li>当n&gt;0时，执行sum+=Sum_Solution(n-1)，实现递归计算Sum_Solution(n)。</li>
</ol>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Sum_Solution</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum=n;</div><div class="line">        <span class="keyword">boolean</span> ans = (n&gt;<span class="number">0</span>)&amp;&amp;((sum+=Sum_Solution(n-<span class="number">1</span>))&gt;<span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="47-不用加减乘除做加法（位运算）"><a href="#47-不用加减乘除做加法（位运算）" class="headerlink" title="47. 不用加减乘除做加法（位运算）"></a>47. 不用加减乘除做加法（位运算）</h2><p>首先看十进制是如何做的： 5+7=12，三步走</p>
<ol>
<li>第一步：相加各位的值，不算进位，得到2。</li>
<li>第二步：计算进位值，得到10. 如果这一步的进位值为0，那么第一步得到的值就是最终结果。</li>
<li>第三步：重复上述两步，只是相加的值变成上述两步的得到的结果2和10，得到12。</li>
</ol>
<p>同样我们可以用三步走的方式计算二进制值相加： 5-101，7-111 </p>
<ol>
<li>第一步：相加各位的值，不算进位，得到010，二进制每位相加就相当于各位做异或操作，101^111。</li>
<li>第二步：计算进位值，得到1010，相当于各位做与操作得到101，再向左移一位得到1010，(101&amp;111)&lt;&lt;1。</li>
<li>第三步重复上述两步， 各位相加 010^1010=1000，进位值为100=(010&amp;1010)&lt;&lt;1。继续重复上述两步：1000^100 = 1100，进位值为0，跳出循环，1100为最终结果。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Add</span><span class="params">(<span class="keyword">int</span> num1,<span class="keyword">int</span> num2)</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span> (num2!=<span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">int</span> temp = num1^num2;</div><div class="line">            num2 = (num1&amp;num2)&lt;&lt;<span class="number">1</span>;</div><div class="line">            num1 = temp;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> num1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="49-把字符串转换成整数（字符串）"><a href="#49-把字符串转换成整数（字符串）" class="headerlink" title="49. 把字符串转换成整数（字符串）"></a>49. 把字符串转换成整数（字符串）</h2><p>将一个字符串转换成一个整数，要求不能使用字符串转换整数的库函数。 数值为0或者字符串不是一个合法的数值则返回0。<br>问题不难，但是要把很多特殊情况都考虑进去，却并不容易。需要考虑的特殊情况有以下几个：</p>
<ol>
<li>空指针null</li>
<li>字符串为空</li>
<li>正负号</li>
<li>上下溢出 Integer.MAX_VALUE (2^31-1)  Integer.MIN_VALUE(-2^31)</li>
</ol>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">StrToInt</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(str==<span class="keyword">null</span>||str.length()==<span class="number">0</span>)&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;<span class="comment">//空指针或空字符串</span></div><div class="line">        <span class="keyword">char</span>[] c = str.toCharArray();</div><div class="line">        <span class="keyword">boolean</span> minus=<span class="keyword">false</span>;</div><div class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">        <span class="comment">//正负号</span></div><div class="line">        <span class="keyword">if</span>(c[i]==<span class="string">'+'</span>)&#123;</div><div class="line">            i++;</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c[i]==<span class="string">'-'</span>)&#123;</div><div class="line">            i++;</div><div class="line">            minus=<span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> num=<span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(i&lt;c.length)&#123;</div><div class="line">            num = StrToIntCore(c,minus,i);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> num;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> num;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">StrToIntCore</span><span class="params">(<span class="keyword">char</span>[] str,<span class="keyword">boolean</span> minus,<span class="keyword">int</span> i)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> num=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;str.length;j++)&#123;</div><div class="line">            <span class="keyword">if</span>(str[j]&gt;=<span class="string">'0'</span>&amp;&amp;str[j]&lt;=<span class="string">'9'</span>)&#123;</div><div class="line">                <span class="keyword">int</span> flag = minus?-<span class="number">1</span>:<span class="number">1</span>;</div><div class="line">                num = num*<span class="number">10</span>+flag*(str[j]-<span class="string">'0'</span>);</div><div class="line">                <span class="keyword">if</span>((!minus&amp;&amp;num&gt;Integer.MAX_VALUE)||minus&amp;&amp;num&lt;Integer.MIN_VALUE)&#123;<span class="comment">//上下溢出</span></div><div class="line">                    num=<span class="number">0</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//非法数值</span></div><div class="line">                num=<span class="number">0</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">           </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> num;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="50-树中两个结点的最低公共祖先（二叉树）"><a href="#50-树中两个结点的最低公共祖先（二叉树）" class="headerlink" title="50.树中两个结点的最低公共祖先（二叉树）"></a>50.树中两个结点的最低公共祖先（二叉树）</h2><h3 id="50-1-二叉搜索树的最低公共祖先"><a href="#50-1-二叉搜索树的最低公共祖先" class="headerlink" title="50.1  二叉搜索树的最低公共祖先"></a>50.1  二叉搜索树的最低公共祖先</h3><p>二叉搜索树是经过排序的，位于左子树的节点都比父节点小，位于右子树的节点都比父节点大。既然要找最低的公共祖先节点，我们可以从根节点开始进行比较。若当前节点的值比两个节点的值都大，那么最低的祖先节点一定在当前节点的左子树中，则遍历当前节点的左子节点；反之，若当前节点的值比两个节点的值都小，那么最低的祖先节点一定在当前节点的右子树中，则遍历当前节点的右子节点；这样，直到找到一个节点，位于两个节点值的中间，则找到了最低的公共祖先节点。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>||root==q||root==p)<span class="keyword">return</span> root;</div><div class="line">        <span class="keyword">if</span>(root.val&gt;p.val&amp;&amp;root.val&gt;q.val)&#123;</div><div class="line">            <span class="keyword">return</span> lowestCommonAncestor(root.left,p,q);</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(root.val&lt;p.val&amp;&amp;root.val&lt;q.val)&#123;</div><div class="line">            <span class="keyword">return</span> lowestCommonAncestor(root.right,p,q);</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">return</span> root;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="50-2-普通二叉树的最低公共祖先"><a href="#50-2-普通二叉树的最低公共祖先" class="headerlink" title="50.2 普通二叉树的最低公共祖先"></a>50.2 普通二叉树的最低公共祖先</h3><p>一种简单的方法是DFS分别寻找到两个节点p和q的路径，然后对比路径，查看他们的第一个分岔口，则为LCA。<br>这个思路比较简单，代码写起来不如下面这种方法优雅：</p>
<p>我们仍然可以用递归来解决，递归寻找两个带查询LCA的节点p和q，当找到后，返回给它们的父亲。如果某个节点的左右子树分别包括这两个节点，那么这个节点必然是所求的解，返回该节点。否则，返回左或者右子树（哪个包含p或者q的就返回哪个）。复杂度O(n)</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>||root==p||root==q)&#123;<span class="keyword">return</span> root;&#125;</div><div class="line">        TreeNode left = lowestCommonAncestor(root.left,p,q);</div><div class="line">        TreeNode right = lowestCommonAncestor(root.right,p,q);</div><div class="line">        <span class="keyword">if</span>(left!=<span class="keyword">null</span>&amp;&amp;right!=<span class="keyword">null</span>)<span class="keyword">return</span> root;</div><div class="line">        <span class="keyword">return</span> left!=<span class="keyword">null</span>? left:right;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="51-数组中重复的数字（数组）"><a href="#51-数组中重复的数字（数组）" class="headerlink" title="51. 数组中重复的数字（数组）"></a>51. 数组中重复的数字（数组）</h2><p>在一个长度为n的数组里的所有数字都在0到n-1的范围内。 数组中某些数字是重复的，但不知道有几个数字是重复的。也不知道每个数字重复几次。请找出数组中任意一个重复的数字。 例如，如果输入长度为7的数组{2,3,1,0,2,5,3}，那么对应的输出是重复的数字2或者3。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">duplicate</span><span class="params">(<span class="keyword">int</span> numbers[],<span class="keyword">int</span> length,<span class="keyword">int</span> [] duplication)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(numbers==<span class="keyword">null</span>||length==<span class="number">0</span>)&#123;<span class="keyword">return</span> <span class="keyword">false</span>;&#125;<span class="comment">//空指针或空数组</span></div><div class="line">        <span class="comment">// 判断数组是否合法,即每个数都在0~n-1之间</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(numbers[i]&gt;length-<span class="number">1</span>||numbers[i]&lt;<span class="number">0</span>)&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//若数值与下标不同，则调换位置；</span></div><div class="line">        <span class="comment">//比较位置下标为数值(numbers[i])的数值(numbers[numbers[i]])与该数值(numbers[i])是否一致，若一致，则说明有重复数字</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)&#123;</div><div class="line">            <span class="keyword">while</span>(numbers[i]!=i)&#123;</div><div class="line">                <span class="keyword">if</span>(numbers[i]==numbers[numbers[i]])&#123;</div><div class="line">                    duplication[<span class="number">0</span>] = numbers[i];</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">int</span> temp=numbers[i];</div><div class="line">                numbers[i]=numbers[temp];</div><div class="line">                numbers[temp]=temp;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="52-构建乘积数组（数组）"><a href="#52-构建乘积数组（数组）" class="headerlink" title="52. 构建乘积数组（数组）"></a>52. 构建乘积数组（数组）</h2><p>给定一个数组A[0,1,…,n-1],请构建一个数组$B[0,1,…,n-1]$,其中B中的元素$B[i]=A[0]<em>A[1]</em>…<em>A[i-1]</em>A[i+1]<em>…</em>A[n-1]$。不能使用除法。</p>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-02 下午7.43.57.png" alt="屏幕快照 2017-08-02 下午7.43.57"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] multiply(<span class="keyword">int</span>[] A) &#123;</div><div class="line">        <span class="keyword">int</span> length = A.length;</div><div class="line">        <span class="keyword">int</span>[] B = <span class="keyword">new</span> <span class="keyword">int</span>[length];</div><div class="line">        <span class="keyword">if</span>(length!=<span class="number">0</span>)&#123;</div><div class="line">            B[<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;length;i++)&#123;</div><div class="line">                B[i]=B[i-<span class="number">1</span>]*A[i-<span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">int</span> temp=<span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=length-<span class="number">2</span>;j&gt;=<span class="number">0</span>;j--)&#123;                </div><div class="line">                temp = temp*A[j+<span class="number">1</span>];</div><div class="line">                B[j]=temp*B[j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> B;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="53-正则表达式匹配（字符串）"><a href="#53-正则表达式匹配（字符串）" class="headerlink" title="53. 正则表达式匹配（字符串）"></a>53. 正则表达式匹配（字符串）</h2><p>当模式中的第二个字符不是“*”时：</p>
<ol>
<li>如果字符串第一个字符和模式中的第一个字符相匹配，那么字符串和模式都后移一个字符，然后匹配剩余的。 </li>
<li>如果字符串第一个字符和模式中的第一个字符相不匹配，直接返回false。</li>
</ol>
<p>而当模式中的第二个字符是“*”时：</p>
<p>如果字符串第一个字符跟模式第一个字符不匹配，则模式后移2个字符，继续匹配。如果字符串第一个字符跟模式第一个字符匹配，可以有3种匹配方式： </p>
<ol>
<li>模式后移2字符，相当于$x*$被忽略； </li>
<li>字符串后移1字符，模式后移2字符； </li>
<li>字符串后移1字符，模式不变，即继续匹配字符下一位，因为*可以匹配多位；</li>
</ol>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">match</span><span class="params">(<span class="keyword">char</span>[] str, <span class="keyword">char</span>[] pattern)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (str == <span class="keyword">null</span> || pattern == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> strIndex = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> patternIndex = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> matchCore(str, strIndex, pattern, patternIndex);</div><div class="line">&#125;</div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matchCore</span><span class="params">(<span class="keyword">char</span>[] str, <span class="keyword">int</span> strIndex, <span class="keyword">char</span>[] pattern, <span class="keyword">int</span> patternIndex)</span> </span>&#123;</div><div class="line">    <span class="comment">//有效性检验：str到尾，pattern到尾，匹配成功</span></div><div class="line">    <span class="keyword">if</span> (strIndex == str.length &amp;&amp; patternIndex == pattern.length) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//pattern先到尾，匹配失败</span></div><div class="line">    <span class="keyword">if</span> (strIndex != str.length &amp;&amp; patternIndex == pattern.length) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//模式第2个是*，且字符串第1个跟模式第1个匹配,分3种匹配模式；如不匹配，模式后移2位</span></div><div class="line">    <span class="keyword">if</span> (patternIndex + <span class="number">1</span> &lt; pattern.length &amp;&amp; pattern[patternIndex + <span class="number">1</span>] == <span class="string">'*'</span>) &#123;</div><div class="line">        <span class="keyword">if</span> ((strIndex != str.length &amp;&amp; pattern[patternIndex] == str[strIndex]) || (pattern[patternIndex] == <span class="string">'.'</span> &amp;&amp; strIndex != str.length)) &#123;</div><div class="line">            <span class="keyword">return</span> matchCore(str, strIndex, pattern, patternIndex + <span class="number">2</span>)<span class="comment">//模式后移2，视为x*匹配0个字符</span></div><div class="line">                    || matchCore(str, strIndex + <span class="number">1</span>, pattern, patternIndex + <span class="number">2</span>)<span class="comment">//视为模式匹配1个字符</span></div><div class="line">                    || matchCore(str, strIndex + <span class="number">1</span>, pattern, patternIndex);<span class="comment">//*匹配1个，再匹配str中的下一个</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> matchCore(str, strIndex, pattern, patternIndex + <span class="number">2</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//模式第2个不是*，且字符串第1个跟模式第1个匹配，则都后移1位，否则直接返回false</span></div><div class="line">    <span class="keyword">if</span> ((strIndex != str.length &amp;&amp; pattern[patternIndex] == str[strIndex]) || (pattern[patternIndex] == <span class="string">'.'</span> &amp;&amp; strIndex != str.length)) &#123;</div><div class="line">        <span class="keyword">return</span> matchCore(str, strIndex + <span class="number">1</span>, pattern, patternIndex + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="54-表示数值的字符串（字符串）"><a href="#54-表示数值的字符串（字符串）" class="headerlink" title="54. 表示数值的字符串（字符串）"></a>54. 表示数值的字符串（字符串）</h2><p>请实现一个函数用来判断字符串是否表示数值（包括整数和小数）。例如，字符串”+100”,”5e2”,”-123”,”3.1416”和”-1E-16”都表示数值。 但是”12e”,”1a3.14”,”1.2.3”,”+-5”和”12e+4.3”都不是。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isNumeric</span><span class="params">(<span class="keyword">char</span>[] s)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(s.length==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">if</span>((s.length==<span class="number">1</span>)&amp;&amp;(s[<span class="number">0</span>]&lt;<span class="string">'0'</span>||s[<span class="number">0</span>]&gt;<span class="string">'9'</span>)) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">'+'</span>||s[<span class="number">0</span>]==<span class="string">'-'</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(s.length==<span class="number">2</span>&amp;&amp;(s[<span class="number">1</span>]==<span class="string">'.'</span>)) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>((s[<span class="number">0</span>]&lt;<span class="string">'0'</span>||s[<span class="number">0</span>]&gt;<span class="string">'9'</span>)&amp;&amp;s[<span class="number">0</span>]!=<span class="string">'.'</span>) <span class="keyword">return</span> <span class="keyword">false</span>;<span class="comment">//首位既不是符号也不是数字还不是小数点，当然是false</span></div><div class="line">        <span class="keyword">int</span> i = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>((i&lt;s.length)&amp;&amp;(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)) i++;</div><div class="line">        <span class="keyword">if</span>(i&lt;s.length&amp;&amp;s[i]==<span class="string">'.'</span>)&#123;</div><div class="line">            i++;</div><div class="line">            <span class="comment">//if(i&gt;=s.length) return false;</span></div><div class="line">            <span class="keyword">while</span>((i&lt;s.length)&amp;&amp;(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)) i++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(i&lt;s.length&amp;&amp;(s[i]==<span class="string">'e'</span>||s[i]==<span class="string">'E'</span>))&#123;</div><div class="line">            i++;</div><div class="line">            <span class="keyword">if</span>((i&lt;s.length)&amp;&amp;(s[i]==<span class="string">'+'</span>||s[i]==<span class="string">'-'</span>))&#123;</div><div class="line">                i++;</div><div class="line">                <span class="keyword">if</span>(i&lt;s.length) <span class="keyword">while</span>((i&lt;s.length)&amp;&amp;(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)) i++;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i&lt;s.length)&#123;</div><div class="line">                <span class="keyword">while</span>((i&lt;s.length)&amp;&amp;(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)) i++;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(i&lt;s.length) <span class="keyword">return</span> <span class="keyword">false</span>;            </div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="55-字符流中第一个不重复的数组（字符串）"><a href="#55-字符流中第一个不重复的数组（字符串）" class="headerlink" title="55. 字符流中第一个不重复的数组（字符串）"></a>55. 字符流中第一个不重复的数组（字符串）</h2><p>使用一个HashMap来统计字符出现的次数，同时用一个ArrayList来记录输入流，每次返回第一个出现一次的字符都是在这个ArrayList（输入流）中的字符作为key去map中查找。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">//HashMap来统计字符出现的次数</span></div><div class="line">    HashMap&lt;Character, Integer&gt; map=<span class="keyword">new</span> HashMap();</div><div class="line">    <span class="comment">//ArrayList来记录输入流</span></div><div class="line">    ArrayList&lt;Character&gt; list=<span class="keyword">new</span> ArrayList&lt;Character&gt;();</div><div class="line">    <span class="comment">//Insert one char from stringstream</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">char</span> ch)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(map.containsKey(ch))&#123;</div><div class="line">            <span class="keyword">int</span> time = map.get(ch);</div><div class="line">            time++;</div><div class="line">            map.put(ch,time);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            map.put(ch,<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        list.add(ch);</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    <span class="comment">//return the first appearence once char in current stringstream</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">FirstAppearingOnce</span><span class="params">()</span></span></div><div class="line">    &#123;   <span class="keyword">char</span> ch=<span class="string">'#'</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> k : list)&#123;<span class="comment">//list迭代</span></div><div class="line">            <span class="keyword">if</span>(map.get(k)==<span class="number">1</span>)&#123;</div><div class="line">                ch=k;</div><div class="line">                <span class="keyword">break</span>;<span class="comment">//得到第一个结果即可break</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        <span class="keyword">return</span> ch;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="56-链表中环的入口结点（链表）"><a href="#56-链表中环的入口结点（链表）" class="headerlink" title="56. 链表中环的入口结点（链表）"></a>56. 链表中环的入口结点（链表）</h2><p>一个链表中包含环，如何找到环的入口结点？例如在下图的链表中，环的入口结点是结点3。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午3.41.20.png" alt="屏幕快照 2017-07-25 下午3.41.20"></p>
<p>以3为例分析两个指针的移动规律。指针$P_1$和$P_2$在初始化时都指向链表的头结点。由于环中有4个结点，指针$P_1$先在链表上向前移动4步。接下来两个指针以相同的速度在链表上向前移动，直到它们相遇。它们相遇的结点正好是还的入口结点。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午3.46.08.png" alt="屏幕快照 2017-07-25 下午3.46.08"></p>
<p>剩下的问题就是如何得到环中结点的数目。我们可以使用一快一慢两个指针。若两个指针相遇，说明链表中有环。两个指针相遇的结点一定是在环中的。可以从这个结点出发，一边继续向前移动一边计数，当再次回到这个结点时，就可以得到环中结点数了<br>实现代码如下：</p>
<blockquote>
<p>java版本</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">	<span class="comment">//找到一快一满指针相遇处的节点，相遇的节点一定是在环中</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title">meetingNode</span><span class="params">(ListNode pHead)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(pHead == <span class="keyword">null</span>)&#123;<span class="keyword">return</span> <span class="keyword">null</span>;&#125;<span class="comment">//空链表处理</span></div><div class="line">        ListNode pslow = pHead.next;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(pslow == <span class="keyword">null</span>)&#123;<span class="keyword">return</span> <span class="keyword">null</span>;&#125;<span class="comment">//无环链表处理</span></div><div class="line">        </div><div class="line">        ListNode pfast = pslow.next;</div><div class="line">        <span class="keyword">while</span>(pfast!=<span class="keyword">null</span> &amp;&amp; pslow!=<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(pslow==pfast)&#123;<span class="keyword">return</span> pfast;&#125;</div><div class="line">            </div><div class="line">            pslow = pslow.next;<span class="comment">//慢指针</span></div><div class="line">            </div><div class="line">            pfast = pfast.next;</div><div class="line">            <span class="keyword">if</span>(pfast!=<span class="keyword">null</span>)&#123;</div><div class="line">                pfast = pfast.next;</div><div class="line">            &#125;<span class="comment">//块指针</span></div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">EntryNodeOfLoop</span><span class="params">(ListNode pHead)</span></span>&#123;</div><div class="line">        ListNode meetingNode=meetingNode(pHead);<span class="comment">//相遇结点</span></div><div class="line">        <span class="comment">//环的结点个数</span></div><div class="line">        <span class="keyword">if</span>(meetingNode==<span class="keyword">null</span>)&#123;<span class="keyword">return</span> <span class="keyword">null</span>;&#125;<span class="comment">//是否有环</span></div><div class="line">        <span class="keyword">int</span> nodesInLoop = <span class="number">1</span>;        </div><div class="line">        ListNode p1=meetingNode;</div><div class="line">        <span class="keyword">while</span>(pnext!=meetingNode)&#123;</div><div class="line">            p1=pnext;</div><div class="line">            ++nodesInLoop;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//p1慢指针,先往前走</span></div><div class="line">        p1=pHead;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nodesInLoop;i++)&#123;</div><div class="line">            p1=pnext;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//p1,p2同步走，相遇的地方即为环入口</span></div><div class="line">        ListNode p2=pHead;</div><div class="line">        <span class="keyword">while</span>(p1!=p2)&#123;</div><div class="line">            p1=pnext;</div><div class="line">            p2=p2.next;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> p1;</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python 版本</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"># -*- coding:utf-8 -*-</div><div class="line"># class ListNode:</div><div class="line">#     def __init__(self, x):</div><div class="line">#         self.val = x</div><div class="line">#         self.next = None</div><div class="line">class Solution:</div><div class="line">    def meetingNode(self,pHead):</div><div class="line">        if not pHead:</div><div class="line">            return None</div><div class="line">        pslow =pHead.next        </div><div class="line">        if not pslow:</div><div class="line">            return None</div><div class="line">        pfast = pslow.next</div><div class="line">        while pfast and pslow:</div><div class="line">            if pslow==pfast:</div><div class="line">                return pfast</div><div class="line">            pslow = pslow.next</div><div class="line">            </div><div class="line">            pfast = pfast.next</div><div class="line">            if pfast:</div><div class="line">                pfast=pfast.next</div><div class="line">        return None </div><div class="line">    def EntryNodeOfLoop(self, pHead):</div><div class="line">        meetingNode = self.meetingNode(pHead)</div><div class="line">        if not meetingNode:</div><div class="line">            return None</div><div class="line">        nodesInLoop = 1</div><div class="line">        p1 = meetingNode</div><div class="line">        while pnext!=meetingNode:</div><div class="line">            p1=pnext</div><div class="line">            nodesInLoop +=1</div><div class="line">        p1 = pHead</div><div class="line">        for i in xrange(0,nodesInLoop):</div><div class="line">            p1=pnext</div><div class="line">        p2=pHead</div><div class="line">        while p1!=p2:</div><div class="line">            p1=pnext</div><div class="line">            p2=p2.next</div><div class="line">        return p1</div></pre></td></tr></table></figure>
<h2 id="57-删除链表中重复的结点（链表）"><a href="#57-删除链表中重复的结点（链表）" class="headerlink" title="57. 删除链表中重复的结点（链表）"></a>57. 删除链表中重复的结点（链表）</h2><p>在一个排序的链表中，如何删除重复的结点？如在下图中重复结点被删除之后，链表如下图所示：<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-07-25 下午5.43.23.png" alt="屏幕快照 2017-07-25 下午5.43.23"></p>
<p>从头遍历整个链表。如果当前结点的值与下一个节点的值相同，那么它们就是重复的结点，都可以被删除。为了保证删除之后的链表仍然是相连的而没有中间断开，我们要把当前结点的前一个结点preNode和后面值比当前结点的值要大的结点相连。要确保preNode要始终与下一个没有重复的结点连接在一起。</p>
<p>实现代码如下：</p>
<blockquote>
<p>java递归版</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplication</span><span class="params">(ListNode pHead)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (pHead == <span class="keyword">null</span> || pHead.next == <span class="keyword">null</span>) &#123; <span class="comment">// 只有0个或1个结点，则返回</span></div><div class="line">            <span class="keyword">return</span> pHead;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (pHead.val == pHead.next.val) &#123; <span class="comment">// 当前结点是重复结点</span></div><div class="line">            ListNode pNode = pHead.next;</div><div class="line">            <span class="keyword">while</span> (pNode != <span class="keyword">null</span> &amp;&amp; pNode.val == pHead.val) &#123;</div><div class="line">                <span class="comment">// 跳过值与当前结点相同的全部结点,找到第一个与当前结点不同的结点</span></div><div class="line">                pNode = pNode.next;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> deleteDuplication(pNode); <span class="comment">// 从第一个与当前结点不同的结点开始递归</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// 当前结点不是重复结点</span></div><div class="line">            pHead.next = deleteDuplication(pHead.next); <span class="comment">// 保留当前结点，从下一个结点开始递归</span></div><div class="line">            <span class="keyword">return</span> pHead;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>python版本</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"><span class="comment"># class ListNode:</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.next = None</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteDuplication</span><span class="params">(self, pHead)</span>:</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pHead <span class="keyword">or</span> <span class="keyword">not</span> pHead.next:</div><div class="line">            <span class="keyword">return</span> pHead</div><div class="line">        <span class="keyword">if</span> pHead.val==pHead.next.val:</div><div class="line">            pNode = pHead.next</div><div class="line">            <span class="keyword">while</span> pNode <span class="keyword">and</span> pNode.val == pHead.val:</div><div class="line">                 pNode = pNode.next</div><div class="line">            <span class="keyword">return</span> self.deleteDuplication(pNode)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            pHead.next = self.deleteDuplication(pHead.next)</div><div class="line">            <span class="keyword">return</span> pHead</div></pre></td></tr></table></figure>
<blockquote>
<p>java非递归</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplication</span><span class="params">(ListNode pHead)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(pHead==<span class="keyword">null</span>)<span class="keyword">return</span> <span class="keyword">null</span>;         </div><div class="line">        ListNode preNode = <span class="keyword">null</span>;</div><div class="line">        ListNode node = pHead;</div><div class="line">        <span class="keyword">while</span>(node!=<span class="keyword">null</span>)&#123;</div><div class="line">            ListNode nextNode = node.next;</div><div class="line">            <span class="keyword">boolean</span> needDelete = <span class="keyword">false</span>;</div><div class="line">            <span class="comment">//需要删除重复节点的情况</span></div><div class="line">            <span class="keyword">if</span>(nextNode!=<span class="keyword">null</span>&amp;&amp;nextNode.val==node.val)&#123;</div><div class="line">                needDelete = <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//不重复结点不删除</span></div><div class="line">            <span class="keyword">if</span>(!needDelete)&#123;</div><div class="line">                preNode = node;</div><div class="line">                node = node.next;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//重复节点删除</span></div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">int</span> value = node.val;</div><div class="line">                ListNode toBeDel = node;</div><div class="line">                <span class="comment">//连续重复结点</span></div><div class="line">                <span class="keyword">while</span>(toBeDel != <span class="keyword">null</span> &amp;&amp; toBeDel.val == value)&#123;</div><div class="line">                    nextNode = toBeDel.next;</div><div class="line">                    toBeDel = nextNode;</div><div class="line">                    <span class="keyword">if</span>(preNode==<span class="keyword">null</span>)</div><div class="line">                        pHead = nextNode;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        preNode.next = nextNode;</div><div class="line">                    node = nextNode;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        <span class="keyword">return</span> pHead;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="58-二叉树的下一个结点（二叉树）"><a href="#58-二叉树的下一个结点（二叉树）" class="headerlink" title="58. 二叉树的下一个结点（二叉树）"></a>58. 二叉树的下一个结点（二叉树）</h2><p>给定一个二叉树和其中的一个结点，请找出中序遍历顺序的下一个结点并且返回。注意，树中的结点不仅包含左右子结点，同时包含指向父结点的指针。<br>给定一个二叉树和其中的一个结点，请找出中序遍历顺序的下一个结点并且返回。注意，树中的结点不仅包含左右子结点，同时包含指向父结点的指针。<br><img src="http://omu7tit09.bkt.clouddn.com/15017653485586.jpg" alt=""><br>我们可发现分成两大类：</p>
<ol>
<li>有右子树的，那么下个结点就是右子树最左边的点；（eg：D，B，E，A，F，C，G）</li>
<li>没有右子树的，也可以分成两类，a)是父节点左孩子（eg：N，I，L） ，那么父节点就是下一个节点 ； b)是父节点的右孩子（eg：H，J，K，M）找他的父节点的父节点的父节点…直到当前结点是其父节点的左孩子位置。如果没有eg：M，那么他就是尾节点。<blockquote>
<p>java</p>
</blockquote>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> TreeLinkNode <span class="title">GetNext</span><span class="params">(TreeLinkNode pNode)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(pNode==<span class="keyword">null</span>)&#123;<span class="keyword">return</span> <span class="keyword">null</span>;&#125;</div><div class="line">        <span class="keyword">if</span>(pNode.right!=<span class="keyword">null</span>)&#123;</div><div class="line">            pNode = pNode.right;</div><div class="line">            <span class="keyword">while</span>(pNode.left!=<span class="keyword">null</span>)&#123;</div><div class="line">                pNode = pNode.left;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> pNode;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span>(pNode.next!=<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(pNode.next.left==pNode)<span class="keyword">return</span> pNode.next;</div><div class="line">            pNode = pNode.next;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;             </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="59-对称的二叉树（二叉树）"><a href="#59-对称的二叉树（二叉树）" class="headerlink" title="59. 对称的二叉树（二叉树）"></a>59. 对称的二叉树（二叉树）</h2><p>请实现一个函数，用来判断一颗二叉树是不是对称的。注意，如果一个二叉树同此二叉树的镜像是同样的，定义其为对称的。</p>
<p>如果先序遍历的顺序分为两种先左后右和先右后左两种顺序遍历，如果两者相等说明二叉树是对称的二叉树</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isSymmetrical</span><span class="params">(TreeNode pRoot)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> isSymmetrical(pRoot,pRoot);        </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isSymmetrical</span><span class="params">(TreeNode pRoot1,TreeNode pRoot2)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(pRoot1==<span class="keyword">null</span>&amp;&amp;pRoot2==<span class="keyword">null</span>)<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">if</span>(pRoot1==<span class="keyword">null</span>||pRoot2==<span class="keyword">null</span>)<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">if</span>(pRoot1.val==pRoot2.val)&#123;<span class="keyword">return</span></div><div class="line">            isSymmetrical(pRoot1.left,pRoot2.right)&amp;&amp;isSymmetrical(pRoot1.right,pRoot2.left);</div><div class="line">        &#125;<span class="keyword">else</span> </div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="60-把二叉树打印成多行（二叉树）"><a href="#60-把二叉树打印成多行（二叉树）" class="headerlink" title="60. 把二叉树打印成多行（二叉树）"></a>60. 把二叉树打印成多行（二叉树）</h2><p>从上到下按层打印二叉树，同一层结点从左至右输出。每一层输出一行。<br>用end记录每层结点数目，start记录每层已经打印的数目，当start=end，重新建立list，开始下一层打印。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    ArrayList&lt;ArrayList&lt;Integer&gt; &gt; Print(TreeNode pRoot) &#123;</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">        <span class="keyword">if</span>(pRoot==<span class="keyword">null</span>)&#123;<span class="keyword">return</span> result;&#125;</div><div class="line">        LinkedList&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        queue.add(pRoot);</div><div class="line">        <span class="keyword">int</span> start = <span class="number">0</span>,end = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</div><div class="line">            TreeNode treenode = queue.remove();</div><div class="line">            list.add(treenode.val);</div><div class="line">            start++;</div><div class="line">            <span class="keyword">if</span>(treenode.left!=<span class="keyword">null</span>)&#123;queue.add(treenode.left);&#125;</div><div class="line">            <span class="keyword">if</span>(treenode.right!=<span class="keyword">null</span>)&#123;queue.add(treenode.right);&#125; </div><div class="line">            <span class="keyword">if</span>(start==end)&#123;</div><div class="line">                end = queue.size();</div><div class="line">                start = <span class="number">0</span>;</div><div class="line">                result.add(list);</div><div class="line">                list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="61-按S型打印二叉树（二叉树）"><a href="#61-按S型打印二叉树（二叉树）" class="headerlink" title="61. 按S型打印二叉树（二叉树）"></a>61. 按S型打印二叉树（二叉树）</h2><p>请实现一个函数按照之字形打印二叉树，即第一行按照从左到右的顺序打印，第二层按照从右至左的顺序打印，第三行按照从左到右的顺序打印，其他行以此类推。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午9.29.00.png" alt="屏幕快照 2017-08-03 上午9.29.00"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt; &gt; Print(TreeNode pRoot) &#123;</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; alist =<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">        <span class="keyword">if</span>(pRoot==<span class="keyword">null</span>)<span class="keyword">return</span> alist;</div><div class="line">        Stack&lt;TreeNode&gt; stack1 = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">        stack1.add(pRoot);</div><div class="line">        Stack&lt;TreeNode&gt; stack2 = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(!stack1.isEmpty()||!stack2.isEmpty())&#123;</div><div class="line">            <span class="keyword">if</span>(!stack1.isEmpty())&#123;</div><div class="line">                ArrayList&lt;Integer&gt; alist2 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();           </div><div class="line">                <span class="keyword">while</span>(!stack1.isEmpty())&#123;</div><div class="line">                    TreeNode treenode=stack1.pop();</div><div class="line">                    alist2.add(treenode.val);</div><div class="line">                    <span class="keyword">if</span>(treenode.left!=<span class="keyword">null</span>)&#123;</div><div class="line">                        stack2.add(treenode.left);</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span>(treenode.right!=<span class="keyword">null</span>)&#123;</div><div class="line">                        stack2.add(treenode.right);</div><div class="line">                    &#125;                </div><div class="line">                &#125;</div><div class="line">                alist.add(alist2);</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                ArrayList&lt;Integer&gt; alist2 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">                <span class="keyword">while</span>(!stack2.isEmpty())&#123;</div><div class="line">                    TreeNode treenode = stack2.pop();</div><div class="line">                    alist2.add(treenode.val);</div><div class="line">                    <span class="keyword">if</span>(treenode.right!=<span class="keyword">null</span>)&#123;</div><div class="line">                        stack1.add(treenode.right);                        </div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span>(treenode.left!=<span class="keyword">null</span>)&#123;</div><div class="line">                        stack1.add(treenode.left);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                alist.add(alist2);</div><div class="line">                </div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> alist;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="62-序列化与反序列化二叉树（二叉树）"><a href="#62-序列化与反序列化二叉树（二叉树）" class="headerlink" title="62. 序列化与反序列化二叉树（二叉树）"></a>62. 序列化与反序列化二叉树（二叉树）</h2><p>请实现两个函数，分别用来序列化和反序列化二叉树<br>算法思想：根据前序遍历规则完成序列化与反序列化。所谓序列化指的是遍历二叉树为字符串；所谓反序列化指的是依据字符串重新构造成二叉树。</p>
<p>依据前序遍历序列来序列化二叉树，因为前序遍历序列是从根结点开始的。当在遍历二叉树时碰到Null指针时，这些Null指针被序列化为一个特殊的字符“#”。另外，结点之间的数值用逗号隔开。</p>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午9.39.38.png" alt="屏幕快照 2017-08-03 上午9.39.38"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> index = -<span class="number">1</span>;   <span class="comment">//计数变量</span></div><div class="line">  </div><div class="line">    <span class="function">String <span class="title">Serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();<span class="comment">//新建字符串</span></div><div class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</div><div class="line">            sb.append(<span class="string">"#,"</span>);</div><div class="line">            <span class="keyword">return</span> sb.toString();</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//递归</span></div><div class="line">        sb.append(root.val + <span class="string">","</span>);</div><div class="line">        sb.append(Serialize(root.left));</div><div class="line">        sb.append(Serialize(root.right));</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">  &#125;</div><div class="line">    <span class="function">TreeNode <span class="title">Deserialize</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        index++;</div><div class="line">        <span class="comment">//int len = str.length();</span></div><div class="line">        <span class="comment">//if(index &gt;= len)&#123;</span></div><div class="line">        <span class="comment">//    return null;</span></div><div class="line">       <span class="comment">// &#125;</span></div><div class="line">        String[] strr = str.split(<span class="string">","</span>);</div><div class="line">        TreeNode node = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">if</span>(!strr[index].equals(<span class="string">"#"</span>))&#123;</div><div class="line">            node = <span class="keyword">new</span> TreeNode(Integer.valueOf(strr[index]));</div><div class="line">            node.left = Deserialize(str);</div><div class="line">            node.right = Deserialize(str);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="63-二叉搜索树的第K个结点（二叉树）"><a href="#63-二叉搜索树的第K个结点（二叉树）" class="headerlink" title="63. 二叉搜索树的第K个结点（二叉树）"></a>63. 二叉搜索树的第K个结点（二叉树）</h2><p>给定一颗二叉搜索树，请找出其中的第k大的结点。例如在下图二叉搜索树里，按结点数值大小顺序第三个结点的值是4.<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午9.44.34.png" alt="屏幕快照 2017-08-03 上午9.44.34"><br>如果按照中序遍历的顺序遍历一颗二叉搜索树，遍历序列的数值是递增排序的，只需要用中序遍历算法遍历一颗二叉搜索树，就很容易找出它的第K大的结点。</p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">   <span class="keyword">int</span> index = <span class="number">0</span>; <span class="comment">//计数器</span></div><div class="line">    <span class="function">TreeNode <span class="title">KthNode</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(root != <span class="keyword">null</span>)&#123; <span class="comment">//中序遍历寻找第k个</span></div><div class="line">            TreeNode node = KthNode(root.left,k);</div><div class="line">            <span class="keyword">if</span>(node != <span class="keyword">null</span>)</div><div class="line">                <span class="keyword">return</span> node;</div><div class="line">            index ++;</div><div class="line">            <span class="keyword">if</span>(index == k)</div><div class="line">                <span class="keyword">return</span> root;</div><div class="line">            node = KthNode(root.right,k);</div><div class="line">            <span class="keyword">if</span>(node != <span class="keyword">null</span>)</div><div class="line">                <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="64-数据流中的中位数（二叉树）"><a href="#64-数据流中的中位数（二叉树）" class="headerlink" title="64. 数据流中的中位数（二叉树）"></a>64. 数据流中的中位数（二叉树）</h2><p>Java的PriorityQueue是从JDK1.5开始提供的新的数据结构接口，默认内部是自然排序，结果为小顶堆，也可以自定义排序器，比如下面反转比较，完成大顶堆。</p>
<p>为了保证插入新数据和取中位数的时间效率都高效，这里使用大顶堆+小顶堆的容器，并且满足：</p>
<ol>
<li>两个堆中的数据数目差不能超过1，这样可以使中位数只会出现在两个堆的交接处；</li>
<li>大顶堆的所有数据都小于小顶堆，这样就满足了排序要求。</li>
</ol>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 上午10.55.51.png" alt="屏幕快照 2017-08-03 上午10.55.51"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Comparator;</div><div class="line"><span class="keyword">import</span> java.util.PriorityQueue;</div><div class="line"> </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</div><div class="line">    PriorityQueue&lt;Integer&gt; minHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;();</div><div class="line">    PriorityQueue&lt;Integer&gt; maxHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;(<span class="number">11</span>, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</div><div class="line">            <span class="comment">//PriorityQueue默认是小顶堆，实现大顶堆，需要反转默认排序器</span></div><div class="line">            <span class="keyword">return</span> o2.compareTo(o1); </div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Insert</span><span class="params">(Integer num)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (count %<span class="number">2</span> == <span class="number">0</span>) &#123;<span class="comment">//当数据总数为偶数时，新加入的元素，应当进入小根堆</span></div><div class="line">        <span class="comment">//（注意不是直接进入小根堆，而是经大根堆筛选后取大根堆中最大元素进入小根堆）</span></div><div class="line">        <span class="comment">//1.新加入的元素先入到大根堆，由大根堆筛选出堆中最大的元素</span></div><div class="line">        maxHeap.offer(num);</div><div class="line">        <span class="keyword">int</span> filteredMaxNum = maxHeap.poll();</div><div class="line">        <span class="comment">//2.筛选后的【大根堆中的最大元素】进入小根堆</span></div><div class="line">        minHeap.offer(filteredMaxNum);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//当数据总数为奇数时，新加入的元素，应当进入大根堆</span></div><div class="line">        <span class="comment">//（注意不是直接进入大根堆，而是经小根堆筛选后取小根堆中最大元素进入大根堆）</span></div><div class="line">        <span class="comment">//1.新加入的元素先入到小根堆，由小根堆筛选出堆中最小的元素</span></div><div class="line">        minHeap.offer(num);</div><div class="line">        <span class="keyword">int</span> filteredMinNum = minHeap.poll();</div><div class="line">        <span class="comment">//2.筛选后的【小根堆中的最小元素】进入大根堆</span></div><div class="line">        maxHeap.offer(filteredMinNum);</div><div class="line">    &#125;</div><div class="line">    count++;</div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="function"><span class="keyword">public</span> Double <span class="title">GetMedian</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (count %<span class="number">2</span> == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Double((minHeap.peek() + maxHeap.peek())) / <span class="number">2</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Double(minHeap.peek());</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="65-滑动窗口的最大值（数组）"><a href="#65-滑动窗口的最大值（数组）" class="headerlink" title="65. 滑动窗口的最大值（数组）"></a>65. 滑动窗口的最大值（数组）</h2><p>给定一个数组和滑动窗口的大小，找出所有滑动窗口里数值的最大值。例如，如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口的大小3，那么一共存在6个滑动窗口，他们的最大值分别为{4,4,6,6,6,5}； 针对数组{2,3,4,2,6,2,5,1}的滑动窗口有以下6个： {[2,3,4],2,6,2,5,1}， {2,[3,4,2],6,2,5,1}， {2,3,[4,2,6],2,5,1}， {2,3,4,[2,6,2],5,1}， {2,3,4,2,[6,2,5],1}， {2,3,4,2,6,[2,5,1]}。</p>
<p><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 下午1.37.31.png" alt="屏幕快照 2017-08-03 下午1.37.31"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.LinkedList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">     </div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">maxInWindows</span><span class="params">(<span class="keyword">int</span> [] num, <span class="keyword">int</span> size)</span></span></div><div class="line">    &#123;</div><div class="line">        ArrayList&lt;Integer&gt; ret = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span> (num == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ret;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (num.length &lt; size || size &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ret;</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        LinkedList&lt;Integer&gt; indexDeque = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="comment">//前size-1个中，前面比num[i]小的，对应下标从下标队列移除；</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - <span class="number">1</span>; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (!indexDeque.isEmpty() &amp;&amp; num[i] &gt; num[indexDeque.getLast()]) &#123;</div><div class="line">                indexDeque.removeLast();</div><div class="line">            &#125;</div><div class="line">            indexDeque.addLast(i);</div><div class="line">        &#125;        </div><div class="line">        <span class="comment">//从第size-1个开始；前面比num[i]小的，对应下标从下标队列移除；</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &lt; num.length; i++) &#123;</div><div class="line">            <span class="keyword">while</span>(!indexDeque.isEmpty() &amp;&amp; num[i] &gt; num[indexDeque.getLast()]) &#123;</div><div class="line">                indexDeque.removeLast();</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//把下一个下标加入队列中</span></div><div class="line">            indexDeque.addLast(i);</div><div class="line">            <span class="comment">//当第一个数字的下标与当前处理的数字的下标之差大于或者等于滑动窗口的大小时，这个数字已经从窗口划出，可以移除了；</span></div><div class="line">            <span class="keyword">if</span> (i - indexDeque.getFirst() + <span class="number">1</span> &gt; size) &#123;</div><div class="line">                indexDeque.removeFirst();</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//下标队列的第一个是滑动窗口最大值对应的下标；</span></div><div class="line">            ret.add(num[indexDeque.getFirst()]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="66-矩阵中的路径（数组）"><a href="#66-矩阵中的路径（数组）" class="headerlink" title="66. 矩阵中的路径（数组）"></a>66. 矩阵中的路径（数组）</h2><p>请设计一个函数，用来判断在一个矩阵中是否存在一条包含某字符串所有字符的路径。路径可以从矩阵中的任意一个格子开始，每一步可以在矩阵中向左，向右，向上，向下移动一个格子。如果一条路径经过了矩阵中的某一个格子，则该路径不能再进入该格子。 例如下面的矩阵中包含一条字符串”bcced”的路径，但是矩阵中不包含”abcb”路径，因为字符串的第一个字符b占据了矩阵中的第一行第二个格子之后，路径不能再次进入该格子。<br><img src="http://omu7tit09.bkt.clouddn.com/屏幕快照 2017-08-03 下午1.43.55.png" alt="屏幕快照 2017-08-03 下午1.43.55"></p>
<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">movingCount</span><span class="params">(<span class="keyword">int</span> threshold, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">boolean</span>[] visited=<span class="keyword">new</span> <span class="keyword">boolean</span>[rows*cols];</div><div class="line">        <span class="keyword">return</span> movingCountCore(threshold, rows, cols, <span class="number">0</span>,<span class="number">0</span>,visited);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">movingCountCore</span><span class="params">(<span class="keyword">int</span> threshold, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols,</span></span></div><div class="line">            <span class="keyword">int</span> row,<span class="keyword">int</span> col,<span class="keyword">boolean</span>[] visited) &#123;</div><div class="line">        <span class="keyword">if</span>(row&lt;<span class="number">0</span>||row&gt;=rows||col&lt;<span class="number">0</span>||col&gt;=cols) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> i=row*cols+col;</div><div class="line">        <span class="keyword">if</span>(visited[i]||!checkSum(threshold,row,col)) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        visited[i]=<span class="keyword">true</span>;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>+movingCountCore(threshold, rows, cols,row,col+<span class="number">1</span>,visited)</div><div class="line">                +movingCountCore(threshold, rows, cols,row,col-<span class="number">1</span>,visited)</div><div class="line">                +movingCountCore(threshold, rows, cols,row+<span class="number">1</span>,col,visited)</div><div class="line">                +movingCountCore(threshold, rows, cols,row-<span class="number">1</span>,col,visited);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkSum</span><span class="params">(<span class="keyword">int</span> threshold, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(row!=<span class="number">0</span>)&#123;</div><div class="line">            sum+=row%<span class="number">10</span>;</div><div class="line">            row=row/<span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span>(col!=<span class="number">0</span>)&#123;</div><div class="line">            sum+=col%<span class="number">10</span>;</div><div class="line">            col=col/<span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(sum&gt;threshold) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/数据结构/" rel="tag"># 数据结构</a>
          
            <a href="/tags/算法/" rel="tag"># 算法</a>
          
            <a href="/tags/剑指offer/" rel="tag"># 剑指offer</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/08/04/数据结构与算法题解（4）：二叉树题解/" rel="next" title="数据结构与算法题解（4）：二叉树题解">
                <i class="fa fa-chevron-left"></i> 数据结构与算法题解（4）：二叉树题解
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/08/06/数据结构与算法题解（6）：重点掌握/" rel="prev" title="数据结构与算法题解（6）：重点掌握">
                数据结构与算法题解（6）：重点掌握 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/img/v.png"
                alt="狗皮膏药" />
            
              <p class="site-author-name" itemprop="name">狗皮膏药</p>
              <p class="site-description motion-element" itemprop="description">在隆冬，我终于知道，我身上有一个不可战胜的夏天</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">137</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">176</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/zhang-hua-28-4/activities" target="_blank" title="知乎">
                    
                      <i class="fa fa-fw fa-graduation-cap"></i>知乎</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://omu7tit09.bkt.clouddn.com/WechatIMG4.jpeg" target="_blank" title="微信">
                    
                      <i class="fa fa-fw fa-wechat"></i>微信</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>

<div id="music163player">
   <iframe frameborder="yes" border="10" marginwidth="10" marginheight="10" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=29578009&auto=0&height=66"></iframe>
</div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-二维数组中的查找（数组）"><span class="nav-text">3. 二维数组中的查找（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-替换空格（字符串）"><span class="nav-text">4. 替换空格（字符串）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-从尾到头打印链表（链表）"><span class="nav-text">5. 从尾到头打印链表（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-重建二叉树（二叉树）"><span class="nav-text">6. 重建二叉树（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-用两个栈实现队列（栈与队列）"><span class="nav-text">7. 用两个栈实现队列（栈与队列）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-旋转数组的最小数字-数组"><span class="nav-text">8. 旋转数组的最小数字(数组)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-斐波那契数列-数组"><span class="nav-text">9. 斐波那契数列(数组)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-斐波那契数列"><span class="nav-text">9.1 斐波那契数列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-跳台阶"><span class="nav-text">9.2 跳台阶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-3-变态跳台阶"><span class="nav-text">9.3 变态跳台阶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-矩形覆盖"><span class="nav-text">9.4 矩形覆盖</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-二进制中1的个数-位运算"><span class="nav-text">10. 二进制中1的个数(位运算)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-数值的整数次方（位运算）"><span class="nav-text">11. 数值的整数次方（位运算）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-打印1到最大的n位数（null）"><span class="nav-text">12. 打印1到最大的n位数（null）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-在O-1-时间删除链表结点（链表）"><span class="nav-text">13. 在O(1)时间删除链表结点（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-调整数组顺序使奇数位于偶数前面（排序）"><span class="nav-text">14. 调整数组顺序使奇数位于偶数前面（排序）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-链表中倒数第K个结点（链表）"><span class="nav-text">15. 链表中倒数第K个结点（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-反转链表（链表）"><span class="nav-text">16. 反转链表（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-合并两个排序的链表（链表）"><span class="nav-text">17. 合并两个排序的链表（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-树的子结构（二叉树）"><span class="nav-text">18. 树的子结构（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-二叉树的镜像（二叉树）"><span class="nav-text">19. 二叉树的镜像（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-顺时针打印矩阵（数组）"><span class="nav-text">20. 顺时针打印矩阵（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-包含min函数的栈（栈）"><span class="nav-text">21.包含min函数的栈（栈）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-栈的压入、弹出序列（栈）"><span class="nav-text">22. 栈的压入、弹出序列（栈）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-从上往下打印二叉树（二叉树）"><span class="nav-text">23. 从上往下打印二叉树（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-二叉搜索树的后序遍历序列（二叉树）"><span class="nav-text">24. 二叉搜索树的后序遍历序列（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-二叉树中和为某一值的路径（二叉树）"><span class="nav-text">25. 二叉树中和为某一值的路径（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-复杂链表的复制（链表）"><span class="nav-text">26. 复杂链表的复制（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27-二叉搜素树与双向链表（二叉树）"><span class="nav-text">27. 二叉搜素树与双向链表（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-字符串的排列（字符串）"><span class="nav-text">28. 字符串的排列（字符串）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29-数组中出现次数超过一半的数字（数组）"><span class="nav-text">29. 数组中出现次数超过一半的数字（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30-最小的K个数（数组）"><span class="nav-text">30. 最小的K个数（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31-连续子数组的最大和（数组）"><span class="nav-text">31. 连续子数组的最大和（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32-从1到n整数中1出现的次数（数组）"><span class="nav-text">32.从1到n整数中1出现的次数（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33-把数组排成最小的数-数组"><span class="nav-text">33. 把数组排成最小的数(数组)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34-丑数（数组）"><span class="nav-text">34. 丑数（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35-第一次只出现一次的字符（字符串）"><span class="nav-text">35. 第一次只出现一次的字符（字符串）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#36-数组中的逆序对（数组）"><span class="nav-text">36. 数组中的逆序对（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#37-两个链表的第一个公共结点（链表）"><span class="nav-text">37. 两个链表的第一个公共结点（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#38-数字在排序数组中出现的次数（数组）"><span class="nav-text">38. 数字在排序数组中出现的次数（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39-二叉树的深度（二叉树）"><span class="nav-text">39. 二叉树的深度（二叉树）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#39-1-二叉树的深度"><span class="nav-text">39.1 二叉树的深度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#39-2-平衡二叉树"><span class="nav-text">39.2 平衡二叉树</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40-数组中只出现一次的数字（数组）"><span class="nav-text">40. 数组中只出现一次的数字（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#41-和为S的两个数字VS和为s的连续正数序列（数组）"><span class="nav-text">41.和为S的两个数字VS和为s的连续正数序列（数组）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#41-1-和为s的两个数字"><span class="nav-text">41.1 和为s的两个数字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#41-2-和为s的连续正数序列"><span class="nav-text">41.2 和为s的连续正数序列</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-翻转单词顺序VS左旋转字符串（字符串）"><span class="nav-text">42. 翻转单词顺序VS左旋转字符串（字符串）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#42-1-翻转单词顺序"><span class="nav-text">42.1 翻转单词顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#42-2-左旋转字符串"><span class="nav-text">42.2 左旋转字符串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#43-N个骰子的点数（null）"><span class="nav-text">43. N个骰子的点数（null）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#44-扑克牌的顺子（数组）"><span class="nav-text">44. 扑克牌的顺子（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#45-圆圈中最后剩下的数字（链表）"><span class="nav-text">45. 圆圈中最后剩下的数字（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#46-求1-2-…-n（逻辑）"><span class="nav-text">46. 求1+2+…..+n（逻辑）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#47-不用加减乘除做加法（位运算）"><span class="nav-text">47. 不用加减乘除做加法（位运算）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#49-把字符串转换成整数（字符串）"><span class="nav-text">49. 把字符串转换成整数（字符串）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#50-树中两个结点的最低公共祖先（二叉树）"><span class="nav-text">50.树中两个结点的最低公共祖先（二叉树）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#50-1-二叉搜索树的最低公共祖先"><span class="nav-text">50.1  二叉搜索树的最低公共祖先</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#50-2-普通二叉树的最低公共祖先"><span class="nav-text">50.2 普通二叉树的最低公共祖先</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#51-数组中重复的数字（数组）"><span class="nav-text">51. 数组中重复的数字（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#52-构建乘积数组（数组）"><span class="nav-text">52. 构建乘积数组（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#53-正则表达式匹配（字符串）"><span class="nav-text">53. 正则表达式匹配（字符串）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#54-表示数值的字符串（字符串）"><span class="nav-text">54. 表示数值的字符串（字符串）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#55-字符流中第一个不重复的数组（字符串）"><span class="nav-text">55. 字符流中第一个不重复的数组（字符串）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#56-链表中环的入口结点（链表）"><span class="nav-text">56. 链表中环的入口结点（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#57-删除链表中重复的结点（链表）"><span class="nav-text">57. 删除链表中重复的结点（链表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#58-二叉树的下一个结点（二叉树）"><span class="nav-text">58. 二叉树的下一个结点（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#59-对称的二叉树（二叉树）"><span class="nav-text">59. 对称的二叉树（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#60-把二叉树打印成多行（二叉树）"><span class="nav-text">60. 把二叉树打印成多行（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#61-按S型打印二叉树（二叉树）"><span class="nav-text">61. 按S型打印二叉树（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#62-序列化与反序列化二叉树（二叉树）"><span class="nav-text">62. 序列化与反序列化二叉树（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#63-二叉搜索树的第K个结点（二叉树）"><span class="nav-text">63. 二叉搜索树的第K个结点（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#64-数据流中的中位数（二叉树）"><span class="nav-text">64. 数据流中的中位数（二叉树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#65-滑动窗口的最大值（数组）"><span class="nav-text">65. 滑动窗口的最大值（数组）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#66-矩阵中的路径（数组）"><span class="nav-text">66. 矩阵中的路径（数组）</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      


      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">狗皮膏药</span>
</div>



        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    if (!String.prototype.endsWith) {
  String.prototype.endsWith = function(searchString, position) {
      var subjectString = this.toString();
      if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {
        position = subjectString.length;
      }
      position -= searchString.length;
      var lastIndex = subjectString.indexOf(searchString, position);
      return lastIndex !== -1 && lastIndex === position;
  };
}
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

  


</body>
</html>
